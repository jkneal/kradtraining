(function($){var $scrollTo=$.scrollTo=function(target,duration,settings){$(window).scrollTo(target,duration,settings)};$scrollTo.defaults={axis:"xy",duration:parseFloat($.fn.jquery)>=1.3?0:1,limit:true};$scrollTo.window=function(scope){return $(window)._scrollable()};$.fn._scrollable=function(){return this.map(function(){var elem=this,isWin=!elem.nodeName||$.inArray(elem.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!isWin)return elem;var doc=(elem.contentWindow||elem).document||
elem.ownerDocument||elem;return/webkit/i.test(navigator.userAgent)||doc.compatMode=="BackCompat"?doc.body:doc.documentElement})};$.fn.scrollTo=function(target,duration,settings){if(typeof duration=="object"){settings=duration;duration=0}if(typeof settings=="function")settings={onAfter:settings};if(target=="max")target=9E9;settings=$.extend({},$scrollTo.defaults,settings);duration=duration||settings.duration;settings.queue=settings.queue&&settings.axis.length>1;if(settings.queue)duration/=2;settings.offset=
both(settings.offset);settings.over=both(settings.over);return this._scrollable().each(function(){if(target==null)return;var elem=this,$elem=$(elem),targ=target,toff,attr={},win=$elem.is("html,body");switch(typeof targ){case "number":case "string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(targ)){targ=both(targ);break}targ=$(targ,this);if(!targ.length)return;case "object":if(targ.is||targ.style)toff=(targ=$(targ)).offset()}$.each(settings.axis.split(""),function(i,axis){var Pos=axis=="x"?"Left":"Top",
pos=Pos.toLowerCase(),key="scroll"+Pos,old=elem[key],max=$scrollTo.max(elem,axis);if(toff){attr[key]=toff[pos]+(win?0:old-$elem.offset()[pos]);if(settings.margin){attr[key]-=parseInt(targ.css("margin"+Pos))||0;attr[key]-=parseInt(targ.css("border"+Pos+"Width"))||0}attr[key]+=settings.offset[pos]||0;if(settings.over[pos])attr[key]+=targ[axis=="x"?"width":"height"]()*settings.over[pos]}else{var val=targ[pos];attr[key]=val.slice&&val.slice(-1)=="%"?parseFloat(val)/100*max:val}if(settings.limit&&/^\d+$/.test(attr[key]))attr[key]=
attr[key]<=0?0:Math.min(attr[key],max);if(!i&&settings.queue){if(old!=attr[key])animate(settings.onAfterFirst);delete attr[key]}});animate(settings.onAfter);function animate(callback){$elem.animate(attr,duration,settings.easing,callback&&function(){callback.call(this,targ,settings)})}}).end()};$scrollTo.max=function(elem,axis){var Dim=axis=="x"?"Width":"Height",scroll="scroll"+Dim;if(!$(elem).is("html,body"))return elem[scroll]-$(elem)[Dim.toLowerCase()]();var size="client"+Dim,html=elem.ownerDocument.documentElement,
body=elem.ownerDocument.body;return Math.max(html[scroll],body[scroll])-Math.min(html[size],body[size])};function both(val){return typeof val=="object"?val:{top:val,left:val}}})(jQuery);
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?"":e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!"".replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return"\\w+"};c=1}while(c--)if(k[c])p=p.replace(new RegExp("\\b"+e(c)+"\\b","g"),k[c]);return p}("h.i['1a']\x3dh.i['z'];h.O(h.i,{y:'D',z:9(x,t,b,c,d){6 h.i[h.i.y](x,t,b,c,d)},17:9(x,t,b,c,d){6 c*(t/\x3dd)*t+b},D:9(x,t,b,c,d){6-c*(t/\x3dd)*(t-2)+b},13:9(x,t,b,c,d){e((t/\x3dd/2)\x3c1)6 c/2*t*t+b;6-c/2*((--t)*(t-2)-1)+b},X:9(x,t,b,c,d){6 c*(t/\x3dd)*t*t+b},U:9(x,t,b,c,d){6 c*((t\x3dt/d-1)*t*t+1)+b},R:9(x,t,b,c,d){e((t/\x3dd/2)\x3c1)6 c/2*t*t*t+b;6 c/2*((t-\x3d2)*t*t+2)+b},N:9(x,t,b,c,d){6 c*(t/\x3dd)*t*t*t+b},M:9(x,t,b,c,d){6-c*((t\x3dt/d-1)*t*t*t-1)+b},L:9(x,t,b,c,d){e((t/\x3dd/2)\x3c1)6 c/2*t*t*t*t+b;6-c/2*((t-\x3d2)*t*t*t-2)+b},K:9(x,t,b,c,d){6 c*(t/\x3dd)*t*t*t*t+b},J:9(x,t,b,c,d){6 c*((t\x3dt/d-1)*t*t*t*t+1)+b},I:9(x,t,b,c,d){e((t/\x3dd/2)\x3c1)6 c/2*t*t*t*t*t+b;6 c/2*((t-\x3d2)*t*t*t*t+2)+b},G:9(x,t,b,c,d){6-c*8.C(t/d*(8.g/2))+c+b},15:9(x,t,b,c,d){6 c*8.n(t/d*(8.g/2))+b},12:9(x,t,b,c,d){6-c/2*(8.C(8.g*t/d)-1)+b},Z:9(x,t,b,c,d){6(t\x3d\x3d0)?b:c*8.j(2,10*(t/d-1))+b},Y:9(x,t,b,c,d){6(t\x3d\x3dd)?b+c:c*(-8.j(2,-10*t/d)+1)+b},W:9(x,t,b,c,d){e(t\x3d\x3d0)6 b;e(t\x3d\x3dd)6 b+c;e((t/\x3dd/2)\x3c1)6 c/2*8.j(2,10*(t-1))+b;6 c/2*(-8.j(2,-10*--t)+2)+b},V:9(x,t,b,c,d){6-c*(8.o(1-(t/\x3dd)*t)-1)+b},S:9(x,t,b,c,d){6 c*8.o(1-(t\x3dt/d-1)*t)+b},Q:9(x,t,b,c,d){e((t/\x3dd/2)\x3c1)6-c/2*(8.o(1-t*t)-1)+b;6 c/2*(8.o(1-(t-\x3d2)*t)+1)+b},P:9(x,t,b,c,d){f s\x3d1.l;f p\x3d0;f a\x3dc;e(t\x3d\x3d0)6 b;e((t/\x3dd)\x3d\x3d1)6 b+c;e(!p)p\x3dd*.3;e(a\x3c8.w(c)){a\x3dc;f s\x3dp/4}m f s\x3dp/(2*8.g)*8.r(c/a);6-(a*8.j(2,10*(t-\x3d1))*8.n((t*d-s)*(2*8.g)/p))+b},H:9(x,t,b,c,d){f s\x3d1.l;f p\x3d0;f a\x3dc;e(t\x3d\x3d0)6 b;e((t/\x3dd)\x3d\x3d1)6 b+c;e(!p)p\x3dd*.3;e(a\x3c8.w(c)){a\x3dc;f s\x3dp/4}m f s\x3dp/(2*8.g)*8.r(c/a);6 a*8.j(2,-10*t)*8.n((t*d-s)*(2*8.g)/p)+c+b},T:9(x,t,b,c,d){f s\x3d1.l;f p\x3d0;f a\x3dc;e(t\x3d\x3d0)6 b;e((t/\x3dd/2)\x3d\x3d2)6 b+c;e(!p)p\x3dd*(.3*1.5);e(a\x3c8.w(c)){a\x3dc;f s\x3dp/4}m f s\x3dp/(2*8.g)*8.r(c/a);e(t\x3c1)6-.5*(a*8.j(2,10*(t-\x3d1))*8.n((t*d-s)*(2*8.g)/p))+b;6 a*8.j(2,-10*(t-\x3d1))*8.n((t*d-s)*(2*8.g)/p)*.5+c+b},F:9(x,t,b,c,d,s){e(s\x3d\x3du)s\x3d1.l;6 c*(t/\x3dd)*t*((s+1)*t-s)+b},E:9(x,t,b,c,d,s){e(s\x3d\x3du)s\x3d1.l;6 c*((t\x3dt/d-1)*t*((s+1)*t+s)+1)+b},16:9(x,t,b,c,d,s){e(s\x3d\x3du)s\x3d1.l;e((t/\x3dd/2)\x3c1)6 c/2*(t*t*(((s*\x3d(1.B))+1)*t-s))+b;6 c/2*((t-\x3d2)*t*(((s*\x3d(1.B))+1)*t+s)+2)+b},A:9(x,t,b,c,d){6 c-h.i.v(x,d-t,0,c,d)+b},v:9(x,t,b,c,d){e((t/\x3dd)\x3c(1/2.k)){6 c*(7.q*t*t)+b}m e(t\x3c(2/2.k)){6 c*(7.q*(t-\x3d(1.5/2.k))*t+.k)+b}m e(t\x3c(2.5/2.k)){6 c*(7.q*(t-\x3d(2.14/2.k))*t+.11)+b}m{6 c*(7.q*(t-\x3d(2.18/2.k))*t+.19)+b}},1b:9(x,t,b,c,d){e(t\x3cd/2)6 h.i.A(x,t*2,0,c,d)*.5+b;6 h.i.v(x,t*2-d,0,c,d)*.5+c*.5+b}});",62,
74,"||||||return||Math|function|||||if|var|PI|jQuery|easing|pow|75|70158|else|sin|sqrt||5625|asin|||undefined|easeOutBounce|abs||def|swing|easeInBounce|525|cos|easeOutQuad|easeOutBack|easeInBack|easeInSine|easeOutElastic|easeInOutQuint|easeOutQuint|easeInQuint|easeInOutQuart|easeOutQuart|easeInQuart|extend|easeInElastic|easeInOutCirc|easeInOutCubic|easeOutCirc|easeInOutElastic|easeOutCubic|easeInCirc|easeInOutExpo|easeInCubic|easeOutExpo|easeInExpo||9375|easeInOutSine|easeInOutQuad|25|easeOutSine|easeInOutBack|easeInQuad|625|984375|jswing|easeInOutBounce".split("|"),
0,{}));
(function($){var feature={};feature.fileapi=$("\x3cinput type\x3d'file'/\x3e").get(0).files!==undefined;feature.formdata=window.FormData!==undefined;var hasProp=!!$.fn.prop;$.fn.attr2=function(){if(!hasProp)return this.attr.apply(this,arguments);var val=this.prop.apply(this,arguments);if(val&&val.jquery||typeof val==="string")return val;return this.attr.apply(this,arguments)};$.fn.ajaxSubmit=function(options){if(!this.length){log("ajaxSubmit: skipping submit process - no element selected");return this}var method,
action,url,$form=this;if(typeof options=="function")options={success:options};method=this.attr2("method");action=this.attr2("action");url=typeof action==="string"?$.trim(action):"";url=url||window.location.href||"";if(url)url=(url.match(/^([^#]+)/)||[])[1];options=$.extend(true,{url:url,success:$.ajaxSettings.success,type:method||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},options);var veto={};this.trigger("form-pre-serialize",[this,options,veto]);if(veto.veto){log("ajaxSubmit: submit vetoed via form-pre-serialize trigger");
return this}if(options.beforeSerialize&&options.beforeSerialize(this,options)===false){log("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var traditional=options.traditional;if(traditional===undefined)traditional=$.ajaxSettings.traditional;var elements=[];var qx,a=this.formToArray(options.semantic,elements);if(options.data){options.extraData=options.data;qx=$.param(options.data,traditional)}if(options.beforeSubmit&&options.beforeSubmit(a,this,options)===false){log("ajaxSubmit: submit aborted via beforeSubmit callback");
return this}this.trigger("form-submit-validate",[a,this,options,veto]);if(veto.veto){log("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var q=$.param(a,traditional);if(qx)q=q?q+"\x26"+qx:qx;if(options.type.toUpperCase()=="GET"){options.url+=(options.url.indexOf("?")>=0?"\x26":"?")+q;options.data=null}else options.data=q;var callbacks=[];if(options.resetForm)callbacks.push(function(){$form.resetForm()});if(options.clearForm)callbacks.push(function(){$form.clearForm(options.includeHidden)});
if(!options.dataType&&options.target){var oldSuccess=options.success||function(){};callbacks.push(function(data){var fn=options.replaceTarget?"replaceWith":"html";$(options.target)[fn](data).each(oldSuccess,arguments)})}else if(options.success)callbacks.push(options.success);options.success=function(data,status,xhr){var context=options.context||this;for(var i=0,max=callbacks.length;i<max;i++)callbacks[i].apply(context,[data,status,xhr||$form,$form])};var fileInputs=$('input[type\x3dfile]:enabled[value!\x3d""]',
this);var hasFileInputs=fileInputs.length>0;var mp="multipart/form-data";var multipart=$form.attr("enctype")==mp||$form.attr("encoding")==mp;var fileAPI=feature.fileapi&&feature.formdata;log("fileAPI :"+fileAPI);var shouldUseFrame=(hasFileInputs||multipart)&&!fileAPI;var jqxhr;if(options.iframe!==false&&(options.iframe||shouldUseFrame))if(options.closeKeepAlive)$.get(options.closeKeepAlive,function(){jqxhr=fileUploadIframe(a)});else jqxhr=fileUploadIframe(a);else if((hasFileInputs||multipart)&&fileAPI)jqxhr=
fileUploadXhr(a);else jqxhr=$.ajax(options);$form.removeData("jqxhr").data("jqxhr",jqxhr);for(var k=0;k<elements.length;k++)elements[k]=null;this.trigger("form-submit-notify",[this,options]);return this;function deepSerialize(extraData){var serialized=$.param(extraData).split("\x26");var len=serialized.length;var result=[];var i,part;for(i=0;i<len;i++){serialized[i]=serialized[i].replace(/\+/g," ");part=serialized[i].split("\x3d");result.push([decodeURIComponent(part[0]),decodeURIComponent(part[1])])}return result}
function fileUploadXhr(a){var formdata=new FormData;for(var i=0;i<a.length;i++)formdata.append(a[i].name,a[i].value);if(options.extraData){var serializedData=deepSerialize(options.extraData);for(i=0;i<serializedData.length;i++)if(serializedData[i])formdata.append(serializedData[i][0],serializedData[i][1])}options.data=null;var s=$.extend(true,{},$.ajaxSettings,options,{contentType:false,processData:false,cache:false,type:method||"POST"});if(options.uploadProgress)s.xhr=function(){var xhr=jQuery.ajaxSettings.xhr();
if(xhr.upload)xhr.upload.addEventListener("progress",function(event){var percent=0;var position=event.loaded||event.position;var total=event.total;if(event.lengthComputable)percent=Math.ceil(position/total*100);options.uploadProgress(event,position,total,percent)},false);return xhr};s.data=null;var beforeSend=s.beforeSend;s.beforeSend=function(xhr,o){o.data=formdata;if(beforeSend)beforeSend.call(this,xhr,o)};return $.ajax(s)}function fileUploadIframe(a){var form=$form[0],el,i,s,g,id,$io,io,xhr,sub,
n,timedOut,timeoutHandle;var deferred=$.Deferred();if(a)for(i=0;i<elements.length;i++){el=$(elements[i]);if(hasProp)el.prop("disabled",false);else el.removeAttr("disabled")}s=$.extend(true,{},$.ajaxSettings,options);s.context=s.context||s;id="jqFormIO"+(new Date).getTime();if(s.iframeTarget){$io=$(s.iframeTarget);n=$io.attr2("name");if(!n)$io.attr2("name",id);else id=n}else{$io=$('\x3ciframe name\x3d"'+id+'" src\x3d"'+s.iframeSrc+'" /\x3e');$io.css({position:"absolute",top:"-1000px",left:"-1000px"})}io=
$io[0];xhr={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(status){var e=status==="timeout"?"timeout":"aborted";log("aborting upload... "+e);this.aborted=1;try{if(io.contentWindow.document.execCommand)io.contentWindow.document.execCommand("Stop")}catch(ignore){}$io.attr("src",s.iframeSrc);xhr.error=e;if(s.error)s.error.call(s.context,xhr,e,status);if(g)$.event.trigger("ajaxError",
[xhr,s,e]);if(s.complete)s.complete.call(s.context,xhr,e)}};g=s.global;if(g&&0===$.active++)$.event.trigger("ajaxStart");if(g)$.event.trigger("ajaxSend",[xhr,s]);if(s.beforeSend&&s.beforeSend.call(s.context,xhr,s)===false){if(s.global)$.active--;deferred.reject();return deferred}if(xhr.aborted){deferred.reject();return deferred}sub=form.clk;if(sub){n=sub.name;if(n&&!sub.disabled){s.extraData=s.extraData||{};s.extraData[n]=sub.value;if(sub.type=="image"){s.extraData[n+".x"]=form.clk_x;s.extraData[n+
".y"]=form.clk_y}}}var CLIENT_TIMEOUT_ABORT=1;var SERVER_ABORT=2;function getDoc(frame){var doc=frame.contentWindow?frame.contentWindow.document:frame.contentDocument?frame.contentDocument:frame.document;return doc}var csrf_token=$("meta[name\x3dcsrf-token]").attr("content");var csrf_param=$("meta[name\x3dcsrf-param]").attr("content");if(csrf_param&&csrf_token){s.extraData=s.extraData||{};s.extraData[csrf_param]=csrf_token}function doSubmit(){var t=$form.attr2("target"),a=$form.attr2("action");form.setAttribute("target",
id);if(!method)form.setAttribute("method","POST");if(a!=s.url)form.setAttribute("action",s.url);if(!s.skipEncodingOverride&&(!method||/post/i.test(method)))$form.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});if(s.timeout)timeoutHandle=setTimeout(function(){timedOut=true;cb(CLIENT_TIMEOUT_ABORT)},s.timeout);function checkState(){try{var state=getDoc(io).readyState;log("state \x3d "+state);if(state&&state.toLowerCase()=="uninitialized")setTimeout(checkState,50)}catch(e){log("Server abort: ",
e," (",e.name,")");cb(SERVER_ABORT);if(timeoutHandle)clearTimeout(timeoutHandle);timeoutHandle=undefined}}var extraInputs=[];try{if(s.extraData)for(var n in s.extraData)if(s.extraData.hasOwnProperty(n))if($.isPlainObject(s.extraData[n])&&s.extraData[n].hasOwnProperty("name")&&s.extraData[n].hasOwnProperty("value"))extraInputs.push($('\x3cinput type\x3d"hidden" name\x3d"'+s.extraData[n].name+'"\x3e').val(s.extraData[n].value).appendTo(form)[0]);else extraInputs.push($('\x3cinput type\x3d"hidden" name\x3d"'+
n+'"\x3e').val(s.extraData[n]).appendTo(form)[0]);if(!s.iframeTarget){$io.appendTo("body");if(io.attachEvent)io.attachEvent("onload",cb);else io.addEventListener("load",cb,false)}setTimeout(checkState,15);try{form.submit()}catch(err){var submitFn=document.createElement("form").submit;submitFn.apply(form)}}finally{form.setAttribute("action",a);if(t)form.setAttribute("target",t);else $form.removeAttr("target");$(extraInputs).remove()}}if(s.forceSync)doSubmit();else setTimeout(doSubmit,10);var data,
doc,domCheckCount=50,callbackProcessed;function cb(e){if(xhr.aborted||callbackProcessed)return;try{doc=getDoc(io)}catch(ex){log("cannot access response document: ",ex);e=SERVER_ABORT}if(e===CLIENT_TIMEOUT_ABORT&&xhr){xhr.abort("timeout");deferred.reject(xhr,"timeout");return}else if(e==SERVER_ABORT&&xhr){xhr.abort("server abort");deferred.reject(xhr,"error","server abort");return}if(!doc||doc.location.href==s.iframeSrc)if(!timedOut)return;if(io.detachEvent)io.detachEvent("onload",cb);else io.removeEventListener("load",
cb,false);var status="success",errMsg;try{if(timedOut)throw"timeout";var isXml=s.dataType=="xml"||doc.XMLDocument||$.isXMLDoc(doc);log("isXml\x3d"+isXml);if(!isXml&&window.opera&&(doc.body===null||!doc.body.innerHTML))if(--domCheckCount){log("requeing onLoad callback, DOM not available");setTimeout(cb,250);return}var docRoot=doc.body?doc.body:doc.documentElement;xhr.responseText=docRoot?docRoot.innerHTML:null;xhr.responseXML=doc.XMLDocument?doc.XMLDocument:doc;if(isXml)s.dataType="xml";xhr.getResponseHeader=
function(header){var headers={"content-type":s.dataType};return headers[header]};if(docRoot){xhr.status=Number(docRoot.getAttribute("status"))||xhr.status;xhr.statusText=docRoot.getAttribute("statusText")||xhr.statusText}var dt=(s.dataType||"").toLowerCase();var scr=/(json|script|text)/.test(dt);if(scr||s.textarea){var ta=doc.getElementsByTagName("textarea")[0];if(ta){xhr.responseText=ta.value;xhr.status=Number(ta.getAttribute("status"))||xhr.status;xhr.statusText=ta.getAttribute("statusText")||xhr.statusText}else if(scr){var pre=
doc.getElementsByTagName("pre")[0];var b=doc.getElementsByTagName("body")[0];if(pre)xhr.responseText=pre.textContent?pre.textContent:pre.innerText;else if(b)xhr.responseText=b.textContent?b.textContent:b.innerText}}else if(dt=="xml"&&!xhr.responseXML&&xhr.responseText)xhr.responseXML=toXml(xhr.responseText);try{data=httpData(xhr,dt,s)}catch(err){status="parsererror";xhr.error=errMsg=err||status}}catch(err){log("error caught: ",err);status="error";xhr.error=errMsg=err||status}if(xhr.aborted){log("upload aborted");
status=null}if(xhr.status)status=xhr.status>=200&&xhr.status<300||xhr.status===304?"success":"error";if(status==="success"){if(s.success)s.success.call(s.context,data,"success",xhr);deferred.resolve(xhr.responseText,"success",xhr);if(g)$.event.trigger("ajaxSuccess",[xhr,s])}else if(status){if(errMsg===undefined)errMsg=xhr.statusText;if(s.error)s.error.call(s.context,xhr,status,errMsg);deferred.reject(xhr,"error",errMsg);if(g)$.event.trigger("ajaxError",[xhr,s,errMsg])}if(g)$.event.trigger("ajaxComplete",
[xhr,s]);if(g&&!--$.active)$.event.trigger("ajaxStop");if(s.complete)s.complete.call(s.context,xhr,status);callbackProcessed=true;if(s.timeout)clearTimeout(timeoutHandle);setTimeout(function(){if(!s.iframeTarget)$io.remove();xhr.responseXML=null},100)}var toXml=$.parseXML||function(s,doc){if(window.ActiveXObject){doc=new ActiveXObject("Microsoft.XMLDOM");doc.async="false";doc.loadXML(s)}else doc=(new DOMParser).parseFromString(s,"text/xml");return doc&&doc.documentElement&&doc.documentElement.nodeName!=
"parsererror"?doc:null};var parseJSON=$.parseJSON||function(s){return window["eval"]("("+s+")")};var httpData=function(xhr,type,s){var ct=xhr.getResponseHeader("content-type")||"",xml=type==="xml"||!type&&ct.indexOf("xml")>=0,data=xml?xhr.responseXML:xhr.responseText;if(xml&&data.documentElement.nodeName==="parsererror")if($.error)$.error("parsererror");if(s&&s.dataFilter)data=s.dataFilter(data,type);if(typeof data==="string")if(type==="json"||!type&&ct.indexOf("json")>=0)data=parseJSON(data);else if(type===
"script"||!type&&ct.indexOf("javascript")>=0)$.globalEval(data);return data};return deferred}};$.fn.ajaxForm=function(options){options=options||{};options.delegation=options.delegation&&$.isFunction($.fn.on);if(!options.delegation&&this.length===0){var o={s:this.selector,c:this.context};if(!$.isReady&&o.s){log("DOM not ready, queuing ajaxForm");$(function(){$(o.s,o.c).ajaxForm(options)});return this}log("terminating; zero elements found by selector"+($.isReady?"":" (DOM not ready)"));return this}if(options.delegation){$(document).off("submit.form-plugin",
this.selector,doAjaxSubmit).off("click.form-plugin",this.selector,captureSubmittingElement).on("submit.form-plugin",this.selector,options,doAjaxSubmit).on("click.form-plugin",this.selector,options,captureSubmittingElement);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",options,doAjaxSubmit).bind("click.form-plugin",options,captureSubmittingElement)};function doAjaxSubmit(e){var options=e.data;if(!e.isDefaultPrevented()){e.preventDefault();$(this).ajaxSubmit(options)}}function captureSubmittingElement(e){var target=
e.target;var $el=$(target);if(!$el.is("[type\x3dsubmit],[type\x3dimage]")){var t=$el.closest("[type\x3dsubmit]");if(t.length===0)return;target=t[0]}var form=this;form.clk=target;if(target.type=="image")if(e.offsetX!==undefined){form.clk_x=e.offsetX;form.clk_y=e.offsetY}else if(typeof $.fn.offset=="function"){var offset=$el.offset();form.clk_x=e.pageX-offset.left;form.clk_y=e.pageY-offset.top}else{form.clk_x=e.pageX-target.offsetLeft;form.clk_y=e.pageY-target.offsetTop}setTimeout(function(){form.clk=
form.clk_x=form.clk_y=null},100)}$.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};$.fn.formToArray=function(semantic,elements){var a=[];if(this.length===0)return a;var form=this[0];var els=semantic?form.getElementsByTagName("*"):form.elements;if(!els)return a;var i,j,n,v,el,max,jmax;for(i=0,max=els.length;i<max;i++){el=els[i];n=el.name;if(!n||el.disabled)continue;if(semantic&&form.clk&&el.type=="image"){if(form.clk==el){a.push({name:n,value:$(el).val(),type:el.type});
a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y})}continue}v=$.fieldValue(el,true);if(v&&v.constructor==Array){if(elements)elements.push(el);for(j=0,jmax=v.length;j<jmax;j++)a.push({name:n,value:v[j]})}else if(feature.fileapi&&el.type=="file"){if(elements)elements.push(el);var files=el.files;if(files.length)for(j=0;j<files.length;j++)a.push({name:n,value:files[j],type:el.type});else a.push({name:n,value:"",type:el.type})}else if(v!==null&&typeof v!="undefined"){if(elements)elements.push(el);
a.push({name:n,value:v,type:el.type,required:el.required})}}if(!semantic&&form.clk){var $input=$(form.clk),input=$input[0];n=input.name;if(n&&!input.disabled&&input.type=="image"){a.push({name:n,value:$input.val()});a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y})}}return a};$.fn.formSerialize=function(semantic){return $.param(this.formToArray(semantic))};$.fn.fieldSerialize=function(successful){var a=[];this.each(function(){var n=this.name;if(!n)return;var v=$.fieldValue(this,
successful);if(v&&v.constructor==Array)for(var i=0,max=v.length;i<max;i++)a.push({name:n,value:v[i]});else if(v!==null&&typeof v!="undefined")a.push({name:this.name,value:v})});return $.param(a)};$.fn.fieldValue=function(successful){for(var val=[],i=0,max=this.length;i<max;i++){var el=this[i];var v=$.fieldValue(el,successful);if(v===null||typeof v=="undefined"||v.constructor==Array&&!v.length)continue;if(v.constructor==Array)$.merge(val,v);else val.push(v)}return val};$.fieldValue=function(el,successful){var n=
el.name,t=el.type,tag=el.tagName.toLowerCase();if(successful===undefined)successful=true;if(successful&&(!n||el.disabled||t=="reset"||t=="button"||(t=="checkbox"||t=="radio")&&!el.checked||(t=="submit"||t=="image")&&el.form&&el.form.clk!=el||tag=="select"&&el.selectedIndex==-1))return null;if(tag=="select"){var index=el.selectedIndex;if(index<0)return null;var a=[],ops=el.options;var one=t=="select-one";var max=one?index+1:ops.length;for(var i=one?index:0;i<max;i++){var op=ops[i];if(op.selected){var v=
op.value;if(!v)v=op.attributes&&op.attributes["value"]&&!op.attributes["value"].specified?op.text:op.value;if(one)return v;a.push(v)}}return a}return $(el).val()};$.fn.clearForm=function(includeHidden){return this.each(function(){$("input,select,textarea",this).clearFields(includeHidden)})};$.fn.clearFields=$.fn.clearInputs=function(includeHidden){var re=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var t=this.type,tag=this.tagName.toLowerCase();
if(re.test(t)||tag=="textarea")this.value="";else if(t=="checkbox"||t=="radio")this.checked=false;else if(tag=="select")this.selectedIndex=-1;else if(t=="file")if(/MSIE/.test(navigator.userAgent))$(this).replaceWith($(this).clone(true));else $(this).val("");else if(includeHidden)if(includeHidden===true&&/hidden/.test(t)||typeof includeHidden=="string"&&$(this).is(includeHidden))this.value=""})};$.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||typeof this.reset==
"object"&&!this.reset.nodeType)this.reset()})};$.fn.enable=function(b){if(b===undefined)b=true;return this.each(function(){this.disabled=!b})};$.fn.selected=function(select){if(select===undefined)select=true;return this.each(function(){var t=this.type;if(t=="checkbox"||t=="radio")this.checked=select;else if(this.tagName.toLowerCase()=="option"){var $sel=$(this).parent("select");if(select&&$sel[0]&&$sel[0].type=="select-one")$sel.find("option").selected(false);this.selected=select}})};$.fn.ajaxSubmit.debug=
false;function log(){if(!$.fn.ajaxSubmit.debug)return;var msg="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log)window.console.log(msg);else if(window.opera&&window.opera.postError)window.opera.postError(msg)}})(jQuery);
(function(window,undefined){var Globalize,regexHex,regexInfinity,regexParseFloat,regexTrim,arrayIndexOf,endsWith,extend,isArray,isFunction,isObject,startsWith,trim,truncate,zeroPad,appendPreOrPostMatch,expandFormat,formatDate,formatNumber,getTokenRegExp,getEra,getEraYear,parseExact,parseNegativePattern;Globalize=function(cultureSelector){return new Globalize.prototype.init(cultureSelector)};if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined")module.exports=Globalize;
else window.Globalize=Globalize;Globalize.cultures={};Globalize.prototype={constructor:Globalize,init:function(cultureSelector){this.cultures=Globalize.cultures;this.cultureSelector=cultureSelector;return this}};Globalize.prototype.init.prototype=Globalize.prototype;Globalize.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:false,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-","NaN":"NaN",negativeInfinity:"-Infinity",
positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March",
"April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{"name":"A.D.","start":null,"offset":0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}};Globalize.cultures["default"].calendar=
Globalize.cultures["default"].calendars.standard;Globalize.cultures.en=Globalize.cultures["default"];Globalize.cultureSelector="en";regexHex=/^0x[a-f0-9]+$/i;regexInfinity=/^[+\-]?infinity$/i;regexParseFloat=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/;regexTrim=/^\s+|\s+$/g;arrayIndexOf=function(array,item){if(array.indexOf)return array.indexOf(item);for(var i=0,length=array.length;i<length;i++)if(array[i]===item)return i;return-1};endsWith=function(value,pattern){return value.substr(value.length-pattern.length)===
pattern};extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}if(typeof target!=="object"&&!isFunction(target))target={};for(;i<length;i++)if((options=arguments[i])!=null)for(name in options){src=target[name];copy=options[name];if(target===copy)continue;if(deep&&copy&&(isObject(copy)||(copyIsArray=isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&
isArray(src)?src:[]}else clone=src&&isObject(src)?src:{};target[name]=extend(deep,clone,copy)}else if(copy!==undefined)target[name]=copy}return target};isArray=Array.isArray||function(obj){return Object.prototype.toString.call(obj)==="[object Array]"};isFunction=function(obj){return Object.prototype.toString.call(obj)==="[object Function]"};isObject=function(obj){return Object.prototype.toString.call(obj)==="[object Object]"};startsWith=function(value,pattern){return value.indexOf(pattern)===0};trim=
function(value){return(value+"").replace(regexTrim,"")};truncate=function(value){if(isNaN(value))return NaN;return Math[value<0?"ceil":"floor"](value)};zeroPad=function(str,count,left){var l;for(l=str.length;l<count;l+=1)str=left?"0"+str:str+"0";return str};appendPreOrPostMatch=function(preMatch,strings){var quoteCount=0,escaped=false;for(var i=0,il=preMatch.length;i<il;i++){var c=preMatch.charAt(i);switch(c){case "'":if(escaped)strings.push("'");else quoteCount++;escaped=false;break;case "\\":if(escaped)strings.push("\\");
escaped=!escaped;break;default:strings.push(c);escaped=false;break}}return quoteCount};expandFormat=function(cal,format){format=format||"F";var pattern,patterns=cal.patterns,len=format.length;if(len===1){pattern=patterns[format];if(!pattern)throw"Invalid date format string '"+format+"'.";format=pattern}else if(len===2&&format.charAt(0)==="%")format=format.charAt(1);return format};formatDate=function(value,format,culture){var cal=culture.calendar,convert=cal.convert,ret;if(!format||!format.length||
format==="i"){if(culture&&culture.name.length)if(convert)ret=formatDate(value,cal.patterns.F,culture);else{var eraDate=new Date(value.getTime()),era=getEra(value,cal.eras);eraDate.setFullYear(getEraYear(value,cal,era));ret=eraDate.toLocaleString()}else ret=value.toString();return ret}var eras=cal.eras,sortable=format==="s";format=expandFormat(cal,format);ret=[];var hour,zeros=["0","00","000"],foundDay,checkedDay,dayPartRegExp=/([^d]|^)(d|dd)([^d]|$)/g,quoteCount=0,tokenRegExp=getTokenRegExp(),converted;
function padZeros(num,c){var r,s=num+"";if(c>1&&s.length<c){r=zeros[c-2]+s;return r.substr(r.length-c,c)}else r=s;return r}function hasDay(){if(foundDay||checkedDay)return foundDay;foundDay=dayPartRegExp.test(format);checkedDay=true;return foundDay}function getPart(date,part){if(converted)return converted[part];switch(part){case 0:return date.getFullYear();case 1:return date.getMonth();case 2:return date.getDate();default:throw"Invalid part value "+part;}}if(!sortable&&convert)converted=convert.fromGregorian(value);
for(;;){var index=tokenRegExp.lastIndex,ar=tokenRegExp.exec(format);var preMatch=format.slice(index,ar?ar.index:format.length);quoteCount+=appendPreOrPostMatch(preMatch,ret);if(!ar)break;if(quoteCount%2){ret.push(ar[0]);continue}var current=ar[0],clength=current.length;switch(current){case "ddd":case "dddd":var names=clength===3?cal.days.namesAbbr:cal.days.names;ret.push(names[value.getDay()]);break;case "d":case "dd":foundDay=true;ret.push(padZeros(getPart(value,2),clength));break;case "MMM":case "MMMM":var part=
getPart(value,1);ret.push(cal.monthsGenitive&&hasDay()?cal.monthsGenitive[clength===3?"namesAbbr":"names"][part]:cal.months[clength===3?"namesAbbr":"names"][part]);break;case "M":case "MM":ret.push(padZeros(getPart(value,1)+1,clength));break;case "y":case "yy":case "yyyy":part=converted?converted[0]:getEraYear(value,cal,getEra(value,eras),sortable);if(clength<4)part=part%100;ret.push(padZeros(part,clength));break;case "h":case "hh":hour=value.getHours()%12;if(hour===0)hour=12;ret.push(padZeros(hour,
clength));break;case "H":case "HH":ret.push(padZeros(value.getHours(),clength));break;case "m":case "mm":ret.push(padZeros(value.getMinutes(),clength));break;case "s":case "ss":ret.push(padZeros(value.getSeconds(),clength));break;case "t":case "tt":part=value.getHours()<12?cal.AM?cal.AM[0]:" ":cal.PM?cal.PM[0]:" ";ret.push(clength===1?part.charAt(0):part);break;case "f":case "ff":case "fff":ret.push(padZeros(value.getMilliseconds(),3).substr(0,clength));break;case "z":case "zz":hour=value.getTimezoneOffset()/
60;ret.push((hour<=0?"+":"-")+padZeros(Math.floor(Math.abs(hour)),clength));break;case "zzz":hour=value.getTimezoneOffset()/60;ret.push((hour<=0?"+":"-")+padZeros(Math.floor(Math.abs(hour)),2)+":"+padZeros(Math.abs(value.getTimezoneOffset()%60),2));break;case "g":case "gg":if(cal.eras)ret.push(cal.eras[getEra(value,eras)].name);break;case "/":ret.push(cal["/"]);break;default:throw"Invalid date format pattern '"+current+"'.";}}return ret.join("")};(function(){var expandNumber;expandNumber=function(number,
precision,formatInfo){var groupSizes=formatInfo.groupSizes,curSize=groupSizes[0],curGroupIndex=1,factor=Math.pow(10,precision),rounded=Math.round(number*factor)/factor;if(!isFinite(rounded))rounded=number;number=rounded;var numberString=number+"",right="",split=numberString.split(/e/i),exponent=split.length>1?parseInt(split[1],10):0;numberString=split[0];split=numberString.split(".");numberString=split[0];right=split.length>1?split[1]:"";var l;if(exponent>0){right=zeroPad(right,exponent,false);numberString+=
right.slice(0,exponent);right=right.substr(exponent)}else if(exponent<0){exponent=-exponent;numberString=zeroPad(numberString,exponent+1,true);right=numberString.slice(-exponent,numberString.length)+right;numberString=numberString.slice(0,-exponent)}if(precision>0)right=formatInfo["."]+(right.length>precision?right.slice(0,precision):zeroPad(right,precision));else right="";var stringIndex=numberString.length-1,sep=formatInfo[","],ret="";while(stringIndex>=0){if(curSize===0||curSize>stringIndex)return numberString.slice(0,
stringIndex+1)+(ret.length?sep+ret+right:right);ret=numberString.slice(stringIndex-curSize+1,stringIndex+1)+(ret.length?sep+ret:"");stringIndex-=curSize;if(curGroupIndex<groupSizes.length){curSize=groupSizes[curGroupIndex];curGroupIndex++}}return numberString.slice(0,stringIndex+1)+sep+ret+right};formatNumber=function(value,format,culture){if(!isFinite(value)){if(value===Infinity)return culture.numberFormat.positiveInfinity;if(value===-Infinity)return culture.numberFormat.negativeInfinity;return culture.numberFormat["NaN"]}if(!format||
format==="i")return culture.name.length?value.toLocaleString():value.toString();format=format||"D";var nf=culture.numberFormat,number=Math.abs(value),precision=-1,pattern;if(format.length>1)precision=parseInt(format.slice(1),10);var current=format.charAt(0).toUpperCase(),formatInfo;switch(current){case "D":pattern="n";number=truncate(number);if(precision!==-1)number=zeroPad(""+number,precision,true);if(value<0)number="-"+number;break;case "N":formatInfo=nf;case "C":formatInfo=formatInfo||nf.currency;
case "P":formatInfo=formatInfo||nf.percent;pattern=value<0?formatInfo.pattern[0]:formatInfo.pattern[1]||"n";if(precision===-1)precision=formatInfo.decimals;number=expandNumber(number*(current==="P"?100:1),precision,formatInfo);break;default:throw"Bad number format specifier: "+current;}var patternParts=/n|\$|-|%/g,ret="";for(;;){var index=patternParts.lastIndex,ar=patternParts.exec(pattern);ret+=pattern.slice(index,ar?ar.index:pattern.length);if(!ar)break;switch(ar[0]){case "n":ret+=number;break;
case "$":ret+=nf.currency.symbol;break;case "-":if(/[1-9]/.test(number))ret+=nf["-"];break;case "%":ret+=nf.percent.symbol;break}}return ret}})();getTokenRegExp=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};getEra=function(date,eras){if(!eras)return 0;var start,ticks=date.getTime();for(var i=0,l=eras.length;i<l;i++){start=eras[i].start;if(start===null||ticks>=start)return i}return 0};getEraYear=function(date,cal,era,sortable){var year=
date.getFullYear();if(!sortable&&cal.eras)year-=cal.eras[era].offset;return year};(function(){var expandYear,getDayIndex,getMonthIndex,getParseRegExp,outOfRange,toUpper,toUpperArray;expandYear=function(cal,year){if(year<100){var now=new Date,era=getEra(now),curr=getEraYear(now,cal,era),twoDigitYearMax=cal.twoDigitYearMax;twoDigitYearMax=typeof twoDigitYearMax==="string"?(new Date).getFullYear()%100+parseInt(twoDigitYearMax,10):twoDigitYearMax;year+=curr-curr%100;if(year>twoDigitYearMax)year-=100}return year};
getDayIndex=function(cal,value,abbr){var ret,days=cal.days,upperDays=cal._upperDays;if(!upperDays)cal._upperDays=upperDays=[toUpperArray(days.names),toUpperArray(days.namesAbbr),toUpperArray(days.namesShort)];value=toUpper(value);if(abbr){ret=arrayIndexOf(upperDays[1],value);if(ret===-1)ret=arrayIndexOf(upperDays[2],value)}else ret=arrayIndexOf(upperDays[0],value);return ret};getMonthIndex=function(cal,value,abbr){var months=cal.months,monthsGen=cal.monthsGenitive||cal.months,upperMonths=cal._upperMonths,
upperMonthsGen=cal._upperMonthsGen;if(!upperMonths){cal._upperMonths=upperMonths=[toUpperArray(months.names),toUpperArray(months.namesAbbr)];cal._upperMonthsGen=upperMonthsGen=[toUpperArray(monthsGen.names),toUpperArray(monthsGen.namesAbbr)]}value=toUpper(value);var i=arrayIndexOf(abbr?upperMonths[1]:upperMonths[0],value);if(i<0)i=arrayIndexOf(abbr?upperMonthsGen[1]:upperMonthsGen[0],value);return i};getParseRegExp=function(cal,format){var re=cal._parseRegExp;if(!re)cal._parseRegExp=re={};else{var reFormat=
re[format];if(reFormat)return reFormat}var expFormat=expandFormat(cal,format).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),regexp=["^"],groups=[],index=0,quoteCount=0,tokenRegExp=getTokenRegExp(),match;while((match=tokenRegExp.exec(expFormat))!==null){var preMatch=expFormat.slice(index,match.index);index=tokenRegExp.lastIndex;quoteCount+=appendPreOrPostMatch(preMatch,regexp);if(quoteCount%2){regexp.push(match[0]);continue}var m=match[0],len=m.length,add;switch(m){case "dddd":case "ddd":case "MMMM":case "MMM":case "gg":case "g":add=
"(\\D+)";break;case "tt":case "t":add="(\\D*)";break;case "yyyy":case "fff":case "ff":case "f":add="(\\d{"+len+"})";break;case "dd":case "d":case "MM":case "M":case "yy":case "y":case "HH":case "H":case "hh":case "h":case "mm":case "m":case "ss":case "s":add="(\\d\\d?)";break;case "zzz":add="([+-]?\\d\\d?:\\d{2})";break;case "zz":case "z":add="([+-]?\\d\\d?)";break;case "/":add="(\\/)";break;default:throw"Invalid date format pattern '"+m+"'.";}if(add)regexp.push(add);groups.push(match[0])}appendPreOrPostMatch(expFormat.slice(index),
regexp);regexp.push("$");var regexpStr=regexp.join("").replace(/\s+/g,"\\s+"),parseRegExp={"regExp":regexpStr,"groups":groups};return re[format]=parseRegExp};outOfRange=function(value,low,high){return value<low||value>high};toUpper=function(value){return value.split("\u00a0").join(" ").toUpperCase()};toUpperArray=function(arr){var results=[];for(var i=0,l=arr.length;i<l;i++)results[i]=toUpper(arr[i]);return results};parseExact=function(value,format,culture){value=trim(value);var cal=culture.calendar,
parseInfo=getParseRegExp(cal,format),match=(new RegExp(parseInfo.regExp)).exec(value);if(match===null)return null;var groups=parseInfo.groups,era=null,year=null,month=null,date=null,weekDay=null,hour=0,hourOffset,min=0,sec=0,msec=0,tzMinOffset=null,pmHour=false;for(var j=0,jl=groups.length;j<jl;j++){var matchGroup=match[j+1];if(matchGroup){var current=groups[j],clength=current.length,matchInt=parseInt(matchGroup,10);switch(current){case "dd":case "d":date=matchInt;if(outOfRange(date,1,31))return null;
break;case "MMM":case "MMMM":month=getMonthIndex(cal,matchGroup,clength===3);if(outOfRange(month,0,11))return null;break;case "M":case "MM":month=matchInt-1;if(outOfRange(month,0,11))return null;break;case "y":case "yy":case "yyyy":year=clength<4?expandYear(cal,matchInt):matchInt;if(outOfRange(year,0,9999))return null;break;case "h":case "hh":hour=matchInt;if(hour===12)hour=0;if(outOfRange(hour,0,11))return null;break;case "H":case "HH":hour=matchInt;if(outOfRange(hour,0,23))return null;break;case "m":case "mm":min=
matchInt;if(outOfRange(min,0,59))return null;break;case "s":case "ss":sec=matchInt;if(outOfRange(sec,0,59))return null;break;case "tt":case "t":pmHour=cal.PM&&(matchGroup===cal.PM[0]||matchGroup===cal.PM[1]||matchGroup===cal.PM[2]);if(!pmHour&&(!cal.AM||matchGroup!==cal.AM[0]&&matchGroup!==cal.AM[1]&&matchGroup!==cal.AM[2]))return null;break;case "f":case "ff":case "fff":msec=matchInt*Math.pow(10,3-clength);if(outOfRange(msec,0,999))return null;break;case "ddd":case "dddd":weekDay=getDayIndex(cal,
matchGroup,clength===3);if(outOfRange(weekDay,0,6))return null;break;case "zzz":var offsets=matchGroup.split(/:/);if(offsets.length!==2)return null;hourOffset=parseInt(offsets[0],10);if(outOfRange(hourOffset,-12,13))return null;var minOffset=parseInt(offsets[1],10);if(outOfRange(minOffset,0,59))return null;tzMinOffset=hourOffset*60+(startsWith(matchGroup,"-")?-minOffset:minOffset);break;case "z":case "zz":hourOffset=matchInt;if(outOfRange(hourOffset,-12,13))return null;tzMinOffset=hourOffset*60;break;
case "g":case "gg":var eraName=matchGroup;if(!eraName||!cal.eras)return null;eraName=trim(eraName.toLowerCase());for(var i=0,l=cal.eras.length;i<l;i++)if(eraName===cal.eras[i].name.toLowerCase()){era=i;break}if(era===null)return null;break}}}var result=new Date,defaultYear,convert=cal.convert;defaultYear=convert?convert.fromGregorian(result)[0]:result.getFullYear();if(year===null)year=defaultYear;else if(cal.eras)year+=cal.eras[era||0].offset;if(month===null)month=0;if(date===null)date=1;if(convert){result=
convert.toGregorian(year,month,date);if(result===null)return null}else{result.setFullYear(year,month,date);if(result.getDate()!==date)return null;if(weekDay!==null&&result.getDay()!==weekDay)return null}if(pmHour&&hour<12)hour+=12;result.setHours(hour,min,sec,msec);if(tzMinOffset!==null){var adjustedMin=result.getMinutes()-(tzMinOffset+result.getTimezoneOffset());result.setHours(result.getHours()+parseInt(adjustedMin/60,10),adjustedMin%60)}return result}})();parseNegativePattern=function(value,nf,
negativePattern){var neg=nf["-"],pos=nf["+"],ret;switch(negativePattern){case "n -":neg=" "+neg;pos=" "+pos;case "n-":if(endsWith(value,neg))ret=["-",value.substr(0,value.length-neg.length)];else if(endsWith(value,pos))ret=["+",value.substr(0,value.length-pos.length)];break;case "- n":neg+=" ";pos+=" ";case "-n":if(startsWith(value,neg))ret=["-",value.substr(neg.length)];else if(startsWith(value,pos))ret=["+",value.substr(pos.length)];break;case "(n)":if(startsWith(value,"(")&&endsWith(value,")"))ret=
["-",value.substr(1,value.length-2)];break}return ret||["",value]};Globalize.prototype.findClosestCulture=function(cultureSelector){return Globalize.findClosestCulture.call(this,cultureSelector)};Globalize.prototype.format=function(value,format,cultureSelector){return Globalize.format.call(this,value,format,cultureSelector)};Globalize.prototype.localize=function(key,cultureSelector){return Globalize.localize.call(this,key,cultureSelector)};Globalize.prototype.parseInt=function(value,radix,cultureSelector){return Globalize.parseInt.call(this,
value,radix,cultureSelector)};Globalize.prototype.parseFloat=function(value,radix,cultureSelector){return Globalize.parseFloat.call(this,value,radix,cultureSelector)};Globalize.prototype.culture=function(cultureSelector){return Globalize.culture.call(this,cultureSelector)};Globalize.addCultureInfo=function(cultureName,baseCultureName,info){var base={},isNew=false;if(typeof cultureName!=="string"){info=cultureName;cultureName=this.culture().name;base=this.cultures[cultureName]}else if(typeof baseCultureName!==
"string"){info=baseCultureName;isNew=this.cultures[cultureName]==null;base=this.cultures[cultureName]||this.cultures["default"]}else{isNew=true;base=this.cultures[baseCultureName]}this.cultures[cultureName]=extend(true,{},base,info);if(isNew)this.cultures[cultureName].calendar=this.cultures[cultureName].calendars.standard};Globalize.findClosestCulture=function(name){var match;if(!name)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];if(typeof name==="string")name=name.split(",");
if(isArray(name)){var lang,cultures=this.cultures,list=name,i,l=list.length,prioritized=[];for(i=0;i<l;i++){name=trim(list[i]);var pri,parts=name.split(";");lang=trim(parts[0]);if(parts.length===1)pri=1;else{name=trim(parts[1]);if(name.indexOf("q\x3d")===0){name=name.substr(2);pri=parseFloat(name);pri=isNaN(pri)?0:pri}else pri=1}prioritized.push({lang:lang,pri:pri})}prioritized.sort(function(a,b){if(a.pri<b.pri)return 1;else if(a.pri>b.pri)return-1;return 0});for(i=0;i<l;i++){lang=prioritized[i].lang;
match=cultures[lang];if(match)return match}for(i=0;i<l;i++){lang=prioritized[i].lang;do{var index=lang.lastIndexOf("-");if(index===-1)break;lang=lang.substr(0,index);match=cultures[lang];if(match)return match}while(1)}for(i=0;i<l;i++){lang=prioritized[i].lang;for(var cultureKey in cultures){var culture=cultures[cultureKey];if(culture.language==lang)return culture}}}else if(typeof name==="object")return name;return match||null};Globalize.format=function(value,format,cultureSelector){var culture=this.findClosestCulture(cultureSelector);
if(value instanceof Date)value=formatDate(value,format,culture);else if(typeof value==="number")value=formatNumber(value,format,culture);return value};Globalize.localize=function(key,cultureSelector){return this.findClosestCulture(cultureSelector).messages[key]||this.cultures["default"].messages[key]};Globalize.parseDate=function(value,formats,culture){culture=this.findClosestCulture(culture);var date,prop,patterns;if(formats){if(typeof formats==="string")formats=[formats];if(formats.length)for(var i=
0,l=formats.length;i<l;i++){var format=formats[i];if(format){date=parseExact(value,format,culture);if(date)break}}}else{patterns=culture.calendar.patterns;for(prop in patterns){date=parseExact(value,patterns[prop],culture);if(date)break}}return date||null};Globalize.parseInt=function(value,radix,cultureSelector){return truncate(Globalize.parseFloat(value,radix,cultureSelector))};Globalize.parseFloat=function(value,radix,cultureSelector){if(typeof radix!=="number"){cultureSelector=radix;radix=10}var culture=
this.findClosestCulture(cultureSelector);var ret=NaN,nf=culture.numberFormat;if(value.indexOf(culture.numberFormat.currency.symbol)>-1){value=value.replace(culture.numberFormat.currency.symbol,"");value=value.replace(culture.numberFormat.currency["."],culture.numberFormat["."])}if(value.indexOf(culture.numberFormat.percent.symbol)>-1)value=value.replace(culture.numberFormat.percent.symbol,"");value=value.replace(/ /g,"");if(regexInfinity.test(value))ret=parseFloat(value);else if(!radix&&regexHex.test(value))ret=
parseInt(value,16);else{var signInfo=parseNegativePattern(value,nf,nf.pattern[0]),sign=signInfo[0],num=signInfo[1];if(sign===""&&nf.pattern[0]!=="(n)"){signInfo=parseNegativePattern(value,nf,"(n)");sign=signInfo[0];num=signInfo[1]}if(sign===""&&nf.pattern[0]!=="-n"){signInfo=parseNegativePattern(value,nf,"-n");sign=signInfo[0];num=signInfo[1]}sign=sign||"+";var exponent,intAndFraction,exponentPos=num.indexOf("e");if(exponentPos<0)exponentPos=num.indexOf("E");if(exponentPos<0){intAndFraction=num;exponent=
null}else{intAndFraction=num.substr(0,exponentPos);exponent=num.substr(exponentPos+1)}var integer,fraction,decSep=nf["."],decimalPos=intAndFraction.indexOf(decSep);if(decimalPos<0){integer=intAndFraction;fraction=null}else{integer=intAndFraction.substr(0,decimalPos);fraction=intAndFraction.substr(decimalPos+decSep.length)}var groupSep=nf[","];integer=integer.split(groupSep).join("");var altGroupSep=groupSep.replace(/\u00A0/g," ");if(groupSep!==altGroupSep)integer=integer.split(altGroupSep).join("");
var p=sign+integer;if(fraction!==null)p+="."+fraction;if(exponent!==null){var expSignInfo=parseNegativePattern(exponent,nf,"-n");p+="e"+(expSignInfo[0]||"+")+expSignInfo[1]}if(regexParseFloat.test(p))ret=parseFloat(p)}return ret};Globalize.culture=function(cultureSelector){if(typeof cultureSelector!=="undefined")this.cultureSelector=cultureSelector;return this.findClosestCulture(cultureSelector)||this.cultures["default"]}})(this);
(function($){$.jGrowl=function(m,o){if($("#jGrowl").size()==0)$('\x3cdiv id\x3d"jGrowl"\x3e\x3c/div\x3e').addClass(o&&o.position?o.position:$.jGrowl.defaults.position).appendTo("body");$("#jGrowl").jGrowl(m,o)};$.fn.jGrowl=function(m,o){if($.isFunction(this.each)){var args=arguments;return this.each(function(){var self=this;if($(this).data("jGrowl.instance")==undefined){$(this).data("jGrowl.instance",$.extend(new $.fn.jGrowl,{notifications:[],element:null,interval:null}));$(this).data("jGrowl.instance").startup(this)}if($.isFunction($(this).data("jGrowl.instance")[m]))$(this).data("jGrowl.instance")[m].apply($(this).data("jGrowl.instance"),
$.makeArray(args).slice(1));else $(this).data("jGrowl.instance").create(m,o)})}};$.extend($.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:false,position:"top-right",glue:"after",theme:"default",themeState:"highlight",corners:"10px",check:250,life:3E3,closeDuration:"normal",openDuration:"normal",easing:"swing",closer:true,closeTemplate:"\x26times;",closerTemplate:"\x3cdiv\x3e[ close all ]\x3c/div\x3e",log:function(e,m,o){},beforeOpen:function(e,m,o){},afterOpen:function(e,m,o){},
open:function(e,m,o){},beforeClose:function(e,m,o){},close:function(e,m,o){},animateOpen:{opacity:"show"},animateClose:{opacity:"hide"}},notifications:[],element:null,interval:null,create:function(message,o){var o=$.extend({},this.defaults,o);if(typeof o.speed!=="undefined"){o.openDuration=o.speed;o.closeDuration=o.speed}this.notifications.push({message:message,options:o});o.log.apply(this.element,[this.element,message,o])},render:function(notification){var self=this;var message=notification.message;
var o=notification.options;var notification=$('\x3cdiv class\x3d"jGrowl-notification '+o.themeState+" ui-corner-all"+(o.group!=undefined&&o.group!=""?" "+o.group:"")+'"\x3e'+'\x3cdiv class\x3d"jGrowl-close"\x3e'+o.closeTemplate+"\x3c/div\x3e"+'\x3cdiv class\x3d"jGrowl-header"\x3e'+o.header+"\x3c/div\x3e"+'\x3cdiv class\x3d"jGrowl-message"\x3e'+message+"\x3c/div\x3e\x3c/div\x3e").data("jGrowl",o).addClass(o.theme).children("div.jGrowl-close").bind("click.jGrowl",function(){$(this).parent().trigger("jGrowl.close")}).parent();
$(notification).bind("mouseover.jGrowl",function(){$("div.jGrowl-notification",self.element).data("jGrowl.pause",true)}).bind("mouseout.jGrowl",function(){$("div.jGrowl-notification",self.element).data("jGrowl.pause",false)}).bind("jGrowl.beforeOpen",function(){if(o.beforeOpen.apply(notification,[notification,message,o,self.element])!=false)$(this).trigger("jGrowl.open")}).bind("jGrowl.open",function(){if(o.open.apply(notification,[notification,message,o,self.element])!=false){if(o.glue=="after")$("div.jGrowl-notification:last",
self.element).after(notification);else $("div.jGrowl-notification:first",self.element).before(notification);$(this).animate(o.animateOpen,o.openDuration,o.easing,function(){if($.browser.msie&&(parseInt($(this).css("opacity"),10)===1||parseInt($(this).css("opacity"),10)===0))this.style.removeAttribute("filter");$(this).data("jGrowl").created=new Date;$(this).trigger("jGrowl.afterOpen")})}}).bind("jGrowl.afterOpen",function(){o.afterOpen.apply(notification,[notification,message,o,self.element])}).bind("jGrowl.beforeClose",
function(){if(o.beforeClose.apply(notification,[notification,message,o,self.element])!=false)$(this).trigger("jGrowl.close")}).bind("jGrowl.close",function(){$(this).data("jGrowl.pause",true);$(this).animate(o.animateClose,o.closeDuration,o.easing,function(){$(this).remove();var close=o.close.apply(notification,[notification,message,o,self.element]);if($.isFunction(close))close.apply(notification,[notification,message,o,self.element])})}).trigger("jGrowl.beforeOpen");if(o.corners!=""&&$.fn.corner!=
undefined)$(notification).corner(o.corners);if($("div.jGrowl-notification:parent",self.element).size()>1&&$("div.jGrowl-closer",self.element).size()==0&&this.defaults.closer!=false)$(this.defaults.closerTemplate).addClass("jGrowl-closer ui-state-highlight ui-corner-all").addClass(this.defaults.theme).appendTo(self.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){$(this).siblings().trigger("jGrowl.beforeClose");if($.isFunction(self.defaults.closer))self.defaults.closer.apply($(this).parent()[0],
[$(this).parent()[0]])})},update:function(){$(this.element).find("div.jGrowl-notification:parent").each(function(){if($(this).data("jGrowl")!=undefined&&$(this).data("jGrowl").created!=undefined&&$(this).data("jGrowl").created.getTime()+parseInt($(this).data("jGrowl").life)<(new Date).getTime()&&$(this).data("jGrowl").sticky!=true&&($(this).data("jGrowl.pause")==undefined||$(this).data("jGrowl.pause")!=true))$(this).trigger("jGrowl.beforeClose")});if(this.notifications.length>0&&(this.defaults.pool==
0||$(this.element).find("div.jGrowl-notification:parent").size()<this.defaults.pool))this.render(this.notifications.shift());if($(this.element).find("div.jGrowl-notification:parent").size()<2)$(this.element).find("div.jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){$(this).remove()})},startup:function(e){this.element=$(e).addClass("jGrowl").append('\x3cdiv class\x3d"jGrowl-notification"\x3e\x3c/div\x3e');this.interval=setInterval(function(){$(e).data("jGrowl.instance").update()},
parseInt(this.defaults.check));if($.browser.msie&&parseInt($.browser.version)<7&&!window["XMLHttpRequest"])$(this.element).addClass("ie6")},shutdown:function(){$(this.element).removeClass("jGrowl").find("div.jGrowl-notification").remove();clearInterval(this.interval)},close:function(){$(this.element).find("div.jGrowl-notification").each(function(){$(this).trigger("jGrowl.beforeClose")})}});$.jGrowl.defaults=$.fn.jGrowl.prototype.defaults})(jQuery);
jQuery(document).ready(function(){jQuery.fn.tab.Constructor.prototype.keydown=function(e){var $this=jQuery(this);var $items;var $ul=$this.closest("ul[role\x3dtablist] ");var index;var k=e.which||e.keyCode;$this=jQuery(this);if(!/(37|38|39|40)/.test(k))return;$items=$ul.find("[role\x3dtab]:visible");index=$items.index($items.filter(":focus"));if(k==38||k==37)index--;if(k==39||k==40)index++;if(index<0)index=$items.length-1;if(index==$items.length)index=0;var nextTab=$items.eq(index);if(nextTab.attr("role")===
"tab")nextTab.tab("show").focus();e.preventDefault();e.stopPropagation()};jQuery(document).on("keydown.tab.data-api",'[data-toggle\x3d"tab"], [data-toggle\x3d"pill"]',jQuery.fn.tab.Constructor.prototype.keydown);var tabactivate=jQuery.fn.tab.Constructor.prototype.activate;jQuery.fn.tab.Constructor.prototype.activate=function(element,container,callback){var $active=container.find("\x3e .active");$active.find("[data-toggle\x3dtab]").attr({"tabIndex":"-1","aria-selected":false,"aria-expanded":false});
$active.filter(".tab-pane").attr({"aria-hidden":true,"tabIndex":"-1"});tabactivate.apply(this,arguments);element.addClass("active");element.find("[data-toggle\x3dtab]").attr({"tabIndex":"0","aria-selected":true,"aria-expanded":true});element.filter(".tab-pane").attr({"aria-hidden":false,"tabIndex":"0"})}});
(function($){$.fn.initPopoutText=function(options){return this.each(function(){options=options||{};options=$.extend({label:"",summary:"",constraint:"",readOnly:""},options);var id=$(this).attr("id");var obj=$(this);var context;if(top==self)context=jq;else if(parent.$("iframe[id*\x3deasyXDM_]").length>0)context=parent.$;else if(parent.$("#"+kradVariables.PORTAL_IFRAME_ID).length>0)context=parent.parent.$;var labelHtml="";var summaryHtml="";var constraintHtml="";var readOnly=options.readOnly;if(options.label)labelHtml=
"\x3clabel for\x3d'textarea_popout_control'\x3e"+options.label+"\x3c/label\x3e";if(options.summary)summaryHtml="\x3cspan class\x3d'summary'\x3e"+options.summary+"\x3c/span\x3e";if(options.constraint)constraintHtml="\x3cspan class\x3d'constraint'\x3e"+options.constraint+"\x3c/span\x3e";$(this).siblings(".input-group-btn").append('\x3ca id\x3d"expand_btn_'+id+'" title\x3d"Expand" '+'class\x3d"btn btn-default icon-edit-sign"\x3e\x3c/a\x3e');$(document).ready(function(){$("a#expand_btn_"+id).click(function(e){e.preventDefault();
var value=obj.val();if(!value)value="";if(readOnly===true)var options={content:"\x3cdiv class\x3d'textarea_popout'\x3e"+labelHtml+summaryHtml+"\x3ctextarea id\x3d'textarea_popout_control' readonly\x3e"+value+"\x3c/textarea\x3e"+constraintHtml+"\x3cinput id\x3d'done_btn' class\x3d'btn btn-primary done' type\x3d'button' value\x3d'Done'/\x3e\x3c/div\x3e",afterShow:function(){context("textarea#textarea_popout_control").focus();context("#done_btn").click(function(e){e.preventDefault();obj.val(context("textarea#textarea_popout_control").val());
context.fancybox.close();obj.valid();obj.focus()})},autoDimensions:true,hideOnOverlayClick:false,centerOnScroll:true};else var options={content:"\x3cdiv class\x3d'textarea_popout'\x3e"+labelHtml+summaryHtml+"\x3ctextarea id\x3d'textarea_popout_control'\x3e"+value+"\x3c/textarea\x3e"+constraintHtml+"\x3cinput id\x3d'done_btn' class\x3d'btn btn-primary done' type\x3d'button' value\x3d'Done'/\x3e\x3c/div\x3e",afterShow:function(){context("textarea#textarea_popout_control").focus();context("#done_btn").click(function(e){e.preventDefault();
obj.val(context("textarea#textarea_popout_control").val());context.fancybox.close();obj.valid();obj.focus()})},autoDimensions:true,hideOnOverlayClick:false,centerOnScroll:true};context.fancybox(options)})})})}})(jQuery);
(function(window,undefined){var rootjQuery,readyList,document=window.document,location=window.location,navigator=window.navigator,_jQuery=window.jQuery,_$=window.$,core_push=Array.prototype.push,core_slice=Array.prototype.slice,core_indexOf=Array.prototype.indexOf,core_toString=Object.prototype.toString,core_hasOwn=Object.prototype.hasOwnProperty,core_trim=String.prototype.trim,jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery)},core_pnum=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,
core_rnotwhite=/\S/,core_rspace=/\s+/,rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rquickExpr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rvalidchars=/^[\],:{}\s]*$/,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rvalidescape=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,rvalidtokens=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return(letter+"").toUpperCase()},DOMContentLoaded=function(){if(document.addEventListener){document.removeEventListener("DOMContentLoaded",
DOMContentLoaded,false);jQuery.ready()}else if(document.readyState==="complete"){document.detachEvent("onreadystatechange",DOMContentLoaded);jQuery.ready()}},class2type={};jQuery.fn=jQuery.prototype={constructor:jQuery,init:function(selector,context,rootjQuery){var match,elem,ret,doc;if(!selector)return this;if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}if(typeof selector==="string"){if(selector.charAt(0)==="\x3c"&&selector.charAt(selector.length-1)==="\x3e"&&selector.length>=
3)match=[null,selector,null];else match=rquickExpr.exec(selector);if(match&&(match[1]||!context))if(match[1]){context=context instanceof jQuery?context[0]:context;doc=context&&context.nodeType?context.ownerDocument||context:document;selector=jQuery.parseHTML(match[1],doc,true);if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context))this.attr.call(selector,context,true);return jQuery.merge(this,selector)}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){if(elem.id!==match[2])return rootjQuery.find(selector);
this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}else if(!context||context.jquery)return(context||rootjQuery).find(selector);else return this.constructor(context).find(selector)}else if(jQuery.isFunction(selector))return rootjQuery.ready(selector);if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return core_slice.call(this)},
get:function(num){return num==null?this.toArray():num<0?this[this.length+num]:this[num]},pushStack:function(elems,name,selector){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;if(name==="find")ret.selector=this.selector+(this.selector?" ":"")+selector;else if(name)ret.selector=this.selector+"."+name+"("+selector+")";return ret},each:function(callback,args){return jQuery.each(this,callback,args)},ready:function(fn){jQuery.ready.promise().done(fn);return this},
eq:function(i){i=+i;return i===-1?this.slice(i):this.slice(i,i+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(core_slice.apply(this,arguments),"slice",core_slice.call(arguments).join(","))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},end:function(){return this.prevObject||this.constructor(null)},push:core_push,sort:[].sort,splice:[].splice};jQuery.fn.init.prototype=
jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}if(typeof target!=="object"&&!jQuery.isFunction(target))target={};if(length===i){target=this;--i}for(;i<length;i++)if((options=arguments[i])!=null)for(name in options){src=target[name];copy=options[name];if(target===copy)continue;if(deep&&copy&&(jQuery.isPlainObject(copy)||
(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[]}else clone=src&&jQuery.isPlainObject(src)?src:{};target[name]=jQuery.extend(deep,clone,copy)}else if(copy!==undefined)target[name]=copy}return target};jQuery.extend({noConflict:function(deep){if(window.$===jQuery)window.$=_$;if(deep&&window.jQuery===jQuery)window.jQuery=_jQuery;return jQuery},isReady:false,readyWait:1,holdReady:function(hold){if(hold)jQuery.readyWait++;else jQuery.ready(true)},
ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady)return;if(!document.body)return setTimeout(jQuery.ready,1);jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0)return;readyList.resolveWith(document,[jQuery]);if(jQuery.fn.trigger)jQuery(document).trigger("ready").off("ready")},isFunction:function(obj){return jQuery.type(obj)==="function"},isArray:Array.isArray||function(obj){return jQuery.type(obj)==="array"},isWindow:function(obj){return obj!=null&&obj==obj.window},isNumeric:function(obj){return!isNaN(parseFloat(obj))&&
isFinite(obj)},type:function(obj){return obj==null?String(obj):class2type[core_toString.call(obj)]||"object"},isPlainObject:function(obj){if(!obj||jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj))return false;try{if(obj.constructor&&!core_hasOwn.call(obj,"constructor")&&!core_hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))return false}catch(e){return false}var key;for(key in obj);return key===undefined||core_hasOwn.call(obj,key)},isEmptyObject:function(obj){var name;for(name in obj)return false;
return true},error:function(msg){throw new Error(msg);},parseHTML:function(data,context,scripts){var parsed;if(!data||typeof data!=="string")return null;if(typeof context==="boolean"){scripts=context;context=0}context=context||document;if(parsed=rsingleTag.exec(data))return[context.createElement(parsed[1])];parsed=jQuery.buildFragment([data],context,scripts?null:[]);return jQuery.merge([],(parsed.cacheable?jQuery.clone(parsed.fragment):parsed.fragment).childNodes)},parseJSON:function(data){if(!data||
typeof data!=="string")return null;data=jQuery.trim(data);if(window.JSON&&window.JSON.parse)return window.JSON.parse(data);if(rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,"")))return(new Function("return "+data))();jQuery.error("Invalid JSON: "+data)},parseXML:function(data){var xml,tmp;if(!data||typeof data!=="string")return null;try{if(window.DOMParser){tmp=new DOMParser;xml=tmp.parseFromString(data,"text/xml")}else{xml=new ActiveXObject("Microsoft.XMLDOM");
xml.async="false";xml.loadXML(data)}}catch(e){xml=undefined}if(!xml||!xml.documentElement||xml.getElementsByTagName("parsererror").length)jQuery.error("Invalid XML: "+data);return xml},noop:function(){},globalEval:function(data){if(data&&core_rnotwhite.test(data))(window.execScript||function(data){window["eval"].call(window,data)})(data)},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===
name.toLowerCase()},each:function(obj,callback,args){var name,i=0,length=obj.length,isObj=length===undefined||jQuery.isFunction(obj);if(args)if(isObj)for(name in obj){if(callback.apply(obj[name],args)===false)break}else for(;i<length;){if(callback.apply(obj[i++],args)===false)break}else if(isObj)for(name in obj){if(callback.call(obj[name],name,obj[name])===false)break}else for(;i<length;)if(callback.call(obj[i],i,obj[i++])===false)break;return obj},trim:core_trim&&!core_trim.call("\ufeff\u00a0")?
function(text){return text==null?"":core_trim.call(text)}:function(text){return text==null?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var type,ret=results||[];if(arr!=null){type=jQuery.type(arr);if(arr.length==null||type==="string"||type==="function"||type==="regexp"||jQuery.isWindow(arr))core_push.call(ret,arr);else jQuery.merge(ret,arr)}return ret},inArray:function(elem,arr,i){var len;if(arr){if(core_indexOf)return core_indexOf.call(arr,elem,i);len=arr.length;i=i?i<0?Math.max(0,
len+i):i:0;for(;i<len;i++)if(i in arr&&arr[i]===elem)return i}return-1},merge:function(first,second){var l=second.length,i=first.length,j=0;if(typeof l==="number")for(;j<l;j++)first[i++]=second[j];else while(second[j]!==undefined)first[i++]=second[j++];first.length=i;return first},grep:function(elems,callback,inv){var retVal,ret=[],i=0,length=elems.length;inv=!!inv;for(;i<length;i++){retVal=!!callback(elems[i],i);if(inv!==retVal)ret.push(elems[i])}return ret},map:function(elems,callback,arg){var value,
key,ret=[],i=0,length=elems.length,isArray=elems instanceof jQuery||length!==undefined&&typeof length==="number"&&(length>0&&elems[0]&&elems[length-1]||length===0||jQuery.isArray(elems));if(isArray)for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null)ret[ret.length]=value}else for(key in elems){value=callback(elems[key],key,arg);if(value!=null)ret[ret.length]=value}return ret.concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;if(typeof context==="string"){tmp=fn[context];
context=fn;fn=tmp}if(!jQuery.isFunction(fn))return undefined;args=core_slice.call(arguments,2);proxy=function(){return fn.apply(context,args.concat(core_slice.call(arguments)))};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy},access:function(elems,fn,key,value,chainable,emptyGet,pass){var exec,bulk=key==null,i=0,length=elems.length;if(key&&typeof key==="object"){for(i in key)jQuery.access(elems,fn,i,key[i],1,emptyGet,value);chainable=1}else if(value!==undefined){exec=pass===undefined&&jQuery.isFunction(value);
if(bulk)if(exec){exec=fn;fn=function(elem,key,value){return exec.call(jQuery(elem),value)}}else{fn.call(elems,value);fn=null}if(fn)for(;i<length;i++)fn(elems[i],key,exec?value.call(elems[i],i,fn(elems[i],key)):value,pass);chainable=1}return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet},now:function(){return(new Date).getTime()}});jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if(document.readyState==="complete")setTimeout(jQuery.ready,1);else if(document.addEventListener){document.addEventListener("DOMContentLoaded",
DOMContentLoaded,false);window.addEventListener("load",jQuery.ready,false)}else{document.attachEvent("onreadystatechange",DOMContentLoaded);window.attachEvent("onload",jQuery.ready);var top=false;try{top=window.frameElement==null&&document.documentElement}catch(e){}if(top&&top.doScroll)(function doScrollCheck(){if(!jQuery.isReady){try{top.doScroll("left")}catch(e){return setTimeout(doScrollCheck,50)}jQuery.ready()}})()}}return readyList.promise(obj)};jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "),
function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});rootjQuery=jQuery(document);var optionsCache={};function createOptions(options){var object=optionsCache[options]={};jQuery.each(options.split(core_rspace),function(_,flag){object[flag]=true});return object}jQuery.Callbacks=function(options){options=typeof options==="string"?optionsCache[options]||createOptions(options):jQuery.extend({},options);var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&
[],fire=function(data){memory=options.memory&&data;fired=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;firing=true;for(;list&&firingIndex<firingLength;firingIndex++)if(list[firingIndex].apply(data[0],data[1])===false&&options.stopOnFalse){memory=false;break}firing=false;if(list)if(stack){if(stack.length)fire(stack.shift())}else if(memory)list=[];else self.disable()},self={add:function(){if(list){var start=list.length;(function add(args){jQuery.each(args,function(_,arg){var type=
jQuery.type(arg);if(type==="function"){if(!options.unique||!self.has(arg))list.push(arg)}else if(arg&&arg.length&&type!=="string")add(arg)})})(arguments);if(firing)firingLength=list.length;else if(memory){firingStart=start;fire(memory)}}return this},remove:function(){if(list)jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(firing){if(index<=firingLength)firingLength--;if(index<=firingIndex)firingIndex--}}});return this},has:function(fn){return jQuery.inArray(fn,
list)>-1},empty:function(){list=[];return this},disable:function(){list=stack=memory=undefined;return this},disabled:function(){return!list},lock:function(){stack=undefined;if(!memory)self.disable();return this},locked:function(){return!stack},fireWith:function(context,args){args=args||[];args=[context,args.slice?args.slice():args];if(list&&(!fired||stack))if(firing)stack.push(args);else fire(args);return this},fire:function(){self.fireWith(this,arguments);return this},fired:function(){return!!fired}};
return self};jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){deferred.done(arguments).fail(arguments);return this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var action=tuple[0],fn=
fns[i];deferred[tuple[1]](jQuery.isFunction(fn)?function(){var returned=fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise))returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify);else newDefer[action+"With"](this===deferred?newDefer:this,[returned])}:newDefer[action])});fns=null}).promise()},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=
tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString)list.add(function(){state=stateString},tuples[i^1][2].disable,tuples[2][2].lock);deferred[tuple[0]]=list.fire;deferred[tuple[0]+"With"]=list.fireWith});promise.promise(deferred);if(func)func.call(deferred,deferred);return deferred},when:function(subordinate){var i=0,resolveValues=core_slice.call(arguments),length=resolveValues.length,remaining=length!==1||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=remaining===
1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?core_slice.call(arguments):value;if(values===progressValues)deferred.notifyWith(contexts,values);else if(!--remaining)deferred.resolveWith(contexts,values)}},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;i<length;i++)if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise))resolveValues[i].promise().done(updateFunc(i,
resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues));else--remaining}if(!remaining)deferred.resolveWith(resolveContexts,resolveValues);return deferred.promise()}});jQuery.support=function(){var support,all,a,select,opt,input,fragment,eventName,i,isSupported,clickFn,div=document.createElement("div");div.setAttribute("className","t");div.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e";
all=div.getElementsByTagName("*");a=div.getElementsByTagName("a")[0];if(!all||!a||!all.length)return{};select=document.createElement("select");opt=select.appendChild(document.createElement("option"));input=div.getElementsByTagName("input")[0];a.style.cssText="top:1px;float:left;opacity:.5";support={leadingWhitespace:div.firstChild.nodeType===3,tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/top/.test(a.getAttribute("style")),hrefNormalized:a.getAttribute("href")===
"/a",opacity:/^0.5/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:input.value==="on",optSelected:opt.selected,getSetAttribute:div.className!=="t",enctype:!!document.createElement("form").enctype,html5Clone:document.createElement("nav").cloneNode(true).outerHTML!=="\x3c:nav\x3e\x3c/:nav\x3e",boxModel:document.compatMode==="CSS1Compat",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,
boxSizingReliable:true,pixelPosition:false};input.checked=true;support.noCloneChecked=input.cloneNode(true).checked;select.disabled=true;support.optDisabled=!opt.disabled;try{delete div.test}catch(e){support.deleteExpando=false}if(!div.addEventListener&&div.attachEvent&&div.fireEvent){div.attachEvent("onclick",clickFn=function(){support.noCloneEvent=false});div.cloneNode(true).fireEvent("onclick");div.detachEvent("onclick",clickFn)}input=document.createElement("input");input.value="t";input.setAttribute("type",
"radio");support.radioValue=input.value==="t";input.setAttribute("checked","checked");input.setAttribute("name","t");div.appendChild(input);fragment=document.createDocumentFragment();fragment.appendChild(div.lastChild);support.checkClone=fragment.cloneNode(true).cloneNode(true).lastChild.checked;support.appendChecked=input.checked;fragment.removeChild(input);fragment.appendChild(div);if(div.attachEvent)for(i in{submit:true,change:true,focusin:true}){eventName="on"+i;isSupported=eventName in div;if(!isSupported){div.setAttribute(eventName,
"return;");isSupported=typeof div[eventName]==="function"}support[i+"Bubbles"]=isSupported}jQuery(function(){var container,div,tds,marginDiv,divReset="padding:0;margin:0;border:0;display:block;overflow:hidden;",body=document.getElementsByTagName("body")[0];if(!body)return;container=document.createElement("div");container.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";body.insertBefore(container,body.firstChild);div=document.createElement("div");container.appendChild(div);
div.innerHTML="\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3et\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e";tds=div.getElementsByTagName("td");tds[0].style.cssText="padding:0;margin:0;border:0;display:none";isSupported=tds[0].offsetHeight===0;tds[0].style.display="";tds[1].style.display="none";support.reliableHiddenOffsets=isSupported&&tds[0].offsetHeight===0;div.innerHTML="";div.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";
support.boxSizing=div.offsetWidth===4;support.doesNotIncludeMarginInBodyOffset=body.offsetTop!==1;if(window.getComputedStyle){support.pixelPosition=(window.getComputedStyle(div,null)||{}).top!=="1%";support.boxSizingReliable=(window.getComputedStyle(div,null)||{width:"4px"}).width==="4px";marginDiv=document.createElement("div");marginDiv.style.cssText=div.style.cssText=divReset;marginDiv.style.marginRight=marginDiv.style.width="0";div.style.width="1px";div.appendChild(marginDiv);support.reliableMarginRight=
!parseFloat((window.getComputedStyle(marginDiv,null)||{}).marginRight)}if(typeof div.style.zoom!=="undefined"){div.innerHTML="";div.style.cssText=divReset+"width:1px;padding:1px;display:inline;zoom:1";support.inlineBlockNeedsLayout=div.offsetWidth===3;div.style.display="block";div.style.overflow="visible";div.innerHTML="\x3cdiv\x3e\x3c/div\x3e";div.firstChild.style.width="5px";support.shrinkWrapBlocks=div.offsetWidth!==3;container.style.zoom=1}body.removeChild(container);container=div=tds=marginDiv=
null});fragment.removeChild(div);all=a=select=opt=input=fragment=div=null;return support}();var rbrace=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(jQuery.fn.jquery+Math.random()).replace(/\D/g,""),noData:{"embed":true,"object":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000","applet":true},hasData:function(elem){elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando];return!!elem&&!isEmptyDataObject(elem)},data:function(elem,
name,data,pvt){if(!jQuery.acceptData(elem))return;var thisCache,ret,internalKey=jQuery.expando,getByName=typeof name==="string",isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey;if((!id||!cache[id]||!pvt&&!cache[id].data)&&getByName&&data===undefined)return;if(!id)if(isNode)elem[internalKey]=id=jQuery.deletedIds.pop()||jQuery.guid++;else id=internalKey;if(!cache[id]){cache[id]={};if(!isNode)cache[id].toJSON=jQuery.noop}if(typeof name===
"object"||typeof name==="function")if(pvt)cache[id]=jQuery.extend(cache[id],name);else cache[id].data=jQuery.extend(cache[id].data,name);thisCache=cache[id];if(!pvt){if(!thisCache.data)thisCache.data={};thisCache=thisCache.data}if(data!==undefined)thisCache[jQuery.camelCase(name)]=data;if(getByName){ret=thisCache[name];if(ret==null)ret=thisCache[jQuery.camelCase(name)]}else ret=thisCache;return ret},removeData:function(elem,name,pvt){if(!jQuery.acceptData(elem))return;var thisCache,i,l,isNode=elem.nodeType,
cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;if(!cache[id])return;if(name){thisCache=pvt?cache[id]:cache[id].data;if(thisCache){if(!jQuery.isArray(name))if(name in thisCache)name=[name];else{name=jQuery.camelCase(name);if(name in thisCache)name=[name];else name=name.split(" ")}for(i=0,l=name.length;i<l;i++)delete thisCache[name[i]];if(!(pvt?isEmptyDataObject:jQuery.isEmptyObject)(thisCache))return}}if(!pvt){delete cache[id].data;if(!isEmptyDataObject(cache[id]))return}if(isNode)jQuery.cleanData([elem],
true);else if(jQuery.support.deleteExpando||cache!=cache.window)delete cache[id];else cache[id]=null},_data:function(elem,name,data){return jQuery.data(elem,name,data,true)},acceptData:function(elem){var noData=elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()];return!noData||noData!==true&&elem.getAttribute("classid")===noData}});jQuery.fn.extend({data:function(key,value){var parts,part,attr,name,l,elem=this[0],i=0,data=null;if(key===undefined){if(this.length){data=jQuery.data(elem);if(elem.nodeType===
1&&!jQuery._data(elem,"parsedAttrs")){attr=elem.attributes;for(l=attr.length;i<l;i++){name=attr[i].name;if(!name.indexOf("data-")){name=jQuery.camelCase(name.substring(5));dataAttr(elem,name,data[name])}}jQuery._data(elem,"parsedAttrs",true)}}return data}if(typeof key==="object")return this.each(function(){jQuery.data(this,key)});parts=key.split(".",2);parts[1]=parts[1]?"."+parts[1]:"";part=parts[1]+"!";return jQuery.access(this,function(value){if(value===undefined){data=this.triggerHandler("getData"+
part,[parts[0]]);if(data===undefined&&elem){data=jQuery.data(elem,key);data=dataAttr(elem,key,data)}return data===undefined&&parts[1]?this.data(parts[0]):data}parts[1]=value;this.each(function(){var self=jQuery(this);self.triggerHandler("setData"+part,parts);jQuery.data(this,key,value);self.triggerHandler("changeData"+part,parts)})},null,value,arguments.length>1,null,false)},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}});function dataAttr(elem,key,data){if(data===
undefined&&elem.nodeType===1){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}jQuery.data(elem,key,data)}else data=undefined}return data}function isEmptyDataObject(obj){var name;for(name in obj){if(name==="data"&&jQuery.isEmptyObject(obj[name]))continue;if(name!=="toJSON")return false}return true}
jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=jQuery._data(elem,type);if(data)if(!queue||jQuery.isArray(data))queue=jQuery._data(elem,type,jQuery.makeArray(data));else queue.push(data);return queue||[]}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};if(fn==="inprogress"){fn=queue.shift();startLength--}if(fn){if(type===
"fx")queue.unshift("inprogress");delete hooks.stop;fn.call(elem,next,hooks)}if(!startLength&&hooks)hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return jQuery._data(elem,key)||jQuery._data(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){jQuery.removeData(elem,type+"queue",true);jQuery.removeData(elem,key,true)})})}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--}if(arguments.length<setter)return jQuery.queue(this[0],
type);return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress")jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},clearQueue:function(type){return this.queue(type||
"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!--count)defer.resolveWith(elements,[elements])};if(typeof type!=="string"){obj=type;type=undefined}type=type||"fx";while(i--){tmp=jQuery._data(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve)}}resolve();return defer.promise(obj)}});var nodeHook,boolHook,fixSpecified,rclass=/[\t\r\n]/g,rreturn=/\r/g,rtype=/^(?:button|input)$/i,rfocusable=/^(?:button|input|object|select|textarea)$/i,
rclickable=/^a(?:rea|)$/i,rboolean=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,getSetAttribute=jQuery.support.getSetAttribute;jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})},prop:function(name,value){return jQuery.access(this,jQuery.prop,name,value,arguments.length>1)},
removeProp:function(name){name=jQuery.propFix[name]||name;return this.each(function(){try{this[name]=undefined;delete this[name]}catch(e){}})},addClass:function(value){var classNames,i,l,elem,setClass,c,cl;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))});if(value&&typeof value==="string"){classNames=value.split(core_rspace);for(i=0,l=this.length;i<l;i++){elem=this[i];if(elem.nodeType===1)if(!elem.className&&classNames.length===1)elem.className=
value;else{setClass=" "+elem.className+" ";for(c=0,cl=classNames.length;c<cl;c++)if(setClass.indexOf(" "+classNames[c]+" ")<0)setClass+=classNames[c]+" ";elem.className=jQuery.trim(setClass)}}}return this},removeClass:function(value){var removes,className,elem,c,cl,i,l;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))});if(value&&typeof value==="string"||value===undefined){removes=(value||"").split(core_rspace);for(i=0,l=this.length;i<
l;i++){elem=this[i];if(elem.nodeType===1&&elem.className){className=(" "+elem.className+" ").replace(rclass," ");for(c=0,cl=removes.length;c<cl;c++)while(className.indexOf(" "+removes[c]+" ")>=0)className=className.replace(" "+removes[c]+" "," ");elem.className=value?jQuery.trim(className):""}}}return this},toggleClass:function(value,stateVal){var type=typeof value,isBool=typeof stateVal==="boolean";if(jQuery.isFunction(value))return this.each(function(i){jQuery(this).toggleClass(value.call(this,
i,this.className,stateVal),stateVal)});return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),state=stateVal,classNames=value.split(core_rspace);while(className=classNames[i++]){state=isBool?state:!self.hasClass(className);self[state?"addClass":"removeClass"](className)}}else if(type==="undefined"||type==="boolean"){if(this.className)jQuery._data(this,"__className__",this.className);this.className=this.className||value===false?"":jQuery._data(this,"__className__")||""}})},
hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;i<l;i++)if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0)return true;return false},val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined)return ret;ret=elem.value;return typeof ret==="string"?
ret.replace(rreturn,""):ret==null?"":ret}return}isFunction=jQuery.isFunction(value);return this.each(function(i){var val,self=jQuery(this);if(this.nodeType!==1)return;if(isFunction)val=value.call(this,i,self.val());else val=value;if(val==null)val="";else if(typeof val==="number")val+="";else if(jQuery.isArray(val))val=jQuery.map(val,function(value){return value==null?"":value+""});hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set"in hooks)||hooks.set(this,
val,"value")===undefined)this.value=val})}});jQuery.extend({valHooks:{option:{get:function(elem){var val=elem.attributes.value;return!val||val.specified?elem.value:elem.text}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one"||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(jQuery.support.optDisabled?!option.disabled:option.getAttribute("disabled")===
null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one)return value;values.push(value)}}return values},set:function(elem,value){var values=jQuery.makeArray(value);jQuery(elem).find("option").each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0});if(!values.length)elem.selectedIndex=-1;return values}}},attrFn:{},attr:function(elem,name,value,pass){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===
8||nType===2)return;if(pass&&jQuery.isFunction(jQuery.fn[name]))return jQuery(elem)[name](value);if(typeof elem.getAttribute==="undefined")return jQuery.prop(elem,name,value);notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(rboolean.test(name)?boolHook:nodeHook)}if(value!==undefined)if(value===null){jQuery.removeAttr(elem,name);return}else if(hooks&&"set"in hooks&&notxml&&(ret=hooks.set(elem,value,name))!==undefined)return ret;else{elem.setAttribute(name,
value+"");return value}else if(hooks&&"get"in hooks&&notxml&&(ret=hooks.get(elem,name))!==null)return ret;else{ret=elem.getAttribute(name);return ret===null?undefined:ret}},removeAttr:function(elem,value){var propName,attrNames,name,isBool,i=0;if(value&&elem.nodeType===1){attrNames=value.split(core_rspace);for(;i<attrNames.length;i++){name=attrNames[i];if(name){propName=jQuery.propFix[name]||name;isBool=rboolean.test(name);if(!isBool)jQuery.attr(elem,name,"");elem.removeAttribute(getSetAttribute?
name:propName);if(isBool&&propName in elem)elem[propName]=false}}}},attrHooks:{type:{set:function(elem,value){if(rtype.test(elem.nodeName)&&elem.parentNode)jQuery.error("type property can't be changed");else if(!jQuery.support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val)elem.value=val;return value}}},value:{get:function(elem,name){if(nodeHook&&jQuery.nodeName(elem,"button"))return nodeHook.get(elem,name);return name in elem?
elem.value:null},set:function(elem,value,name){if(nodeHook&&jQuery.nodeName(elem,"button"))return nodeHook.set(elem,value,name);elem.value=value}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||
nType===3||nType===8||nType===2)return;notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name]}if(value!==undefined)if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined)return ret;else return elem[name]=value;else if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null)return ret;else return elem[name]},propHooks:{tabIndex:{get:function(elem){var attributeNode=elem.getAttributeNode("tabindex");return attributeNode&&attributeNode.specified?
parseInt(attributeNode.value,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined}}}});boolHook={get:function(elem,name){var attrNode,property=jQuery.prop(elem,name);return property===true||typeof property!=="boolean"&&(attrNode=elem.getAttributeNode(name))&&attrNode.nodeValue!==false?name.toLowerCase():undefined},set:function(elem,value,name){var propName;if(value===false)jQuery.removeAttr(elem,name);else{propName=jQuery.propFix[name]||name;if(propName in elem)elem[propName]=
true;elem.setAttribute(name,name.toLowerCase())}return name}};if(!getSetAttribute){fixSpecified={name:true,id:true,coords:true};nodeHook=jQuery.valHooks.button={get:function(elem,name){var ret;ret=elem.getAttributeNode(name);return ret&&(fixSpecified[name]?ret.value!=="":ret.specified)?ret.value:undefined},set:function(elem,value,name){var ret=elem.getAttributeNode(name);if(!ret){ret=document.createAttribute(name);elem.setAttributeNode(ret)}return ret.value=value+""}};jQuery.each(["width","height"],
function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{set:function(elem,value){if(value===""){elem.setAttribute(name,"auto");return value}}})});jQuery.attrHooks.contenteditable={get:nodeHook.get,set:function(elem,value,name){if(value==="")value="false";nodeHook.set(elem,value,name)}}}if(!jQuery.support.hrefNormalized)jQuery.each(["href","src","width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{get:function(elem){var ret=elem.getAttribute(name,
2);return ret===null?undefined:ret}})});if(!jQuery.support.style)jQuery.attrHooks.style={get:function(elem){return elem.style.cssText.toLowerCase()||undefined},set:function(elem,value){return elem.style.cssText=value+""}};if(!jQuery.support.optSelected)jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{get:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode)parent.parentNode.selectedIndex}return null}});if(!jQuery.support.enctype)jQuery.propFix.enctype=
"encoding";if(!jQuery.support.checkOn)jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={get:function(elem){return elem.getAttribute("value")===null?"on":elem.value}}});jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{set:function(elem,value){if(jQuery.isArray(value))return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0}})});var rformElems=/^(?:textarea|input|select)$/i,rtypenamespace=/^([^\.]*|)(?:\.(.+)|)$/,rhoverHack=
/(?:^|\s)hover(\.\S+|)\b/,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,hoverHack=function(events){return jQuery.event.special.hover?events:events.replace(rhoverHack,"mouseenter$1 mouseleave$1")};jQuery.event={add:function(elem,types,handler,data,selector){var elemData,eventHandle,events,t,tns,type,namespaces,handleObj,handleObjIn,handlers,special;if(elem.nodeType===3||elem.nodeType===8||!types||!handler||!(elemData=jQuery._data(elem)))return;
if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector}if(!handler.guid)handler.guid=jQuery.guid++;events=elemData.events;if(!events)elemData.events=events={};eventHandle=elemData.handle;if(!eventHandle){elemData.handle=eventHandle=function(e){return typeof jQuery!=="undefined"&&(!e||jQuery.event.triggered!==e.type)?jQuery.event.dispatch.apply(eventHandle.elem,arguments):undefined};eventHandle.elem=elem}types=jQuery.trim(hoverHack(types)).split(" ");for(t=
0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[];type=tns[1];namespaces=(tns[2]||"").split(".").sort();special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:tns[1],data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);handlers=events[type];
if(!handlers){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false)if(elem.addEventListener)elem.addEventListener(type,eventHandle,false);else if(elem.attachEvent)elem.attachEvent("on"+type,eventHandle)}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid)handleObj.handler.guid=handler.guid}if(selector)handlers.splice(handlers.delegateCount++,0,handleObj);else handlers.push(handleObj);jQuery.event.global[type]=
true}elem=null},global:{},remove:function(elem,types,handler,selector,mappedTypes){var t,tns,type,origType,namespaces,origCount,j,events,special,eventType,handleObj,elemData=jQuery.hasData(elem)&&jQuery._data(elem);if(!elemData||!(events=elemData.events))return;types=jQuery.trim(hoverHack(types||"")).split(" ");for(t=0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[];type=origType=tns[1];namespaces=tns[2];if(!type){for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,
true);continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;eventType=events[type]||[];origCount=eventType.length;namespaces=namespaces?new RegExp("(^|\\.)"+namespaces.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(j=0;j<eventType.length;j++){handleObj=eventType[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!namespaces||namespaces.test(handleObj.namespace))&&(!selector||selector===
handleObj.selector||selector==="**"&&handleObj.selector)){eventType.splice(j--,1);if(handleObj.selector)eventType.delegateCount--;if(special.remove)special.remove.call(elem,handleObj)}}if(eventType.length===0&&origCount!==eventType.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false)jQuery.removeEvent(elem,type,elemData.handle);delete events[type]}}if(jQuery.isEmptyObject(events)){delete elemData.handle;jQuery.removeData(elem,"events",true)}},customEvent:{"getData":true,
"setData":true,"changeData":true},trigger:function(event,data,elem,onlyHandlers){if(elem&&(elem.nodeType===3||elem.nodeType===8))return;var cache,exclusive,i,cur,old,ontype,special,handle,eventPath,bubbleType,type=event.type||event,namespaces=[];if(rfocusMorph.test(type+jQuery.event.triggered))return;if(type.indexOf("!")>=0){type=type.slice(0,-1);exclusive=true}if(type.indexOf(".")>=0){namespaces=type.split(".");type=namespaces.shift();namespaces.sort()}if((!elem||jQuery.event.customEvent[type])&&
!jQuery.event.global[type])return;event=typeof event==="object"?event[jQuery.expando]?event:new jQuery.Event(type,event):new jQuery.Event(type);event.type=type;event.isTrigger=true;event.exclusive=exclusive;event.namespace=namespaces.join(".");event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;ontype=type.indexOf(":")<0?"on"+type:"";if(!elem){cache=jQuery.cache;for(i in cache)if(cache[i].events&&cache[i].events[type])jQuery.event.trigger(event,
data,cache[i].handle.elem,true);return}event.result=undefined;if(!event.target)event.target=elem;data=data!=null?jQuery.makeArray(data):[];data.unshift(event);special=jQuery.event.special[type]||{};if(special.trigger&&special.trigger.apply(elem,data)===false)return;eventPath=[[elem,special.bindType||type]];if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;cur=rfocusMorph.test(bubbleType+type)?elem:elem.parentNode;for(old=elem;cur;cur=cur.parentNode){eventPath.push([cur,
bubbleType]);old=cur}if(old===(elem.ownerDocument||document))eventPath.push([old.defaultView||old.parentWindow||window,bubbleType])}for(i=0;i<eventPath.length&&!event.isPropagationStopped();i++){cur=eventPath[i][0];event.type=eventPath[i][1];handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle");if(handle)handle.apply(cur,data);handle=ontype&&cur[ontype];if(handle&&jQuery.acceptData(cur)&&handle.apply&&handle.apply(cur,data)===false)event.preventDefault()}event.type=type;
if(!onlyHandlers&&!event.isDefaultPrevented())if((!special._default||special._default.apply(elem.ownerDocument,data)===false)&&!(type==="click"&&jQuery.nodeName(elem,"a"))&&jQuery.acceptData(elem))if(ontype&&elem[type]&&(type!=="focus"&&type!=="blur"||event.target.offsetWidth!==0)&&!jQuery.isWindow(elem)){old=elem[ontype];if(old)elem[ontype]=null;jQuery.event.triggered=type;elem[type]();jQuery.event.triggered=undefined;if(old)elem[ontype]=old}return event.result},dispatch:function(event){event=jQuery.event.fix(event||
window.event);var i,j,cur,ret,selMatch,matched,matches,handleObj,sel,related,handlers=(jQuery._data(this,"events")||{})[event.type]||[],delegateCount=handlers.delegateCount,args=core_slice.call(arguments),run_all=!event.exclusive&&!event.namespace,special=jQuery.event.special[event.type]||{},handlerQueue=[];args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false)return;if(delegateCount&&!(event.button&&event.type==="click"))for(cur=event.target;cur!=
this;cur=cur.parentNode||this)if(cur.disabled!==true||event.type!=="click"){selMatch={};matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector;if(selMatch[sel]===undefined)selMatch[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length;if(selMatch[sel])matches.push(handleObj)}if(matches.length)handlerQueue.push({elem:cur,matches:matches})}if(handlers.length>delegateCount)handlerQueue.push({elem:this,matches:handlers.slice(delegateCount)});
for(i=0;i<handlerQueue.length&&!event.isPropagationStopped();i++){matched=handlerQueue[i];event.currentTarget=matched.elem;for(j=0;j<matched.matches.length&&!event.isImmediatePropagationStopped();j++){handleObj=matched.matches[j];if(run_all||!event.namespace&&!handleObj.namespace||event.namespace_re&&event.namespace_re.test(handleObj.namespace)){event.data=handleObj.data;event.handleObj=handleObj;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);
if(ret!==undefined){event.result=ret;if(ret===false){event.preventDefault();event.stopPropagation()}}}}}if(special.postDispatch)special.postDispatch.call(this,event);return event.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null)event.which=original.charCode!=
null?original.charCode:original.keyCode;return event}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button,fromElement=original.fromElement;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||
0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.relatedTarget&&fromElement)event.relatedTarget=fromElement===event.target?original.toElement:fromElement;if(!event.which&&button!==undefined)event.which=button&1?1:button&2?3:button&4?2:0;return event}},fix:function(event){if(event[jQuery.expando])return event;var i,prop,originalEvent=event,fixHook=jQuery.event.fixHooks[event.type]||
{},copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=jQuery.Event(originalEvent);for(i=copy.length;i;){prop=copy[--i];event[prop]=originalEvent[prop]}if(!event.target)event.target=originalEvent.srcElement||document;if(event.target.nodeType===3)event.target=event.target.parentNode;event.metaKey=!!event.metaKey;return fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(data,
namespaces,eventHandle){if(jQuery.isWindow(this))this.onbeforeunload=eventHandle},teardown:function(namespaces,eventHandle){if(this.onbeforeunload===eventHandle)this.onbeforeunload=null}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:true,originalEvent:{}});if(bubble)jQuery.event.trigger(e,null,elem);else jQuery.event.dispatch.call(elem,e);if(e.isDefaultPrevented())event.preventDefault()}};jQuery.event.handle=jQuery.event.dispatch;jQuery.removeEvent=
document.removeEventListener?function(elem,type,handle){if(elem.removeEventListener)elem.removeEventListener(type,handle,false)}:function(elem,type,handle){var name="on"+type;if(elem.detachEvent){if(typeof elem[name]==="undefined")elem[name]=null;elem.detachEvent(name,handle)}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event))return new jQuery.Event(src,props);if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.returnValue===
false||src.getPreventDefault&&src.getPreventDefault()?returnTrue:returnFalse}else this.type=src;if(props)jQuery.extend(this,props);this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true};function returnFalse(){return false}function returnTrue(){return true}jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e)return;if(e.preventDefault)e.preventDefault();else e.returnValue=false},stopPropagation:function(){this.isPropagationStopped=
returnTrue;var e=this.originalEvent;if(!e)return;if(e.stopPropagation)e.stopPropagation();e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,
related=event.relatedTarget,handleObj=event.handleObj,selector=handleObj.selector;if(!related||related!==target&&!jQuery.contains(target,related)){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix}return ret}}});if(!jQuery.support.submitBubbles)jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form"))return false;jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,
"button")?elem.form:undefined;if(form&&!jQuery._data(form,"_submit_attached")){jQuery.event.add(form,"submit._submit",function(event){event._submit_bubble=true});jQuery._data(form,"_submit_attached",true)}})},postDispatch:function(event){if(event._submit_bubble){delete event._submit_bubble;if(this.parentNode&&!event.isTrigger)jQuery.event.simulate("submit",this.parentNode,event,true)}},teardown:function(){if(jQuery.nodeName(this,"form"))return false;jQuery.event.remove(this,"._submit")}};if(!jQuery.support.changeBubbles)jQuery.event.special.change=
{setup:function(){if(rformElems.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){jQuery.event.add(this,"propertychange._change",function(event){if(event.originalEvent.propertyName==="checked")this._just_changed=true});jQuery.event.add(this,"click._change",function(event){if(this._just_changed&&!event.isTrigger)this._just_changed=false;jQuery.event.simulate("change",this,event,true)})}return false}jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;if(rformElems.test(elem.nodeName)&&
!jQuery._data(elem,"_change_attached")){jQuery.event.add(elem,"change._change",function(event){if(this.parentNode&&!event.isSimulated&&!event.isTrigger)jQuery.event.simulate("change",this.parentNode,event,true)});jQuery._data(elem,"_change_attached",true)}})},handle:function(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||elem.type!=="radio"&&elem.type!=="checkbox")return event.handleObj.handler.apply(this,arguments)},teardown:function(){jQuery.event.remove(this,"._change");
return!rformElems.test(this.nodeName)}};if(!jQuery.support.focusinBubbles)jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var attaches=0,handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),true)};jQuery.event.special[fix]={setup:function(){if(attaches++===0)document.addEventListener(orig,handler,true)},teardown:function(){if(--attaches===0)document.removeEventListener(orig,handler,true)}}});jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,
type;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined}for(type in types)this.on(type,selector,data,types[type],one);return this}if(data==null&&fn==null){fn=selector;data=selector=undefined}else if(fn==null)if(typeof selector==="string"){fn=data;data=undefined}else{fn=data;data=selector;selector=undefined}if(fn===false)fn=returnFalse;else if(!fn)return this;if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments)};
fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)}return this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this}if(typeof types===
"object"){for(type in types)this.off(type,selector,types[type]);return this}if(selector===false||typeof selector==="function"){fn=selector;selector=undefined}if(fn===false)fn=returnFalse;return this.each(function(){jQuery.event.remove(this,types,fn,selector)})},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},live:function(types,data,fn){jQuery(this.context).on(types,this.selector,data,fn);return this},die:function(types,fn){jQuery(this.context).off(types,
this.selector||"**",fn);return this},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn)},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){if(this[0])return jQuery.event.trigger(type,data,this[0],true)},toggle:function(fn){var args=arguments,guid=fn.guid||jQuery.guid++,
i=0,toggler=function(event){var lastToggle=(jQuery._data(this,"lastToggle"+fn.guid)||0)%i;jQuery._data(this,"lastToggle"+fn.guid,lastToggle+1);event.preventDefault();return args[lastToggle].apply(this,arguments)||false};toggler.guid=guid;while(i<args.length)args[i++].guid=guid;return this.click(toggler)},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}});jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+
"change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){if(fn==null){fn=data;data=null}return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)};if(rkeyEvent.test(name))jQuery.event.fixHooks[name]=jQuery.event.keyHooks;if(rmouseEvent.test(name))jQuery.event.fixHooks[name]=jQuery.event.mouseHooks});(function(window,undefined){var cachedruns,assertGetIdNotName,Expr,getText,isXML,contains,compile,sortOrder,hasDuplicate,
outermostContext,baseHasDuplicate=true,strundefined="undefined",expando=("sizcache"+Math.random()).replace(".",""),Token=String,document=window.document,docElem=document.documentElement,dirruns=0,done=0,pop=[].pop,push=[].push,slice=[].slice,indexOf=[].indexOf||function(elem){var i=0,len=this.length;for(;i<len;i++)if(this[i]===elem)return i;return-1},markFunction=function(fn,value){fn[expando]=value==null||value;return fn},createCache=function(){var cache={},keys=[];return markFunction(function(key,
value){if(keys.push(key)>Expr.cacheLength)delete cache[keys.shift()];return cache[key+" "]=value},cache)},classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),operators="([*^$|!~]?\x3d)",attributes="\\["+whitespace+"*("+characterEncoding+")"+whitespace+"*(?:"+operators+whitespace+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+identifier+")|)|)"+whitespace+
"*\\]",pseudos=":("+characterEncoding+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+attributes+")|[^:]|\\\\.)*|.*))\\)|)",pos=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?\x3d[^-]|$)",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([\\x20\\t\\r\\n\\f\x3e+~])"+whitespace+"*"),rpseudo=new RegExp(pseudos),
rquickExpr=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,rnot=/^:not/,rsibling=/[\x20\t\r\n\f]*[+~]/,rendsWithNot=/:not\($/,rheader=/h\d/i,rinputs=/input|select|textarea|button/i,rbackslash=/\\(?!\\)/g,matchExpr={"ID":new RegExp("^#("+characterEncoding+")"),"CLASS":new RegExp("^\\.("+characterEncoding+")"),"NAME":new RegExp("^\\[name\x3d['\"]?("+characterEncoding+")['\"]?\\]"),"TAG":new RegExp("^("+characterEncoding.replace("w","w*")+")"),"ATTR":new RegExp("^"+attributes),"PSEUDO":new RegExp("^"+pseudos),
"POS":new RegExp(pos,"i"),"CHILD":new RegExp("^:(only|nth|first|last)-child(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),"needsContext":new RegExp("^"+whitespace+"*[\x3e+~]|"+pos,"i")},assert=function(fn){var div=document.createElement("div");try{return fn(div)}catch(e){return false}finally{div=null}},assertTagNameNoComments=assert(function(div){div.appendChild(document.createComment(""));return!div.getElementsByTagName("*").length}),
assertHrefNotNormalized=assert(function(div){div.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e";return div.firstChild&&typeof div.firstChild.getAttribute!==strundefined&&div.firstChild.getAttribute("href")==="#"}),assertAttributes=assert(function(div){div.innerHTML="\x3cselect\x3e\x3c/select\x3e";var type=typeof div.lastChild.getAttribute("multiple");return type!=="boolean"&&type!=="string"}),assertUsableClassName=assert(function(div){div.innerHTML="\x3cdiv class\x3d'hidden e'\x3e\x3c/div\x3e\x3cdiv class\x3d'hidden'\x3e\x3c/div\x3e";
if(!div.getElementsByClassName||!div.getElementsByClassName("e").length)return false;div.lastChild.className="e";return div.getElementsByClassName("e").length===2}),assertUsableName=assert(function(div){div.id=expando+0;div.innerHTML="\x3ca name\x3d'"+expando+"'\x3e\x3c/a\x3e\x3cdiv name\x3d'"+expando+"'\x3e\x3c/div\x3e";docElem.insertBefore(div,docElem.firstChild);var pass=document.getElementsByName&&document.getElementsByName(expando).length===2+document.getElementsByName(expando+0).length;assertGetIdNotName=
!document.getElementById(expando);docElem.removeChild(div);return pass});try{slice.call(docElem.childNodes,0)[0].nodeType}catch(e){slice=function(i){var elem,results=[];for(;elem=this[i];i++)results.push(elem);return results}}function Sizzle(selector,context,results,seed){results=results||[];context=context||document;var match,elem,xml,m,nodeType=context.nodeType;if(!selector||typeof selector!=="string")return results;if(nodeType!==1&&nodeType!==9)return[];xml=isXML(context);if(!xml&&!seed)if(match=
rquickExpr.exec(selector))if(m=match[1])if(nodeType===9){elem=context.getElementById(m);if(elem&&elem.parentNode){if(elem.id===m){results.push(elem);return results}}else return results}else{if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results}}else if(match[2]){push.apply(results,slice.call(context.getElementsByTagName(selector),0));return results}else if((m=match[3])&&assertUsableClassName&&context.getElementsByClassName){push.apply(results,
slice.call(context.getElementsByClassName(m),0));return results}return select(selector.replace(rtrim,"$1"),context,results,seed,xml)}Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)};Sizzle.matchesSelector=function(elem,expr){return Sizzle(expr,null,null,[elem]).length>0};function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();
return(name==="input"||name==="button")&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--)if(seed[j=matchIndexes[i]])seed[j]=!(matches[j]=seed[j])})})}getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType)if(nodeType===1||nodeType===9||nodeType===11)if(typeof elem.textContent===
"string")return elem.textContent;else for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem);else{if(nodeType===3||nodeType===4)return elem.nodeValue}else for(;node=elem[i];i++)ret+=getText(node);return ret};isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};contains=Sizzle.contains=docElem.contains?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;
return a===bup||!!(bup&&bup.nodeType===1&&adown.contains&&adown.contains(bup))}:docElem.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){while(b=b.parentNode)if(b===a)return true;return false};Sizzle.attr=function(elem,name){var val,xml=isXML(elem);if(!xml)name=name.toLowerCase();if(val=Expr.attrHandle[name])return val(elem);if(xml||assertAttributes)return elem.getAttribute(name);val=elem.getAttributeNode(name);return val?typeof elem[name]==="boolean"?
elem[name]?name:null:val.specified?val.value:null:null};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:assertHrefNotNormalized?{}:{"href":function(elem){return elem.getAttribute("href",2)},"type":function(elem){return elem.getAttribute("type")}},find:{"ID":assertGetIdNotName?function(id,context,xml){if(typeof context.getElementById!==strundefined&&!xml){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}}:function(id,context,xml){if(typeof context.getElementById!==
strundefined&&!xml){var m=context.getElementById(id);return m?m.id===id||typeof m.getAttributeNode!==strundefined&&m.getAttributeNode("id").value===id?[m]:undefined:[]}},"TAG":assertTagNameNoComments?function(tag,context){if(typeof context.getElementsByTagName!==strundefined)return context.getElementsByTagName(tag)}:function(tag,context){var results=context.getElementsByTagName(tag);if(tag==="*"){var elem,tmp=[],i=0;for(;elem=results[i];i++)if(elem.nodeType===1)tmp.push(elem);return tmp}return results},
"NAME":assertUsableName&&function(tag,context){if(typeof context.getElementsByName!==strundefined)return context.getElementsByName(name)},"CLASS":assertUsableClassName&&function(className,context,xml){if(typeof context.getElementsByClassName!==strundefined&&!xml)return context.getElementsByClassName(className)}},relative:{"\x3e":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{"ATTR":function(match){match[1]=match[1].replace(rbackslash,
"");match[3]=(match[4]||match[5]||"").replace(rbackslash,"");if(match[2]==="~\x3d")match[3]=" "+match[3]+" ";return match.slice(0,4)},"CHILD":function(match){match[1]=match[1].toLowerCase();if(match[1]==="nth"){if(!match[2])Sizzle.error(match[0]);match[3]=+(match[3]?match[4]+(match[5]||1):2*(match[2]==="even"||match[2]==="odd"));match[4]=+(match[6]+match[7]||match[2]==="odd")}else if(match[2])Sizzle.error(match[0]);return match},"PSEUDO":function(match){var unquoted,excess;if(matchExpr["CHILD"].test(match[0]))return null;
if(match[3])match[2]=match[3];else if(unquoted=match[4]){if(rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){unquoted=unquoted.slice(0,excess);match[0]=match[0].slice(0,excess)}match[2]=unquoted}return match.slice(0,3)}},filter:{"ID":assertGetIdNotName?function(id){id=id.replace(rbackslash,"");return function(elem){return elem.getAttribute("id")===id}}:function(id){id=id.replace(rbackslash,"");return function(elem){var node=
typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode("id");return node&&node.value===id}},"TAG":function(nodeName){if(nodeName==="*")return function(){return true};nodeName=nodeName.replace(rbackslash,"").toLowerCase();return function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},"CLASS":function(className){var pattern=classCache[expando][className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,
function(elem){return pattern.test(elem.className||typeof elem.getAttribute!==strundefined&&elem.getAttribute("class")||"")})},"ATTR":function(name,operator,check){return function(elem,context){var result=Sizzle.attr(elem,name);if(result==null)return operator==="!\x3d";if(!operator)return true;result+="";return operator==="\x3d"?result===check:operator==="!\x3d"?result!==check:operator==="^\x3d"?check&&result.indexOf(check)===0:operator==="*\x3d"?check&&result.indexOf(check)>-1:operator==="$\x3d"?
check&&result.substr(result.length-check.length)===check:operator==="~\x3d"?(" "+result+" ").indexOf(check)>-1:operator==="|\x3d"?result===check||result.substr(0,check.length+1)===check+"-":false}},"CHILD":function(type,argument,first,last){if(type==="nth")return function(elem){var node,diff,parent=elem.parentNode;if(first===1&&last===0)return true;if(parent){diff=0;for(node=parent.firstChild;node;node=node.nextSibling)if(node.nodeType===1){diff++;if(elem===node)break}}diff-=last;return diff===first||
diff%first===0&&diff/first>=0};return function(elem){var node=elem;switch(type){case "only":case "first":while(node=node.previousSibling)if(node.nodeType===1)return false;if(type==="first")return true;node=elem;case "last":while(node=node.nextSibling)if(node.nodeType===1)return false;return true}}},"PSEUDO":function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando])return fn(argument);if(fn.length>1){args=
[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf.call(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i])}}):function(elem){return fn(elem,0,args)}}return fn}},pseudos:{"not":markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,
unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--)if(elem=unmatched[i])seed[i]=!(matches[i]=elem)}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);return!results.pop()}}),"has":markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),"contains":markFunction(function(text){return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),"enabled":function(elem){return elem.disabled===false},"disabled":function(elem){return elem.disabled===
true},"checked":function(elem){var nodeName=elem.nodeName.toLowerCase();return nodeName==="input"&&!!elem.checked||nodeName==="option"&&!!elem.selected},"selected":function(elem){if(elem.parentNode)elem.parentNode.selectedIndex;return elem.selected===true},"parent":function(elem){return!Expr.pseudos["empty"](elem)},"empty":function(elem){var nodeType;elem=elem.firstChild;while(elem){if(elem.nodeName>"@"||(nodeType=elem.nodeType)===3||nodeType===4)return false;elem=elem.nextSibling}return true},"header":function(elem){return rheader.test(elem.nodeName)},
"text":function(elem){var type,attr;return elem.nodeName.toLowerCase()==="input"&&(type=elem.type)==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()===type)},"radio":createInputPseudo("radio"),"checkbox":createInputPseudo("checkbox"),"file":createInputPseudo("file"),"password":createInputPseudo("password"),"image":createInputPseudo("image"),"submit":createButtonPseudo("submit"),"reset":createButtonPseudo("reset"),"button":function(elem){var name=elem.nodeName.toLowerCase();return name===
"input"&&elem.type==="button"||name==="button"},"input":function(elem){return rinputs.test(elem.nodeName)},"focus":function(elem){var doc=elem.ownerDocument;return elem===doc.activeElement&&(!doc.hasFocus||doc.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},"active":function(elem){return elem===elem.ownerDocument.activeElement},"first":createPositionalPseudo(function(){return[0]}),"last":createPositionalPseudo(function(matchIndexes,length){return[length-1]}),"eq":createPositionalPseudo(function(matchIndexes,
length,argument){return[argument<0?argument+length:argument]}),"even":createPositionalPseudo(function(matchIndexes,length){for(var i=0;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),"odd":createPositionalPseudo(function(matchIndexes,length){for(var i=1;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),"lt":createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;--i>=0;)matchIndexes.push(i);return matchIndexes}),"gt":createPositionalPseudo(function(matchIndexes,
length,argument){for(var i=argument<0?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}};function siblingCheck(a,b,ret){if(a===b)return ret;var cur=a.nextSibling;while(cur){if(cur===b)return-1;cur=cur.nextSibling}return 1}sortOrder=docElem.compareDocumentPosition?function(a,b){if(a===b){hasDuplicate=true;return 0}return(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:function(a,b){if(a===b){hasDuplicate=
true;return 0}else if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var al,bl,ap=[],bp=[],aup=a.parentNode,bup=b.parentNode,cur=aup;if(aup===bup)return siblingCheck(a,b);else if(!aup)return-1;else if(!bup)return 1;while(cur){ap.unshift(cur);cur=cur.parentNode}cur=bup;while(cur){bp.unshift(cur);cur=cur.parentNode}al=ap.length;bl=bp.length;for(var i=0;i<al&&i<bl;i++)if(ap[i]!==bp[i])return siblingCheck(ap[i],bp[i]);return i===al?siblingCheck(a,bp[i],-1):siblingCheck(ap[i],b,1)};[0,
0].sort(sortOrder);baseHasDuplicate=!hasDuplicate;Sizzle.uniqueSort=function(results){var elem,duplicates=[],i=1,j=0;hasDuplicate=baseHasDuplicate;results.sort(sortOrder);if(hasDuplicate){for(;elem=results[i];i++)if(elem===results[i-1])j=duplicates.push(i);while(j--)results.splice(duplicates[j],1)}return results};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg);};function tokenize(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=
tokenCache[expando][selector+" "];if(cached)return parseOnly?0:cached.slice(0);soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match)soFar=soFar.slice(match[0].length)||soFar;groups.push(tokens=[])}matched=false;if(match=rcombinators.exec(soFar)){tokens.push(matched=new Token(match.shift()));soFar=soFar.slice(matched.length);matched.type=match[0].replace(rtrim," ")}for(type in Expr.filter)if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||
(match=preFilters[type](match)))){tokens.push(matched=new Token(match.shift()));soFar=soFar.slice(matched.length);matched.type=type;matched.matches=match}if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&combinator.dir==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while(elem=elem[dir])if(checkNonElements||
elem.nodeType===1)return matcher(elem,context,xml)}:function(elem,context,xml){if(!xml){var cache,dirkey=dirruns+" "+doneName+" ",cachedkey=dirkey+cachedruns;while(elem=elem[dir])if(checkNonElements||elem.nodeType===1)if((cache=elem[expando])===cachedkey)return elem.sizset;else if(typeof cache==="string"&&cache.indexOf(dirkey)===0){if(elem.sizset)return elem}else{elem[expando]=cachedkey;if(matcher(elem,context,xml)){elem.sizset=true;return elem}elem.sizset=false}}else while(elem=elem[dir])if(checkNonElements||
elem.nodeType===1)if(matcher(elem,context,xml))return elem}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--)if(!matchers[i](elem,context,xml))return false;return true}:matchers[0]}function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++)if(elem=unmatched[i])if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped)map.push(i)}return newUnmatched}
function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando])postFilter=setMatcher(postFilter);if(postFinder&&!postFinder[expando])postFinder=setMatcher(postFinder,postSelector);return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,
context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher)matcher(matcherIn,matcherOut,context,xml);if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--)if(elem=temp[i])matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem)}if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--)if(elem=matcherOut[i])temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=
[],temp,xml)}i=matcherOut.length;while(i--)if((elem=matcherOut[i])&&(temp=postFinder?indexOf.call(seed,elem):preMap[i])>-1)seed[temp]=!(results[temp]=elem)}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder)postFinder(null,results,matcherOut,xml);else push.apply(results,matcherOut)}})}function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||
Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf.call(checkContext,elem)>-1},implicitRelative,true),matchers=[function(elem,context,xml){return!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml))}];for(;i<len;i++)if(matcher=Expr.relative[tokens[i].type])matchers=
[addCombinator(elementMatcher(matchers),matcher)];else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++)if(Expr.relative[tokens[j].type])break;return setMatcher(i>1&&elementMatcher(matchers),i>1&&tokens.slice(0,i-1).join("").replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&tokens.join(""))}matchers.push(matcher)}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,
setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,expandContext){var elem,j,matcher,setMatched=[],matchedCount=0,i="0",unmatched=seed&&[],outermost=expandContext!=null,contextBackup=outermostContext,elems=seed||byElement&&Expr.find["TAG"]("*",expandContext&&context.parentNode||context),dirrunsUnique=dirruns+=contextBackup==null?1:Math.E;if(outermost){outermostContext=context!==document&&context;cachedruns=superMatcher.el}for(;(elem=
elems[i])!=null;i++){if(byElement&&elem){for(j=0;matcher=elementMatchers[j];j++)if(matcher(elem,context,xml)){results.push(elem);break}if(outermost){dirruns=dirrunsUnique;cachedruns=++superMatcher.el}}if(bySet){if(elem=!matcher&&elem)matchedCount--;if(seed)unmatched.push(elem)}}matchedCount+=i;if(bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j];j++)matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount>0)while(i--)if(!(unmatched[i]||setMatched[i]))setMatched[i]=pop.call(results);
setMatched=condense(setMatched)}push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1)Sizzle.uniqueSort(results)}if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup}return unmatched};superMatcher.el=0;return bySet?markFunction(superMatcher):superMatcher}compile=Sizzle.compile=function(selector,group){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[expando][selector+" "];if(!cached){if(!group)group=tokenize(selector);
i=group.length;while(i--){cached=matcherFromTokens(group[i]);if(cached[expando])setMatchers.push(cached);else elementMatchers.push(cached)}cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers))}return cached};function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++)Sizzle(selector,contexts[i],results);return results}function select(selector,context,results,seed,xml){var i,tokens,token,type,find,match=tokenize(selector),j=match.length;
if(!seed)if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&context.nodeType===9&&!xml&&Expr.relative[tokens[1].type]){context=Expr.find["ID"](token.matches[0].replace(rbackslash,""),context,xml)[0];if(!context)return results;selector=selector.slice(tokens.shift().length)}for(i=matchExpr["POS"].test(selector)?-1:tokens.length-1;i>=0;i--){token=tokens[i];if(Expr.relative[type=token.type])break;if(find=Expr.find[type])if(seed=find(token.matches[0].replace(rbackslash,
""),rsibling.test(tokens[0].type)&&context.parentNode||context,xml)){tokens.splice(i,1);selector=seed.length&&tokens.join("");if(!selector){push.apply(results,slice.call(seed,0));return results}break}}}compile(selector,match)(seed,context,xml,results,rsibling.test(selector));return results}if(document.querySelectorAll)(function(){var disconnectedMatch,oldSelect=select,rescape=/'|\\/g,rattributeQuotes=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,rbuggyQSA=[":focus"],rbuggyMatches=[":active"],matches=
docElem.matchesSelector||docElem.mozMatchesSelector||docElem.webkitMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector;assert(function(div){div.innerHTML="\x3cselect\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";if(!div.querySelectorAll("[selected]").length)rbuggyQSA.push("\\["+whitespace+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)");if(!div.querySelectorAll(":checked").length)rbuggyQSA.push(":checked")});assert(function(div){div.innerHTML="\x3cp test\x3d''\x3e\x3c/p\x3e";
if(div.querySelectorAll("[test^\x3d'']").length)rbuggyQSA.push("[*^$]\x3d"+whitespace+"*(?:\"\"|'')");div.innerHTML="\x3cinput type\x3d'hidden'/\x3e";if(!div.querySelectorAll(":enabled").length)rbuggyQSA.push(":enabled",":disabled")});rbuggyQSA=new RegExp(rbuggyQSA.join("|"));select=function(selector,context,results,seed,xml){if(!seed&&!xml&&!rbuggyQSA.test(selector)){var groups,i,old=true,nid=expando,newContext=context,newSelector=context.nodeType===9&&selector;if(context.nodeType===1&&context.nodeName.toLowerCase()!==
"object"){groups=tokenize(selector);if(old=context.getAttribute("id"))nid=old.replace(rescape,"\\$\x26");else context.setAttribute("id",nid);nid="[id\x3d'"+nid+"'] ";i=groups.length;while(i--)groups[i]=nid+groups[i].join("");newContext=rsibling.test(selector)&&context.parentNode||context;newSelector=groups.join(",")}if(newSelector)try{push.apply(results,slice.call(newContext.querySelectorAll(newSelector),0));return results}catch(qsaError){}finally{if(!old)context.removeAttribute("id")}}return oldSelect(selector,
context,results,seed,xml)};if(matches){assert(function(div){disconnectedMatch=matches.call(div,"div");try{matches.call(div,"[test!\x3d'']:sizzle");rbuggyMatches.push("!\x3d",pseudos)}catch(e){}});rbuggyMatches=new RegExp(rbuggyMatches.join("|"));Sizzle.matchesSelector=function(elem,expr){expr=expr.replace(rattributeQuotes,"\x3d'$1']");if(!isXML(elem)&&!rbuggyMatches.test(expr)&&!rbuggyQSA.test(expr))try{var ret=matches.call(elem,expr);if(ret||disconnectedMatch||elem.document&&elem.document.nodeType!==
11)return ret}catch(e){}return Sizzle(expr,null,null,[elem]).length>0}}})();Expr.pseudos["nth"]=Expr.pseudos["eq"];function setFilters(){}Expr.filters=setFilters.prototype=Expr.pseudos;Expr.setFilters=new setFilters;Sizzle.attr=jQuery.attr;jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains})(window);var runtil=/Until$/,rparentsprev=/^(?:parents|prev(?:Until|All))/,
isSimple=/^.[^:#\[\.,]*$/,rneedsContext=jQuery.expr.match.needsContext,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({find:function(selector){var i,l,length,n,r,ret,self=this;if(typeof selector!=="string")return jQuery(selector).filter(function(){for(i=0,l=self.length;i<l;i++)if(jQuery.contains(self[i],this))return true});ret=this.pushStack("","find",selector);for(i=0,l=this.length;i<l;i++){length=ret.length;jQuery.find(selector,this[i],ret);if(i>0)for(n=length;n<
ret.length;n++)for(r=0;r<length;r++)if(ret[r]===ret[n]){ret.splice(n--,1);break}}return ret},has:function(target){var i,targets=jQuery(target,this),len=targets.length;return this.filter(function(){for(i=0;i<len;i++)if(jQuery.contains(this,targets[i]))return true})},not:function(selector){return this.pushStack(winnow(this,selector,false),"not",selector)},filter:function(selector){return this.pushStack(winnow(this,selector,true),"filter",selector)},is:function(selector){return!!selector&&(typeof selector===
"string"?rneedsContext.test(selector)?jQuery(selector,this.context).index(this[0])>=0:jQuery.filter(selector,this).length>0:this.filter(selector).length>0)},closest:function(selectors,context){var cur,i=0,l=this.length,ret=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(;i<l;i++){cur=this[i];while(cur&&cur.ownerDocument&&cur!==context&&cur.nodeType!==11){if(pos?pos.index(cur)>-1:jQuery.find.matchesSelector(cur,selectors)){ret.push(cur);
break}cur=cur.parentNode}}ret=ret.length>1?jQuery.unique(ret):ret;return this.pushStack(ret,"closest",selectors)},index:function(elem){if(!elem)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof elem==="string")return jQuery.inArray(this[0],jQuery(elem));return jQuery.inArray(elem.jquery?elem[0]:elem,this)},add:function(selector,context){var set=typeof selector==="string"?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),
set);return this.pushStack(isDisconnected(set[0])||isDisconnected(all[0])?all:jQuery.unique(all))},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}});jQuery.fn.andSelf=jQuery.fn.addBack;function isDisconnected(node){return!node||!node.parentNode||node.parentNode.nodeType===11}function sibling(cur,dir){do cur=cur[dir];while(cur&&cur.nodeType!==1);return cur}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==
11?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,
i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(!runtil.test(name))selector=until;if(selector&&typeof selector===
"string")ret=jQuery.filter(selector,ret);ret=this.length>1&&!guaranteedUnique[name]?jQuery.unique(ret):ret;if(this.length>1&&rparentsprev.test(name))ret=ret.reverse();return this.pushStack(ret,name,core_slice.call(arguments).join(","))}});jQuery.extend({filter:function(expr,elems,not){if(not)expr=":not("+expr+")";return elems.length===1?jQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[]:jQuery.find.matches(expr,elems)},dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==
9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1)matched.push(cur);cur=cur[dir]}return matched},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling)if(n.nodeType===1&&n!==elem)r.push(n);return r}});function winnow(elements,qualifier,keep){qualifier=qualifier||0;if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){var retVal=!!qualifier.call(elem,i,elem);return retVal===keep});else if(qualifier.nodeType)return jQuery.grep(elements,function(elem,
i){return elem===qualifier===keep});else if(typeof qualifier==="string"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1});if(isSimple.test(qualifier))return jQuery.filter(qualifier,filtered,!keep);else qualifier=jQuery.filter(qualifier,filtered)}return jQuery.grep(elements,function(elem,i){return jQuery.inArray(elem,qualifier)>=0===keep})}function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement)while(list.length)safeFrag.createElement(list.pop());
return safeFrag}var nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|"+"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:null|\d+)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rnocache=/<(?:script|object|embed|option|style)/i,rnoshimcache=
new RegExp("\x3c(?:"+nodeNames+")[\\s/\x3e]","i"),rcheckableType=/^(?:checkbox|radio)$/,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/\/(java|ecma)script/i,rcleanScript=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,wrapMap={option:[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"],legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e",
"\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],area:[1,"\x3cmap\x3e","\x3c/map\x3e"],_default:[0,"",""]},safeFragment=createSafeFragment(document),fragmentDiv=safeFragment.appendChild(document.createElement("div"));wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;if(!jQuery.support.htmlSerialize)wrapMap._default=[1,"X\x3cdiv\x3e",
"\x3c/div\x3e"];jQuery.fn.extend({text:function(value){return jQuery.access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value))},null,value,arguments.length)},wrapAll:function(html){if(jQuery.isFunction(html))return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))});if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode)wrap.insertBefore(this[0]);
wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1)elem=elem.firstChild;return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html))return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))});return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length)contents.wrapAll(html);else self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?
html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body"))jQuery(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1||this.nodeType===11)this.appendChild(elem)})},prepend:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1||this.nodeType===11)this.insertBefore(elem,this.firstChild)})},before:function(){if(!isDisconnected(this[0]))return this.domManip(arguments,
false,function(elem){this.parentNode.insertBefore(elem,this)});if(arguments.length){var set=jQuery.clean(arguments);return this.pushStack(jQuery.merge(set,this),"before",this.selector)}},after:function(){if(!isDisconnected(this[0]))return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)});if(arguments.length){var set=jQuery.clean(arguments);return this.pushStack(jQuery.merge(this,set),"after",this.selector)}},remove:function(selector,keepData){var elem,
i=0;for(;(elem=this[i])!=null;i++)if(!selector||jQuery.filter(selector,[elem]).length){if(!keepData&&elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));jQuery.cleanData([elem])}if(elem.parentNode)elem.parentNode.removeChild(elem)}return this},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1)jQuery.cleanData(elem.getElementsByTagName("*"));while(elem.firstChild)elem.removeChild(elem.firstChild)}return this},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=
dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return jQuery.access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined)return elem.nodeType===1?elem.innerHTML.replace(rinlinejQuery,""):undefined;if(typeof value==="string"&&!rnoInnerhtml.test(value)&&(jQuery.support.htmlSerialize||!rnoshimcache.test(value))&&
(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"\x3c$1\x3e\x3c/$2\x3e");try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));elem.innerHTML=value}}elem=0}catch(e){}}if(elem)this.empty().append(value)},null,value,arguments.length)},replaceWith:function(value){if(!isDisconnected(this[0])){if(jQuery.isFunction(value))return this.each(function(i){var self=
jQuery(this),old=self.html();self.replaceWith(value.call(this,i,old))});if(typeof value!=="string")value=jQuery(value).detach();return this.each(function(){var next=this.nextSibling,parent=this.parentNode;jQuery(this).remove();if(next)jQuery(next).before(value);else jQuery(parent).append(value)})}return this.length?this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value):this},detach:function(selector){return this.remove(selector,true)},domManip:function(args,table,callback){args=
[].concat.apply([],args);var results,first,fragment,iNoClone,i=0,value=args[0],scripts=[],l=this.length;if(!jQuery.support.checkClone&&l>1&&typeof value==="string"&&rchecked.test(value))return this.each(function(){jQuery(this).domManip(args,table,callback)});if(jQuery.isFunction(value))return this.each(function(i){var self=jQuery(this);args[0]=value.call(this,i,table?self.html():undefined);self.domManip(args,table,callback)});if(this[0]){results=jQuery.buildFragment(args,this,scripts);fragment=results.fragment;
first=fragment.firstChild;if(fragment.childNodes.length===1)fragment=first;if(first){table=table&&jQuery.nodeName(first,"tr");for(iNoClone=results.cacheable||l-1;i<l;i++)callback.call(table&&jQuery.nodeName(this[i],"table")?findOrAppend(this[i],"tbody"):this[i],i===iNoClone?fragment:jQuery.clone(fragment,true,true))}fragment=first=null;if(scripts.length)jQuery.each(scripts,function(i,elem){if(elem.src)if(jQuery.ajax)jQuery.ajax({url:elem.src,type:"GET",dataType:"script",async:false,global:false,"throws":true});
else jQuery.error("no ajax");else jQuery.globalEval((elem.text||elem.textContent||elem.innerHTML||"").replace(rcleanScript,""));if(elem.parentNode)elem.parentNode.removeChild(elem)})}return this}});function findOrAppend(elem,tag){return elem.getElementsByTagName(tag)[0]||elem.appendChild(elem.ownerDocument.createElement(tag))}function cloneCopyEvent(src,dest){if(dest.nodeType!==1||!jQuery.hasData(src))return;var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;
if(events){delete curData.handle;curData.events={};for(type in events)for(i=0,l=events[type].length;i<l;i++)jQuery.event.add(dest,type,events[type][i])}if(curData.data)curData.data=jQuery.extend({},curData.data)}function cloneFixAttributes(src,dest){var nodeName;if(dest.nodeType!==1)return;if(dest.clearAttributes)dest.clearAttributes();if(dest.mergeAttributes)dest.mergeAttributes(src);nodeName=dest.nodeName.toLowerCase();if(nodeName==="object"){if(dest.parentNode)dest.outerHTML=src.outerHTML;if(jQuery.support.html5Clone&&
(src.innerHTML&&!jQuery.trim(dest.innerHTML)))dest.innerHTML=src.innerHTML}else if(nodeName==="input"&&rcheckableType.test(src.type)){dest.defaultChecked=dest.checked=src.checked;if(dest.value!==src.value)dest.value=src.value}else if(nodeName==="option")dest.selected=src.defaultSelected;else if(nodeName==="input"||nodeName==="textarea")dest.defaultValue=src.defaultValue;else if(nodeName==="script"&&dest.text!==src.text)dest.text=src.text;dest.removeAttribute(jQuery.expando)}jQuery.buildFragment=function(args,
context,scripts){var fragment,cacheable,cachehit,first=args[0];context=context||document;context=!context.nodeType&&context[0]||context;context=context.ownerDocument||context;if(args.length===1&&typeof first==="string"&&first.length<512&&context===document&&first.charAt(0)==="\x3c"&&!rnocache.test(first)&&(jQuery.support.checkClone||!rchecked.test(first))&&(jQuery.support.html5Clone||!rnoshimcache.test(first))){cacheable=true;fragment=jQuery.fragments[first];cachehit=fragment!==undefined}if(!fragment){fragment=
context.createDocumentFragment();jQuery.clean(args,context,fragment,scripts);if(cacheable)jQuery.fragments[first]=cachehit&&fragment}return{fragment:fragment,cacheable:cacheable}};jQuery.fragments={};jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,i=0,ret=[],insert=jQuery(selector),l=insert.length,parent=this.length===1&&this[0].parentNode;if((parent==null||parent&&
parent.nodeType===11&&parent.childNodes.length===1)&&l===1){insert[original](this[0]);return this}else{for(;i<l;i++){elems=(i>0?this.clone(true):this).get();jQuery(insert[i])[original](elems);ret=ret.concat(elems)}return this.pushStack(ret,name,insert.selector)}}});function getAll(elem){if(typeof elem.getElementsByTagName!=="undefined")return elem.getElementsByTagName("*");else if(typeof elem.querySelectorAll!=="undefined")return elem.querySelectorAll("*");else return[]}function fixDefaultChecked(elem){if(rcheckableType.test(elem.type))elem.defaultChecked=
elem.checked}jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var srcElements,destElements,i,clone;if(jQuery.support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("\x3c"+elem.nodeName+"\x3e"))clone=elem.cloneNode(true);else{fragmentDiv.innerHTML=elem.outerHTML;fragmentDiv.removeChild(clone=fragmentDiv.firstChild)}if((!jQuery.support.noCloneEvent||!jQuery.support.noCloneChecked)&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){cloneFixAttributes(elem,clone);
srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i)if(destElements[i])cloneFixAttributes(srcElements[i],destElements[i])}if(dataAndEvents){cloneCopyEvent(elem,clone);if(deepDataAndEvents){srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i)cloneCopyEvent(srcElements[i],destElements[i])}}srcElements=destElements=null;return clone},clean:function(elems,context,fragment,scripts){var i,j,elem,tag,wrap,depth,div,hasBody,tbody,len,handleScript,jsTags,
safe=context===document&&safeFragment,ret=[];if(!context||typeof context.createDocumentFragment==="undefined")context=document;for(i=0;(elem=elems[i])!=null;i++){if(typeof elem==="number")elem+="";if(!elem)continue;if(typeof elem==="string")if(!rhtml.test(elem))elem=context.createTextNode(elem);else{safe=safe||createSafeFragment(context);div=context.createElement("div");safe.appendChild(div);elem=elem.replace(rxhtmlTag,"\x3c$1\x3e\x3c/$2\x3e");tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=
wrapMap[tag]||wrapMap._default;depth=wrap[0];div.innerHTML=wrap[1]+elem+wrap[2];while(depth--)div=div.lastChild;if(!jQuery.support.tbody){hasBody=rtbody.test(elem);tbody=tag==="table"&&!hasBody?div.firstChild&&div.firstChild.childNodes:wrap[1]==="\x3ctable\x3e"&&!hasBody?div.childNodes:[];for(j=tbody.length-1;j>=0;--j)if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length)tbody[j].parentNode.removeChild(tbody[j])}if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem))div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),
div.firstChild);elem=div.childNodes;div.parentNode.removeChild(div)}if(elem.nodeType)ret.push(elem);else jQuery.merge(ret,elem)}if(div)elem=div=safe=null;if(!jQuery.support.appendChecked)for(i=0;(elem=ret[i])!=null;i++)if(jQuery.nodeName(elem,"input"))fixDefaultChecked(elem);else if(typeof elem.getElementsByTagName!=="undefined")jQuery.grep(elem.getElementsByTagName("input"),fixDefaultChecked);if(fragment){handleScript=function(elem){if(!elem.type||rscriptType.test(elem.type))return scripts?scripts.push(elem.parentNode?
elem.parentNode.removeChild(elem):elem):fragment.appendChild(elem)};for(i=0;(elem=ret[i])!=null;i++)if(!(jQuery.nodeName(elem,"script")&&handleScript(elem))){fragment.appendChild(elem);if(typeof elem.getElementsByTagName!=="undefined"){jsTags=jQuery.grep(jQuery.merge([],elem.getElementsByTagName("script")),handleScript);ret.splice.apply(ret,[i+1,0].concat(jsTags));i+=jsTags.length}}}return ret},cleanData:function(elems,acceptData){var data,id,elem,type,i=0,internalKey=jQuery.expando,cache=jQuery.cache,
deleteExpando=jQuery.support.deleteExpando,special=jQuery.event.special;for(;(elem=elems[i])!=null;i++)if(acceptData||jQuery.acceptData(elem)){id=elem[internalKey];data=id&&cache[id];if(data){if(data.events)for(type in data.events)if(special[type])jQuery.event.remove(elem,type);else jQuery.removeEvent(elem,type,data.handle);if(cache[id]){delete cache[id];if(deleteExpando)delete elem[internalKey];else if(elem.removeAttribute)elem.removeAttribute(internalKey);else elem[internalKey]=null;jQuery.deletedIds.push(id)}}}}});
(function(){var matched,browser;jQuery.uaMatch=function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}};matched=jQuery.uaMatch(navigator.userAgent);browser={};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version}if(browser.chrome)browser.webkit=
true;else if(browser.webkit)browser.safari=true;jQuery.browser=browser;jQuery.sub=function(){function jQuerySub(selector,context){return new jQuerySub.fn.init(selector,context)}jQuery.extend(true,jQuerySub,this);jQuerySub.superclass=this;jQuerySub.fn=jQuerySub.prototype=this();jQuerySub.fn.constructor=jQuerySub;jQuerySub.sub=this.sub;jQuerySub.fn.init=function init(selector,context){if(context&&context instanceof jQuery&&!(context instanceof jQuerySub))context=jQuerySub(context);return jQuery.fn.init.call(this,
selector,context,rootjQuerySub)};jQuerySub.fn.init.prototype=jQuerySub.fn;var rootjQuerySub=jQuerySub(document);return jQuerySub}})();var curCSS,iframe,iframeDoc,ralpha=/alpha\([^)]*\)/i,ropacity=/opacity=([^)]*)/,rposition=/^(top|right|bottom|left)$/,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rmargin=/^margin/,rnumsplit=new RegExp("^("+core_pnum+")(.*)$","i"),rnumnonpx=new RegExp("^("+core_pnum+")(?!px)[a-z%]+$","i"),rrelNum=new RegExp("^([-+])\x3d("+core_pnum+")","i"),elemdisplay={BODY:"block"},cssShow=
{position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssExpand=["Top","Right","Bottom","Left"],cssPrefixes=["Webkit","O","Moz","ms"],eventsToggle=jQuery.fn.toggle;function vendorPropName(style,name){if(name in style)return name;var capName=name.charAt(0).toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in style)return name}return origName}function isHidden(elem,el){elem=el||elem;return jQuery.css(elem,
"display")==="none"||!jQuery.contains(elem.ownerDocument,elem)}function showHide(elements,show){var elem,display,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style)continue;values[index]=jQuery._data(elem,"olddisplay");if(show){if(!values[index]&&elem.style.display==="none")elem.style.display="";if(elem.style.display===""&&isHidden(elem))values[index]=jQuery._data(elem,"olddisplay",css_defaultDisplay(elem.nodeName))}else{display=curCSS(elem,"display");
if(!values[index]&&display!=="none")jQuery._data(elem,"olddisplay",display)}}for(index=0;index<length;index++){elem=elements[index];if(!elem.style)continue;if(!show||elem.style.display==="none"||elem.style.display==="")elem.style.display=show?values[index]||"":"none"}return elements}jQuery.fn.extend({css:function(name,value){return jQuery.access(this,function(elem,name,value){return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,
true)},hide:function(){return showHide(this)},toggle:function(state,fn2){var bool=typeof state==="boolean";if(jQuery.isFunction(state)&&jQuery.isFunction(fn2))return eventsToggle.apply(this,arguments);return this.each(function(){if(bool?state:isHidden(this))jQuery(this).show();else jQuery(this).hide()})}});jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret}}}},cssNumber:{"fillOpacity":true,"fontWeight":true,"lineHeight":true,
"opacity":true,"orphans":true,"widows":true,"zIndex":true,"zoom":true},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style)return;var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type===
"string"&&(ret=rrelNum.exec(value))){value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name));type="number"}if(value==null||type==="number"&&isNaN(value))return;if(type==="number"&&!jQuery.cssNumber[origName])value+="px";if(!hooks||!("set"in hooks)||(value=hooks.set(elem,value,extra))!==undefined)try{style[name]=value}catch(e){}}else{if(hooks&&"get"in hooks&&(ret=hooks.get(elem,false,extra))!==undefined)return ret;return style[name]}},css:function(elem,name,numeric,extra){var val,num,hooks,origName=
jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get"in hooks)val=hooks.get(elem,true,extra);if(val===undefined)val=curCSS(elem,name);if(val==="normal"&&name in cssNormalTransform)val=cssNormalTransform[name];if(numeric||extra!==undefined){num=parseFloat(val);return numeric||jQuery.isNumeric(num)?num||0:val}return val},swap:function(elem,options,callback){var ret,
name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name]}ret=callback.call(elem);for(name in options)elem.style[name]=old[name];return ret}});if(window.getComputedStyle)curCSS=function(elem,name){var ret,width,minWidth,maxWidth,computed=window.getComputedStyle(elem,null),style=elem.style;if(computed){ret=computed.getPropertyValue(name)||computed[name];if(ret===""&&!jQuery.contains(elem.ownerDocument,elem))ret=jQuery.style(elem,name);if(rnumnonpx.test(ret)&&rmargin.test(name)){width=
style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth}}return ret};else if(document.documentElement.currentStyle)curCSS=function(elem,name){var left,rsLeft,ret=elem.currentStyle&&elem.currentStyle[name],style=elem.style;if(ret==null&&style&&style[name])ret=style[name];if(rnumnonpx.test(ret)&&!rposition.test(name)){left=style.left;rsLeft=elem.runtimeStyle&&elem.runtimeStyle.left;
if(rsLeft)elem.runtimeStyle.left=elem.currentStyle.left;style.left=name==="fontSize"?"1em":ret;ret=style.pixelLeft+"px";style.left=left;if(rsLeft)elem.runtimeStyle.left=rsLeft}return ret===""?"auto":ret};function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<
4;i+=2){if(extra==="margin")val+=jQuery.css(elem,extra+cssExpand[i],true);if(isBorderBox){if(extra==="content")val-=parseFloat(curCSS(elem,"padding"+cssExpand[i]))||0;if(extra!=="margin")val-=parseFloat(curCSS(elem,"border"+cssExpand[i]+"Width"))||0}else{val+=parseFloat(curCSS(elem,"padding"+cssExpand[i]))||0;if(extra!=="padding")val+=parseFloat(curCSS(elem,"border"+cssExpand[i]+"Width"))||0}}return val}function getWidthOrHeight(elem,name,extra){var val=name==="width"?elem.offsetWidth:elem.offsetHeight,
valueIsBorderBox=true,isBorderBox=jQuery.support.boxSizing&&jQuery.css(elem,"boxSizing")==="border-box";if(val<=0||val==null){val=curCSS(elem,name);if(val<0||val==null)val=elem.style[name];if(rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(jQuery.support.boxSizingReliable||val===elem.style[name]);val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox)+"px"}function css_defaultDisplay(nodeName){if(elemdisplay[nodeName])return elemdisplay[nodeName];
var elem=jQuery("\x3c"+nodeName+"\x3e").appendTo(document.body),display=elem.css("display");elem.remove();if(display==="none"||display===""){iframe=document.body.appendChild(iframe||jQuery.extend(document.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!iframeDoc||!iframe.createElement){iframeDoc=(iframe.contentWindow||iframe.contentDocument).document;iframeDoc.write("\x3c!doctype html\x3e\x3chtml\x3e\x3cbody\x3e");iframeDoc.close()}elem=iframeDoc.body.appendChild(iframeDoc.createElement(nodeName));
display=curCSS(elem,"display");document.body.removeChild(iframe)}elemdisplay[nodeName]=display;return display}jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed)if(elem.offsetWidth===0&&rdisplayswap.test(curCSS(elem,"display")))return jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)});else return getWidthOrHeight(elem,name,extra)},set:function(elem,value,extra){return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,
name,extra,jQuery.support.boxSizing&&jQuery.css(elem,"boxSizing")==="border-box"):0)}}});if(!jQuery.support.opacity)jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":computed?"1":""},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity\x3d"+value*100+")":"",filter=currentStyle&&currentStyle.filter||
style.filter||"";style.zoom=1;if(value>=1&&jQuery.trim(filter.replace(ralpha,""))===""&&style.removeAttribute){style.removeAttribute("filter");if(currentStyle&&!currentStyle.filter)return}style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity}};jQuery(function(){if(!jQuery.support.reliableMarginRight)jQuery.cssHooks.marginRight={get:function(elem,computed){return jQuery.swap(elem,{"display":"inline-block"},function(){if(computed)return curCSS(elem,"marginRight")})}};if(!jQuery.support.pixelPosition&&
jQuery.fn.position)jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]={get:function(elem,computed){if(computed){var ret=curCSS(elem,prop);return rnumnonpx.test(ret)?jQuery(elem).position()[prop]+"px":ret}}}})});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth===0&&elem.offsetHeight===0||!jQuery.support.reliableHiddenOffsets&&(elem.style&&elem.style.display||curCSS(elem,"display"))==="none"};jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)}}jQuery.each({margin:"",
padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i,parts=typeof value==="string"?value.split(" "):[value],expanded={};for(i=0;i<4;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}};if(!rmargin.test(prefix))jQuery.cssHooks[prefix+suffix].set=setPositiveNumber});var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rinput=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
rselectTextarea=/^(?:select|textarea)/i;jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,
value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():value==null?"":value;s[s.length]=encodeURIComponent(key)+"\x3d"+encodeURIComponent(value)};if(traditional===undefined)traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional;if(jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});
else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("\x26").replace(r20,"+")};function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix))add(prefix,v);else buildParams(prefix+"["+(typeof v==="object"?i:"")+"]",v,traditional,add)});else if(!traditional&&jQuery.type(obj)==="object")for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add);else add(prefix,obj)}var ajaxLocParts,
ajaxLocation,rhash=/#.*$/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,rlocalProtocol=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rquery=/\?/,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,rts=/([?&])_=[^&]*/,rurl=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,_load=jQuery.fn.load,prefilters={},transports={},allTypes=["*/"]+["*"];try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a");ajaxLocation.href=
"";ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*"}var dataType,list,placeBefore,dataTypes=dataTypeExpression.toLowerCase().split(core_rspace),i=0,length=dataTypes.length;if(jQuery.isFunction(func))for(;i<length;i++){dataType=dataTypes[i];placeBefore=/^\+/.test(dataType);if(placeBefore)dataType=
dataType.substr(1)||"*";list=structure[dataType]=structure[dataType]||[];list[placeBefore?"unshift":"push"](func)}}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,dataType,inspected){dataType=dataType||options.dataTypes[0];inspected=inspected||{};inspected[dataType]=true;var selection,list=structure[dataType],i=0,length=list?list.length:0,executeOnly=structure===prefilters;for(;i<length&&(executeOnly||!selection);i++){selection=list[i](options,originalOptions,jqXHR);
if(typeof selection==="string")if(!executeOnly||inspected[selection])selection=undefined;else{options.dataTypes.unshift(selection);selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,selection,inspected)}}if((executeOnly||!selection)&&!inspected["*"])selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,"*",inspected);return selection}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)if(src[key]!==
undefined)(flatOptions[key]?target:deep||(deep={}))[key]=src[key];if(deep)jQuery.extend(true,target,deep)}jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load)return _load.apply(this,arguments);if(!this.length)return this;var selector,type,response,self=this,off=url.indexOf(" ");if(off>=0){selector=url.slice(off,url.length);url=url.slice(0,off)}if(jQuery.isFunction(params)){callback=params;params=undefined}else if(params&&typeof params==="object")type="POST";jQuery.ajax({url:url,
type:type,dataType:"html",data:params,complete:function(jqXHR,status){if(callback)self.each(callback,response||[jqXHR.responseText,status,jqXHR])}}).done(function(responseText){response=arguments;self.html(selector?jQuery("\x3cdiv\x3e").append(responseText.replace(rscript,"")).find(selector):responseText)});return this};jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.on(o,f)}});jQuery.each(["get","post"],function(i,
method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined}return jQuery.ajax({type:method,url:url,data:data,success:callback,dataType:type})}});jQuery.extend({getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},ajaxSetup:function(target,settings){if(settings)ajaxExtend(target,jQuery.ajaxSettings);else{settings=
target;target=jQuery.ajaxSettings}ajaxExtend(target,settings);return target},ajaxSettings:{url:ajaxLocation,isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":allTypes},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},
converters:{"* text":window.String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined}options=options||{};var ifModifiedKey,responseHeadersString,responseHeaders,transport,timeoutTimer,parts,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||
s,globalEventContext=callbackContext!==s&&(callbackContext.nodeType||callbackContext instanceof jQuery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,setRequestHeader:function(name,value){if(!state){var lname=name.toLowerCase();name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value}return this},
getAllResponseHeaders:function(){return state===2?responseHeadersString:null},getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while(match=rheaders.exec(responseHeadersString))responseHeaders[match[1].toLowerCase()]=match[2]}match=responseHeaders[key.toLowerCase()]}return match===undefined?null:match},overrideMimeType:function(type){if(!state)s.mimeType=type;return this},abort:function(statusText){statusText=statusText||strAbort;if(transport)transport.abort(statusText);
done(0,statusText);return this}};function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(state===2)return;state=2;if(timeoutTimer)clearTimeout(timeoutTimer);transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;if(responses)response=ajaxHandleResponses(s,jqXHR,responses);if(status>=200&&status<300||status===304){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified)jQuery.lastModified[ifModifiedKey]=
modified;modified=jqXHR.getResponseHeader("Etag");if(modified)jQuery.etag[ifModifiedKey]=modified}if(status===304){statusText="notmodified";isSuccess=true}else{isSuccess=ajaxConvert(s,response);statusText=isSuccess.state;success=isSuccess.data;error=isSuccess.error;isSuccess=!error}}else{error=statusText;if(!statusText||status){statusText="error";if(status<0)status=0}}jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess)deferred.resolveWith(callbackContext,[success,
statusText,jqXHR]);else deferred.rejectWith(callbackContext,[jqXHR,statusText,error]);jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals)globalEventContext.trigger("ajax"+(isSuccess?"Success":"Error"),[jqXHR,s,isSuccess?success:error]);completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!--jQuery.active)jQuery.event.trigger("ajaxStop")}}deferred.promise(jqXHR);jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;
jqXHR.complete=completeDeferred.add;jqXHR.statusCode=function(map){if(map){var tmp;if(state<2)for(tmp in map)statusCode[tmp]=[statusCode[tmp],map[tmp]];else{tmp=map[jqXHR.status];jqXHR.always(tmp)}}return this};s.url=((url||s.url)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().split(core_rspace);if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!==ajaxLocParts[1]||parts[2]!==ajaxLocParts[2]||
(parts[3]||(parts[1]==="http:"?80:443))!=(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?80:443))))}if(s.data&&s.processData&&typeof s.data!=="string")s.data=jQuery.param(s.data,s.traditional);inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2)return jqXHR;fireGlobals=s.global;s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);if(fireGlobals&&jQuery.active++===0)jQuery.event.trigger("ajaxStart");if(!s.hasContent){if(s.data){s.url+=(rquery.test(s.url)?"\x26":"?")+s.data;
delete s.data}ifModifiedKey=s.url;if(s.cache===false){var ts=jQuery.now(),ret=s.url.replace(rts,"$1_\x3d"+ts);s.url=ret+(ret===s.url?(rquery.test(s.url)?"\x26":"?")+"_\x3d"+ts:"")}}if(s.data&&s.hasContent&&s.contentType!==false||options.contentType)jqXHR.setRequestHeader("Content-Type",s.contentType);if(s.ifModified){ifModifiedKey=ifModifiedKey||s.url;if(jQuery.lastModified[ifModifiedKey])jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[ifModifiedKey]);if(jQuery.etag[ifModifiedKey])jqXHR.setRequestHeader("If-None-Match",
jQuery.etag[ifModifiedKey])}jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q\x3d0.01":""):s.accepts["*"]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2))return jqXHR.abort();strAbort="abort";for(i in{success:1,error:1,complete:1})jqXHR[i](s[i]);transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport)done(-1,
"No Transport");else{jqXHR.readyState=1;if(fireGlobals)globalEventContext.trigger("ajaxSend",[jqXHR,s]);if(s.async&&s.timeout>0)timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout);try{state=1;transport.send(requestHeaders,done)}catch(e){if(state<2)done(-1,e);else throw e;}}return jqXHR},active:0,lastModified:{},etag:{}});function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes,responseFields=s.responseFields;
for(type in responseFields)if(type in responses)jqXHR[responseFields[type]]=responses[type];while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined)ct=s.mimeType||jqXHR.getResponseHeader("content-type")}if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}if(!firstDataType)firstDataType=
type}finalDataType=finalDataType||firstDataType}if(finalDataType){if(finalDataType!==dataTypes[0])dataTypes.unshift(finalDataType);return responses[finalDataType]}}function ajaxConvert(s,response){var conv,conv2,current,tmp,dataTypes=s.dataTypes.slice(),prev=dataTypes[0],converters={},i=0;if(s.dataFilter)response=s.dataFilter(response,s.dataType);if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(;current=dataTypes[++i];)if(current!=="*"){if(prev!=="*"&&
prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv)for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true)conv=converters[conv2];else if(converters[conv2]!==true){current=tmp[0];dataTypes.splice(i--,0,current)}break}}}if(conv!==true)if(conv&&s["throws"])response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+
prev+" to "+current}}}prev=current}return{state:"success",data:response}}var oldCallbacks=[],rquestion=/\?/,rjsonp=/(=)\?(?=&|$)|\?\?/,nonce=jQuery.now();jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;this[callback]=true;return callback}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,data=s.data,url=s.url,hasCallback=s.jsonp!==false,replaceInUrl=hasCallback&&
rjsonp.test(url),replaceInData=hasCallback&&!replaceInUrl&&typeof data==="string"&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(data);if(s.dataTypes[0]==="jsonp"||replaceInUrl||replaceInData){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;overwritten=window[callbackName];if(replaceInUrl)s.url=url.replace(rjsonp,"$1"+callbackName);else if(replaceInData)s.data=data.replace(rjsonp,"$1"+callbackName);else if(hasCallback)s.url+=
(rquestion.test(url)?"\x26":"?")+s.jsonp+"\x3d"+callbackName;s.converters["script json"]=function(){if(!responseContainer)jQuery.error(callbackName+" was not called");return responseContainer[0]};s.dataTypes[0]="json";window[callbackName]=function(){responseContainer=arguments};jqXHR.always(function(){window[callbackName]=overwritten;if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName)}if(responseContainer&&jQuery.isFunction(overwritten))overwritten(responseContainer[0]);
responseContainer=overwritten=undefined});return"script"}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined)s.cache=false;if(s.crossDomain){s.type="GET";s.global=false}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,
head=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script");script.async="async";if(s.scriptCharset)script.charset=s.scriptCharset;script.src=s.url;script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;if(head&&script.parentNode)head.removeChild(script);script=undefined;if(!isAbort)callback(200,
"success")}};head.insertBefore(script,head.firstChild)},abort:function(){if(script)script.onload(0,1)}}}});var xhrCallbacks,xhrOnUnloadAbort=window.ActiveXObject?function(){for(var key in xhrCallbacks)xhrCallbacks[key](0,1)}:false,xhrId=0;function createStandardXHR(){try{return new window.XMLHttpRequest}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&createStandardXHR()||
createActiveXHR()}:createStandardXHR;(function(xhr){jQuery.extend(jQuery.support,{ajax:!!xhr,cors:!!xhr&&"withCredentials"in xhr})})(jQuery.ajaxSettings.xhr());if(jQuery.support.ajax)jQuery.ajaxTransport(function(s){if(!s.crossDomain||jQuery.support.cors){var callback;return{send:function(headers,complete){var handle,i,xhr=s.xhr();if(s.username)xhr.open(s.type,s.url,s.async,s.username,s.password);else xhr.open(s.type,s.url,s.async);if(s.xhrFields)for(i in s.xhrFields)xhr[i]=s.xhrFields[i];if(s.mimeType&&
xhr.overrideMimeType)xhr.overrideMimeType(s.mimeType);if(!s.crossDomain&&!headers["X-Requested-With"])headers["X-Requested-With"]="XMLHttpRequest";try{for(i in headers)xhr.setRequestHeader(i,headers[i])}catch(_){}xhr.send(s.hasContent&&s.data||null);callback=function(_,isAbort){var status,statusText,responseHeaders,responses,xml;try{if(callback&&(isAbort||xhr.readyState===4)){callback=undefined;if(handle){xhr.onreadystatechange=jQuery.noop;if(xhrOnUnloadAbort)delete xhrCallbacks[handle]}if(isAbort){if(xhr.readyState!==
4)xhr.abort()}else{status=xhr.status;responseHeaders=xhr.getAllResponseHeaders();responses={};xml=xhr.responseXML;if(xml&&xml.documentElement)responses.xml=xml;try{responses.text=xhr.responseText}catch(e){}try{statusText=xhr.statusText}catch(e){statusText=""}if(!status&&s.isLocal&&!s.crossDomain)status=responses.text?200:404;else if(status===1223)status=204}}}catch(firefoxAccessException){if(!isAbort)complete(-1,firefoxAccessException)}if(responses)complete(status,statusText,responses,responseHeaders)};
if(!s.async)callback();else if(xhr.readyState===4)setTimeout(callback,0);else{handle=++xhrId;if(xhrOnUnloadAbort){if(!xhrCallbacks){xhrCallbacks={};jQuery(window).unload(xhrOnUnloadAbort)}xhrCallbacks[handle]=callback}xhr.onreadystatechange=callback}},abort:function(){if(callback)callback(0,1)}}}});var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([-+])\x3d|)("+core_pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,
value){var end,unit,tween=this.createTween(prop,value),parts=rfxnum.exec(value),target=tween.cur(),start=+target||0,scale=1,maxIterations=20;if(parts){end=+parts[2];unit=parts[3]||(jQuery.cssNumber[prop]?"":"px");if(unit!=="px"&&start){start=jQuery.css(tween.elem,prop,true)||end||1;do{scale=scale||".5";start=start/scale;jQuery.style(tween.elem,prop,start+unit)}while(scale!==(scale=tween.cur()/target)&&scale!==1&&--maxIterations)}tween.unit=unit;tween.start=start;tween.end=parts[1]?start+(parts[1]+
1)*end:end}return tween}]};function createFxNow(){setTimeout(function(){fxNow=undefined},0);return fxNow=jQuery.now()}function createTweens(animation,props){jQuery.each(props,function(prop,value){var collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;for(;index<length;index++)if(collection[index].call(animation,prop,value))return})}function Animation(elem,properties,options){var result,index=0,tweenerIndex=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),
tick=function(){var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++)animation.tweens[index].run(percent);deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length)return remaining;else{deferred.resolveWith(elem,[animation]);return false}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),
opts:jQuery.extend(true,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end,easing){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;for(;index<length;index++)animation.tweens[index].run(1);if(gotoEnd)deferred.resolveWith(elem,
[animation,gotoEnd]);else deferred.rejectWith(elem,[animation,gotoEnd]);return this}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=animationPrefilters[index].call(animation,elem,props,animation.opts);if(result)return result}createTweens(animation,props);if(jQuery.isFunction(animation.opts.start))animation.opts.start.call(elem,animation);jQuery.fx.timer(jQuery.extend(tick,{anim:animation,queue:animation.opts.queue,elem:elem}));return animation.progress(animation.opts.progress).done(animation.opts.done,
animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0]}if(index!==name){props[name]=value;delete props[index]}hooks=jQuery.cssHooks[name];if(hooks&&"expand"in hooks){value=hooks.expand(value);delete props[name];for(index in value)if(!(index in
props)){props[index]=value[index];specialEasing[index]=easing}}else specialEasing[name]=easing}}jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"]}else props=props.split(" ");var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];tweeners[prop]=tweeners[prop]||[];tweeners[prop].unshift(callback)}},prefilter:function(callback,prepend){if(prepend)animationPrefilters.unshift(callback);else animationPrefilters.push(callback)}});
function defaultPrefilter(elem,props,opts){var index,prop,value,length,dataShow,toggle,tween,hooks,oldfire,anim=this,style=elem.style,orig={},handled=[],hidden=elem.nodeType&&isHidden(elem);if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued)oldfire()}}hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length)hooks.empty.fire()})})}if(elem.nodeType===
1&&("height"in props||"width"in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];if(jQuery.css(elem,"display")==="inline"&&jQuery.css(elem,"float")==="none")if(!jQuery.support.inlineBlockNeedsLayout||css_defaultDisplay(elem.nodeName)==="inline")style.display="inline-block";else style.zoom=1}if(opts.overflow){style.overflow="hidden";if(!jQuery.support.shrinkWrapBlocks)anim.done(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2]})}for(index in props){value=
props[index];if(rfxtypes.exec(value)){delete props[index];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show"))continue;handled.push(index)}}length=handled.length;if(length){dataShow=jQuery._data(elem,"fxshow")||jQuery._data(elem,"fxshow",{});if("hidden"in dataShow)hidden=dataShow.hidden;if(toggle)dataShow.hidden=!hidden;if(hidden)jQuery(elem).show();else anim.done(function(){jQuery(elem).hide()});anim.done(function(){var prop;jQuery.removeData(elem,"fxshow",true);for(prop in orig)jQuery.style(elem,
prop,orig[prop])});for(index=0;index<length;index++){prop=handled[index];tween=anim.createTween(prop,hidden?dataShow[prop]:0);orig[prop]=dataShow[prop]||jQuery.style(elem,prop);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start=prop==="width"||prop==="height"?1:0}}}}}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,
prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||"swing";this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration)this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration);
else this.pos=eased=percent;this.now=(this.end-this.start)*eased+this.start;if(this.options.step)this.options.step.call(this.elem,this.now,this);if(hooks&&hooks.set)hooks.set(this);else Tween.propHooks._default.set(this);return this}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem[tween.prop]!=null&&(!tween.elem.style||tween.elem.style[tween.prop]==null))return tween.elem[tween.prop];result=jQuery.css(tween.elem,tween.prop,false,
"");return!result||result==="auto"?0:result},set:function(tween){if(jQuery.fx.step[tween.prop])jQuery.fx.step[tween.prop](tween);else if(tween.elem.style&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop]))jQuery.style(tween.elem,tween.prop,tween.now+tween.unit);else tween.elem[tween.prop]=tween.now}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode)tween.elem[tween.prop]=tween.now}};jQuery.each(["toggle",
"show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"||!i&&jQuery.isFunction(speed)&&jQuery.isFunction(easing)?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback)}});jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=
jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty)anim.stop(true)};return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd)};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined}if(clearQueue&&type!==false)this.queue(type||
"fx",[]);return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=jQuery._data(this);if(index){if(data[index]&&data[index].stop)stopQueue(data[index])}else for(index in data)if(data[index]&&data[index].stop&&rrun.test(index))stopQueue(data[index]);for(index=timers.length;index--;)if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1)}if(dequeue||!gotoEnd)jQuery.dequeue(this,
type)})}});function genFx(type,includeWidth){var which,attrs={height:type},i=0;includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type}if(includeWidth)attrs.opacity=attrs.width=type;return attrs}jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,
speed,easing,callback)}});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true)opt.queue="fx";opt.old=opt.complete;
opt.complete=function(){if(jQuery.isFunction(opt.old))opt.old.call(this);if(opt.queue)jQuery.dequeue(this,opt.queue)};return opt};jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2}};jQuery.timers=[];jQuery.fx=Tween.prototype.init;jQuery.fx.tick=function(){var timer,timers=jQuery.timers,i=0;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer)timers.splice(i--,1)}if(!timers.length)jQuery.fx.stop();fxNow=undefined};jQuery.fx.timer=
function(timer){if(timer()&&jQuery.timers.push(timer)&&!timerId)timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval)};jQuery.fx.interval=13;jQuery.fx.stop=function(){clearInterval(timerId);timerId=null};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fx.step={};if(jQuery.expr&&jQuery.expr.filters)jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length};var rroot=/^(?:body|html)$/i;jQuery.fn.offset=function(options){if(arguments.length)return options===
undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,body,win,clientTop,clientLeft,scrollTop,scrollLeft,box={top:0,left:0},elem=this[0],doc=elem&&elem.ownerDocument;if(!doc)return;if((body=doc.body)===elem)return jQuery.offset.bodyOffset(elem);docElem=doc.documentElement;if(!jQuery.contains(docElem,elem))return box;if(typeof elem.getBoundingClientRect!=="undefined")box=elem.getBoundingClientRect();win=getWindow(doc);clientTop=docElem.clientTop||body.clientTop||
0;clientLeft=docElem.clientLeft||body.clientLeft||0;scrollTop=win.pageYOffset||docElem.scrollTop;scrollLeft=win.pageXOffset||docElem.scrollLeft;return{top:box.top+scrollTop-clientTop,left:box.left+scrollLeft-clientLeft}};jQuery.offset={bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;if(jQuery.support.doesNotIncludeMarginInBodyOffset){top+=parseFloat(jQuery.css(body,"marginTop"))||0;left+=parseFloat(jQuery.css(body,"marginLeft"))||0}return{top:top,left:left}},setOffset:function(elem,
options,i){var position=jQuery.css(elem,"position");if(position==="static")elem.style.position="relative";var curElem=jQuery(elem),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=(position==="absolute"||position==="fixed")&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1,props={},curPosition={},curTop,curLeft;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left}else{curTop=parseFloat(curCSSTop)||
0;curLeft=parseFloat(curCSSLeft)||0}if(jQuery.isFunction(options))options=options.call(elem,i,curOffset);if(options.top!=null)props.top=options.top-curOffset.top+curTop;if(options.left!=null)props.left=options.left-curOffset.left+curLeft;if("using"in options)options.using.call(elem,props);else curElem.css(props)}};jQuery.fn.extend({position:function(){if(!this[0])return;var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=rroot.test(offsetParent[0].nodeName)?{top:0,
left:0}:offsetParent.offset();offset.top-=parseFloat(jQuery.css(elem,"marginTop"))||0;offset.left-=parseFloat(jQuery.css(elem,"marginLeft"))||0;parentOffset.top+=parseFloat(jQuery.css(offsetParent[0],"borderTopWidth"))||0;parentOffset.left+=parseFloat(jQuery.css(offsetParent[0],"borderLeftWidth"))||0;return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||document.body;while(offsetParent&&(!rroot.test(offsetParent.nodeName)&&
jQuery.css(offsetParent,"position")==="static"))offsetParent=offsetParent.offsetParent;return offsetParent||document.body})}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top=/Y/.test(prop);jQuery.fn[method]=function(val){return jQuery.access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined)return win?prop in win?win[prop]:win.document.documentElement[method]:elem[method];if(win)win.scrollTo(!top?val:jQuery(win).scrollLeft(),top?
val:jQuery(win).scrollTop());else elem[method]=val},method,val,arguments.length,null)}});function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false}jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||
(margin===true||value===true?"margin":"border");return jQuery.access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem))return elem.document.documentElement["client"+name];if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])}return value===undefined?jQuery.css(elem,type,value,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})});
window.jQuery=window.$=jQuery;if(typeof define==="function"&&define.amd&&define.amd.jQuery)define("jquery",[],function(){return jQuery})})(window);
(function(){function stripHtml(value){return value.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[0-9.(),;:!?%#$'"_+=\/-]*/g,"")}jQuery.validator.addMethod("maxWords",function(value,element,params){return this.optional(element)||stripHtml(value).match(/\b\w+\b/g).length<params},jQuery.validator.format("Please enter {0} words or less."));jQuery.validator.addMethod("minWords",function(value,element,params){return this.optional(element)||stripHtml(value).match(/\b\w+\b/g).length>=
params},jQuery.validator.format("Please enter at least {0} words."));jQuery.validator.addMethod("rangeWords",function(value,element,params){return this.optional(element)||stripHtml(value).match(/\b\w+\b/g).length>=params[0]&&value.match(/bw+b/g).length<params[1]},jQuery.validator.format("Please enter between {0} and {1} words."))})();jQuery.validator.addMethod("letterswithbasicpunc",function(value,element){return this.optional(element)||/^[a-z-.,()'\"\s]+$/i.test(value)},"Letters or punctuation only please");
jQuery.validator.addMethod("alphanumeric",function(value,element){return this.optional(element)||/^(\w|\s)+$/i.test(value)},"Letters, numbers, spaces or underscores only please");jQuery.validator.addMethod("lettersonly",function(value,element){return this.optional(element)||/^[a-z]+$/i.test(value)},"Letters only please");jQuery.validator.addMethod("nowhitespace",function(value,element){return this.optional(element)||/^\S+$/i.test(value)},"No white space please");
jQuery.validator.addMethod("ziprange",function(value,element){return this.optional(element)||/^90[2-5]\d\{2}-\d{4}$/.test(value)},"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx");jQuery.validator.addMethod("integer",function(value,element){return this.optional(element)||/^-?\d+$/.test(value)},"A positive or negative non-decimal number please");
jQuery.validator.addMethod("vinUS",function(v){if(v.length!=17)return false;var i,n,d,f,cd,cdv;var LL=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"];var VL=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9];var FL=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2];var rs=0;for(i=0;i<17;i++){f=FL[i];d=v.slice(i,i+1);if(i==8)cdv=d;if(!isNaN(d))d*=f;else for(n=0;n<LL.length;n++)if(d.toUpperCase()===LL[n]){d=VL[n];d*=f;if(isNaN(cdv)&&n==8)cdv=LL[n];break}rs+=d}cd=rs%11;if(cd==
10)cd="X";if(cd==cdv)return true;return false},"The specified vehicle identification number (VIN) is invalid.");
jQuery.validator.addMethod("dateITA",function(value,element){var check=false;var re=/^\d{1,2}\/\d{1,2}\/\d{4}$/;if(re.test(value)){var adata=value.split("/");var gg=parseInt(adata[0],10);var mm=parseInt(adata[1],10);var aaaa=parseInt(adata[2],10);var xdata=new Date(aaaa,mm-1,gg);if(xdata.getFullYear()==aaaa&&xdata.getMonth()==mm-1&&xdata.getDate()==gg)check=true;else check=false}else check=false;return this.optional(element)||check},"Please enter a correct date");
jQuery.validator.addMethod("dateNL",function(value,element){return this.optional(element)||/^\d\d?[\.\/-]\d\d?[\.\/-]\d\d\d?\d?$/.test(value)},"Vul hier een geldige datum in.");jQuery.validator.addMethod("time",function(value,element){return this.optional(element)||/^([01][0-9])|(2[0123]):([0-5])([0-9])$/.test(value)},"Please enter a valid time, between 00:00 and 23:59");
jQuery.validator.addMethod("phoneUS",function(phone_number,element){phone_number=phone_number.replace(/\s+/g,"");return this.optional(element)||phone_number.length>9&&phone_number.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number");jQuery.validator.addMethod("phoneUK",function(phone_number,element){return this.optional(element)||phone_number.length>9&&phone_number.match(/^(\(?(0|\+44)[1-9]{1}\d{1,4}?\)?\s?\d{3,4}\s?\d{3,4})$/)},"Please specify a valid phone number");
jQuery.validator.addMethod("mobileUK",function(phone_number,element){return this.optional(element)||phone_number.length>9&&phone_number.match(/^((0|\+44)7(5|6|7|8|9){1}\d{2}\s?\d{6})$/)},"Please specify a valid mobile number");jQuery.validator.addMethod("strippedminlength",function(value,element,param){return jQuery(value).text().length>=param},jQuery.validator.format("Please enter at least {0} characters"));
jQuery.validator.addMethod("email2",function(value,element,param){return this.optional(element)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(value)},
jQuery.validator.messages.email);
jQuery.validator.addMethod("url2",function(value,element,param){return this.optional(element)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value)},jQuery.validator.messages.url);
jQuery.validator.addMethod("creditcardtypes",function(value,element,param){if(/[^0-9-]+/.test(value))return false;value=value.replace(/\D/g,"");var validTypes=0;if(param.mastercard)validTypes|=1;if(param.visa)validTypes|=2;if(param.amex)validTypes|=4;if(param.dinersclub)validTypes|=8;if(param.enroute)validTypes|=16;if(param.discover)validTypes|=32;if(param.jcb)validTypes|=64;if(param.unknown)validTypes|=128;if(param.all)validTypes=1|2|4|8|16|32|64|128;if(validTypes&1&&/^(51|52|53|54|55)/.test(value))return value.length==
16;if(validTypes&2&&/^(4)/.test(value))return value.length==16;if(validTypes&4&&/^(34|37)/.test(value))return value.length==15;if(validTypes&8&&/^(300|301|302|303|304|305|36|38)/.test(value))return value.length==14;if(validTypes&16&&/^(2014|2149)/.test(value))return value.length==15;if(validTypes&32&&/^(6011)/.test(value))return value.length==16;if(validTypes&64&&/^(3)/.test(value))return value.length==16;if(validTypes&64&&/^(2131|1800)/.test(value))return value.length==15;if(validTypes&128)return true;
return false},"Please enter a valid credit card number.");
(function($){$.extend($.fn,{validate:function(options){if(!this.length){options&&options.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var validator=$.data(this[0],"validator");if(validator)return validator;validator=new $.validator(options,this[0]);$.data(this[0],"validator",validator);if(validator.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){validator.cancelSubmit=true});if(validator.settings.submitHandler)this.find("input, button").filter(":submit").click(function(){validator.submitButton=
this});this.submit(function(event){if(validator.settings.debug)event.preventDefault();function handle(){if(validator.settings.submitHandler){if(validator.submitButton)var hidden=$("\x3cinput type\x3d'hidden'/\x3e").attr("name",validator.submitButton.name).val(validator.submitButton.value).appendTo(validator.currentForm);validator.settings.submitHandler.call(validator,validator.currentForm);if(validator.submitButton)hidden.remove();return false}return true}if(validator.cancelSubmit){validator.cancelSubmit=
false;return handle()}if(validator.form()){if(validator.pendingRequest){validator.formSubmitted=true;return false}return handle()}else{validator.focusInvalid();return false}})}return validator},valid:function(){if($(this[0]).is("form"))return this.validate().form();else{var valid=true;var validator=$(this[0].form).validate();this.each(function(){valid&=validator.element(this)});return valid}},removeAttrs:function(attributes){var result={},$element=this;$.each(attributes.split(/\s/),function(index,
value){result[value]=$element.attr(value);$element.removeAttr(value)});return result},rules:function(command,argument){var element=this[0];if(command){var settings=$.data(element.form,"validator").settings;var staticRules=settings.rules;var existingRules=$.validator.staticRules(element);switch(command){case "add":$.extend(existingRules,$.validator.normalizeRule(argument));staticRules[element.name]=existingRules;if(argument.messages)settings.messages[element.name]=$.extend(settings.messages[element.name],
argument.messages);break;case "remove":if(!argument){delete staticRules[element.name];return existingRules}var filtered={};$.each(argument.split(/\s/),function(index,method){filtered[method]=existingRules[method];delete existingRules[method]});return filtered}}var data=$.validator.normalizeRules($.extend({},$.validator.metadataRules(element),$.validator.classRules(element),$.validator.attributeRules(element),$.validator.staticRules(element)),element);if(data.required){var param=data.required;delete data.required;
data=$.extend({required:param},data)}return data}});$.extend($.expr[":"],{blank:function(a){return!$.trim(""+a.value)},filled:function(a){return!!$.trim(""+a.value)},unchecked:function(a){return!a.checked}});$.validator=function(options,form){this.settings=$.extend(true,{},$.validator.defaults,options);this.currentForm=form;this.init()};$.validator.format=function(source,params){if(arguments.length==1)return function(){var args=$.makeArray(arguments);args.unshift(source);return $.validator.format.apply(this,
args)};if(arguments.length>2&&params.constructor!=Array)params=$.makeArray(arguments).slice(1);if(params.constructor!=Array)params=[params];$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),n)});return source};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(element){this.lastActive=
element;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(element)).hide()}},onfocusout:function(element){if(!this.checkable(element)&&(element.name in this.submitted||!this.optional(element)))this.element(element)},onkeyup:function(element){if(element.name in this.submitted||element==this.lastElement)this.element(element)},onclick:function(element){if(element.name in
this.submitted)this.element(element);else if(element.parentNode.name in this.submitted)this.element(element.parentNode)},highlight:function(element,errorClass,validClass){if(element.type==="radio")this.findByName(element.name).addClass(errorClass).removeClass(validClass);else $(element).addClass(errorClass).removeClass(validClass)},unhighlight:function(element,errorClass,validClass){if(element.type==="radio")this.findByName(element.name).removeClass(errorClass).addClass(validClass);else $(element).removeClass(errorClass).addClass(validClass)}},
setDefaults:function(settings){$.extend($.validator.defaults,settings)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",
maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=
$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var groups=this.groups={};$.each(this.settings.groups,function(key,value){$.each(value.split(/\s/),function(index,name){groups[name]=key})});var rules=this.settings.rules;$.each(rules,function(key,
value){rules[key]=$.validator.normalizeRule(value)});function delegate(event){var validator=$.data(this[0].form,"validator"),eventType="on"+event.type.replace(/^validate/,"");validator.settings[eventType]&&validator.settings[eventType].call(validator,this[0])}$(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",delegate).validateDelegate(":radio, :checkbox, select, option","click",delegate);if(this.settings.invalidHandler)$(this.currentForm).bind("invalid-form.validate",
this.settings.invalidHandler)},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid())$(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var i=0,elements=this.currentElements=this.elements();elements[i];i++)this.check(elements[i]);return this.valid()},element:function(element){element=this.clean(element);this.lastElement=element;this.prepareElement(element);
this.currentElements=$(element);var result=this.check(element);if(result)delete this.invalid[element.name];else this.invalid[element.name]=true;if(!this.numberOfInvalids())this.toHide=this.toHide.add(this.containers);this.showErrors();return result},showErrors:function(errors){if(errors){$.extend(this.errorMap,errors);this.errorList=[];for(var name in errors)this.errorList.push({message:errors[name],element:this.findByName(name)[0]});this.successList=$.grep(this.successList,function(element){return!(element.name in
errors)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){if($.fn.resetForm)$(this.currentForm).resetForm();this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(obj){var count=0;for(var i in obj)count++;return count},hideErrors:function(){this.addWrapper(this.toHide).hide()},
valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var lastActive=this.lastActive;return lastActive&&$.grep(this.errorList,function(n){return n.element.name==lastActive.name}).length==1&&lastActive},elements:function(){var validator=this,rulesCache=
{};return $(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&validator.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in rulesCache||!validator.objectLength($(this).rules()))return false;rulesCache[this.name]=true;return true})},clean:function(selector){return $(selector)[0]},errors:function(){return $(this.settings.errorElement+"."+this.settings.errorClass,
this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);this.currentElements=$([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(element){this.reset();this.toHide=this.errorsFor(element)},check:function(element){element=this.clean(element);if(this.checkable(element))element=this.findByName(element.name).not(this.settings.ignore)[0];var rules=$(element).rules();var dependencyMismatch=
false;for(var method in rules){var rule={method:method,parameters:rules[method]};try{var result=$.validator.methods[method].call(this,element.value.replace(/\r/g,""),element,rule.parameters);if(result=="dependency-mismatch"){dependencyMismatch=true;continue}dependencyMismatch=false;if(result=="pending"){this.toHide=this.toHide.not(this.errorsFor(element));return}if(!result){this.formatAndAdd(element,rule);return false}}catch(e){this.settings.debug&&window.console&&console.log("exception occured when checking element "+
element.id+", check the '"+rule.method+"' method",e);throw e;}}if(dependencyMismatch)return;if(this.objectLength(rules))this.successList.push(element);return true},customMetaMessage:function(element,method){if(!$.metadata)return;var meta=this.settings.meta?$(element).metadata()[this.settings.meta]:$(element).metadata();return meta&&meta.messages&&meta.messages[method]},customMessage:function(name,method){var m=this.settings.messages[name];return m&&(m.constructor==String?m:m[method])},findDefined:function(){for(var i=
0;i<arguments.length;i++)if(arguments[i]!==undefined)return arguments[i];return undefined},defaultMessage:function(element,method){return this.findDefined(this.customMessage(element.name,method),this.customMetaMessage(element,method),!this.settings.ignoreTitle&&element.title||undefined,$.validator.messages[method],"\x3cstrong\x3eWarning: No message defined for "+element.name+"\x3c/strong\x3e")},formatAndAdd:function(element,rule){var message=this.defaultMessage(element,rule.method),theregex=/\$?\{(\d+)\}/g;
if(typeof message=="function")message=message.call(this,rule.parameters,element);else if(theregex.test(message))message=jQuery.format(message.replace(theregex,"{$1}"),rule.parameters);this.errorList.push({message:message,element:element});this.errorMap[element.name]=message;this.submitted[element.name]=message},addWrapper:function(toToggle){if(this.settings.wrapper)toToggle=toToggle.add(toToggle.parent(this.settings.wrapper));return toToggle},defaultShowErrors:function(){for(var i=0;this.errorList[i];i++){var error=
this.errorList[i];this.settings.highlight&&this.settings.highlight.call(this,error.element,this.settings.errorClass,this.settings.validClass);this.showLabel(error.element,error.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(var i=0;this.successList[i];i++)this.showLabel(this.successList[i]);if(this.settings.unhighlight)for(var i=0,elements=this.validElements();elements[i];i++)this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,
this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return $(this.errorList).map(function(){return this.element})},showLabel:function(element,message){var label=this.errorsFor(element);if(label.length){label.removeClass().addClass(this.settings.errorClass);label.attr("generated")&&label.html(message)}else{label=$("\x3c"+
this.settings.errorElement+"/\x3e").attr({"for":this.idOrName(element),generated:true}).addClass(this.settings.errorClass).html(message||"");if(this.settings.wrapper)label=label.hide().show().wrap("\x3c"+this.settings.wrapper+"/\x3e").parent();if(!this.labelContainer.append(label).length)this.settings.errorPlacement?this.settings.errorPlacement(label,$(element)):label.insertAfter(element)}if(!message&&this.settings.success){label.text("");typeof this.settings.success=="string"?label.addClass(this.settings.success):
this.settings.success(label)}this.toShow=this.toShow.add(label)},errorsFor:function(element){var name=this.idOrName(element);return this.errors().filter(function(){return $(this).attr("for")==name})},idOrName:function(element){return this.groups[element.name]||(this.checkable(element)?element.name:element.id||element.name)},checkable:function(element){return/radio|checkbox/i.test(element.type)},findByName:function(name){var form=this.currentForm;return $(document.getElementsByName(name)).map(function(index,
element){return element.form==form&&element.name==name&&element||null})},getLength:function(value,element){switch(element.nodeName.toLowerCase()){case "select":return $("option:selected",element).length;case "input":if(this.checkable(element))return this.findByName(element.name).filter(":checked").length}return value.length},depend:function(param,element){return this.dependTypes[typeof param]?this.dependTypes[typeof param](param,element):true},dependTypes:{"boolean":function(param,element){return param},
"string":function(param,element){return!!$(param,element.form).length},"function":function(param,element){return param(element)}},optional:function(element){return!$.validator.methods.required.call(this,$.trim(element.value),element)&&"dependency-mismatch"},startRequest:function(element){if(!this.pending[element.name]){this.pendingRequest++;this.pending[element.name]=true}},stopRequest:function(element,valid){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[element.name];
if(valid&&this.pendingRequest==0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();this.formSubmitted=false}else if(!valid&&this.pendingRequest==0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function(element){return $.data(element,"previousValue")||$.data(element,"previousValue",{old:null,valid:true,message:this.defaultMessage(element,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},
url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(className,rules){className.constructor==String?this.classRuleSettings[className]=rules:$.extend(this.classRuleSettings,className)},classRules:function(element){var rules={};var classes=$(element).attr("class");classes&&$.each(classes.split(" "),function(){if(this in $.validator.classRuleSettings)$.extend(rules,
$.validator.classRuleSettings[this])});return rules},attributeRules:function(element){var rules={};var $element=$(element);for(var method in $.validator.methods){var value=$element.attr(method);if(value)rules[method]=value}if(rules.maxlength&&/-1|2147483647|524288/.test(rules.maxlength))delete rules.maxlength;return rules},metadataRules:function(element){if(!$.metadata)return{};var meta=$.data(element.form,"validator").settings.meta;return meta?$(element).metadata()[meta]:$(element).metadata()},staticRules:function(element){var rules=
{};var validator=$.data(element.form,"validator");if(validator.settings.rules)rules=$.validator.normalizeRule(validator.settings.rules[element.name])||{};return rules},normalizeRules:function(rules,element){$.each(rules,function(prop,val){if(val===false){delete rules[prop];return}if(val.param||val.depends){var keepRule=true;switch(typeof val.depends){case "string":keepRule=!!$(val.depends,element.form).length;break;case "function":keepRule=val.depends.call(element,element);break}if(keepRule)rules[prop]=
val.param!==undefined?val.param:true;else delete rules[prop]}});$.each(rules,function(rule,parameter){rules[rule]=$.isFunction(parameter)?parameter(element):parameter});$.each(["minlength","maxlength","min","max"],function(){if(rules[this])rules[this]=Number(rules[this])});$.each(["rangelength","range"],function(){if(rules[this])rules[this]=[Number(rules[this][0]),Number(rules[this][1])]});if($.validator.autoCreateRanges){if(rules.min&&rules.max){rules.range=[rules.min,rules.max];delete rules.min;
delete rules.max}if(rules.minlength&&rules.maxlength){rules.rangelength=[rules.minlength,rules.maxlength];delete rules.minlength;delete rules.maxlength}}if(rules.messages)delete rules.messages;return rules},normalizeRule:function(data){if(typeof data=="string"){var transformed={};$.each(data.split(/\s/),function(){transformed[this]=true});data=transformed}return data},addMethod:function(name,method,message){$.validator.methods[name]=method;$.validator.messages[name]=message!=undefined?message:$.validator.messages[name];
if(method.length<3)$.validator.addClassRules(name,$.validator.normalizeRule(name))},methods:{required:function(value,element,param){if(!this.depend(param,element))return"dependency-mismatch";switch(element.nodeName.toLowerCase()){case "select":var val=$(element).val();return val&&val.length>0;case "input":if(this.checkable(element))return this.getLength(value,element)>0;default:return $.trim(value).length>0}},remote:function(value,element,param){if(this.optional(element))return"dependency-mismatch";
var previous=this.previousValue(element);if(!this.settings.messages[element.name])this.settings.messages[element.name]={};previous.originalMessage=this.settings.messages[element.name].remote;this.settings.messages[element.name].remote=previous.message;param=typeof param=="string"&&{url:param}||param;if(this.pending[element.name])return"pending";if(previous.old===value)return previous.valid;previous.old=value;var validator=this;this.startRequest(element);var data={};data[element.name]=value;$.ajax($.extend(true,
{url:param,mode:"abort",port:"validate"+element.name,dataType:"json",data:data,success:function(response){validator.settings.messages[element.name].remote=previous.originalMessage;var valid=response===true;if(valid){var submitted=validator.formSubmitted;validator.prepareElement(element);validator.formSubmitted=submitted;validator.successList.push(element);validator.showErrors()}else{var errors={};var message=response||validator.defaultMessage(element,"remote");errors[element.name]=previous.message=
$.isFunction(message)?message(value):message;validator.showErrors(errors)}previous.valid=valid;validator.stopRequest(element,valid)}},param));return"pending"},minlength:function(value,element,param){return this.optional(element)||this.getLength($.trim(value),element)>=param},maxlength:function(value,element,param){return this.optional(element)||this.getLength($.trim(value),element)<=param},rangelength:function(value,element,param){var length=this.getLength($.trim(value),element);return this.optional(element)||
length>=param[0]&&length<=param[1]},min:function(value,element,param){return this.optional(element)||value>=param},max:function(value,element,param){return this.optional(element)||value<=param},range:function(value,element,param){return this.optional(element)||value>=param[0]&&value<=param[1]},email:function(value,element){return this.optional(element)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(value)},
url:function(value,element){return this.optional(element)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value)},
date:function(value,element){return this.optional(element)||!/Invalid|NaN/.test(new Date(value))},dateISO:function(value,element){return this.optional(element)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(value)},number:function(value,element){return this.optional(element)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(value)},digits:function(value,element){return this.optional(element)||/^\d+$/.test(value)},creditcard:function(value,element){if(this.optional(element))return"dependency-mismatch";if(/[^0-9-]+/.test(value))return false;
var nCheck=0,nDigit=0,bEven=false;value=value.replace(/\D/g,"");for(var n=value.length-1;n>=0;n--){var cDigit=value.charAt(n);var nDigit=parseInt(cDigit,10);if(bEven)if((nDigit*=2)>9)nDigit-=9;nCheck+=nDigit;bEven=!bEven}return nCheck%10==0},accept:function(value,element,param){param=typeof param=="string"?param.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(element)||value.match(new RegExp(".("+param+")$","i"))},equalTo:function(value,element,param){var target=$(param).unbind(".validate-equalTo").bind("blur.validate-equalTo",
function(){$(element).valid()});return value==target.val()}}});$.format=$.validator.format})(jQuery);
(function($){var pendingRequests={};if($.ajaxPrefilter)$.ajaxPrefilter(function(settings,_,xhr){var port=settings.port;if(settings.mode=="abort"){if(pendingRequests[port])pendingRequests[port].abort();pendingRequests[port]=xhr}});else{var ajax=$.ajax;$.ajax=function(settings){var mode=("mode"in settings?settings:$.ajaxSettings).mode,port=("port"in settings?settings:$.ajaxSettings).port;if(mode=="abort"){if(pendingRequests[port])pendingRequests[port].abort();return pendingRequests[port]=ajax.apply(this,
arguments)}return ajax.apply(this,arguments)}}})(jQuery);
(function($){if(!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener)$.each({focus:"focusin",blur:"focusout"},function(original,fix){$.event.special[fix]={setup:function(){this.addEventListener(original,handler,true)},teardown:function(){this.removeEventListener(original,handler,true)},handler:function(e){arguments[0]=$.event.fix(e);arguments[0].type=fix;return $.event.handle.apply(this,arguments)}};function handler(e){e=$.event.fix(e);e.type=fix;return $.event.handle.call(this,
e)}});$.extend($.fn,{validateDelegate:function(delegate,type,handler){return this.bind(type,function(event){var target=$(event.target);if(target.is(delegate))return handler.apply(target,arguments)})}})})(jQuery);
jQuery.cookie=function(key,value,options){if(arguments.length>1&&String(value)!=="[object Object]"){options=jQuery.extend({},options);if(value===null||value===undefined)options.expires=-1;if(typeof options.expires==="number"){var days=options.expires,t=options.expires=new Date;t.setDate(t.getDate()+days)}value=String(value);return document.cookie=[encodeURIComponent(key),"\x3d",options.raw?value:encodeURIComponent(value),options.expires?"; expires\x3d"+options.expires.toUTCString():"",options.path?
"; path\x3d"+options.path:"",options.domain?"; domain\x3d"+options.domain:"",options.secure?"; secure":""].join("")}options=value||{};var result,decode=options.raw?function(s){return s}:decodeURIComponent;return(result=(new RegExp("(?:^|; )"+encodeURIComponent(key)+"\x3d([^;]*)")).exec(document.cookie))?decode(result[1]):null};
(function($,window,undefined){var dataFlag="watermark",dataClass="watermarkClass",dataFocus="watermarkFocus",dataFormSubmit="watermarkSubmit",dataMaxLen="watermarkMaxLength",dataPassword="watermarkPassword",dataText="watermarkText",rreturn=/\r/g,rInvalidType=/^(button|checkbox|hidden|image|radio|range|reset|submit)$/i,selWatermarkDefined="input:data("+dataFlag+"),textarea:data("+dataFlag+")",selWatermarkAble=":watermarkable",triggerFns=["Page_ClientValidate"],pageDirty=false,hasNativePlaceholder=
"placeholder"in document.createElement("input");$.watermark=$.watermark||{version:"3.1.4",runOnce:true,options:{className:"watermark",useNative:true,hideBeforeUnload:true},hide:function(selector){$(selector).filter(selWatermarkDefined).each(function(){$.watermark._hide($(this))})},_hide:function($input,focus){var elem=$input[0],inputVal=(elem.value||"").replace(rreturn,""),inputWm=$input.data(dataText)||"",maxLen=$input.data(dataMaxLen)||0,className=$input.data(dataClass);if(inputWm.length&&inputVal==
inputWm){elem.value="";if($input.data(dataPassword))if(($input.attr("type")||"")==="text"){var $pwd=$input.data(dataPassword)||[],$wrap=$input.parent()||[];if($pwd.length&&$wrap.length){$wrap[0].removeChild($input[0]);$wrap[0].appendChild($pwd[0]);$input=$pwd}}if(maxLen){$input.attr("maxLength",maxLen);$input.removeData(dataMaxLen)}if(focus){$input.attr("autocomplete","off");window.setTimeout(function(){$input.select()},1)}}className&&$input.removeClass(className)},show:function(selector){$(selector).filter(selWatermarkDefined).each(function(){$.watermark._show($(this))})},
_show:function($input){var elem=$input[0],val=(elem.value||"").replace(rreturn,""),text=$input.data(dataText)||"",type=$input.attr("type")||"",className=$input.data(dataClass);if((val.length==0||val==text)&&!$input.data(dataFocus)){pageDirty=true;if($input.data(dataPassword))if(type==="password"){var $pwd=$input.data(dataPassword)||[],$wrap=$input.parent()||[];if($pwd.length&&$wrap.length){$wrap[0].removeChild($input[0]);$wrap[0].appendChild($pwd[0]);$input=$pwd;$input.attr("maxLength",text.length);
elem=$input[0]}}if(type==="text"||type==="search"){var maxLen=$input.attr("maxLength")||0;if(maxLen>0&&text.length>maxLen){$input.data(dataMaxLen,maxLen);$input.attr("maxLength",text.length)}}className&&$input.addClass(className);elem.value=text}else $.watermark._hide($input)},hideAll:function(){if(pageDirty){$.watermark.hide(selWatermarkAble);pageDirty=false}},showAll:function(){$.watermark.show(selWatermarkAble)}};$.fn.watermark=$.fn.watermark||function(text,options){if(!this.length)return this;
var hasClass=false,hasText=typeof text==="string";if(hasText)text=text.replace(rreturn,"");if(typeof options==="object"){hasClass=typeof options.className==="string";options=$.extend({},$.watermark.options,options)}else if(typeof options==="string"){hasClass=true;options=$.extend({},$.watermark.options,{className:options})}else options=$.watermark.options;if(typeof options.useNative!=="function")options.useNative=options.useNative?function(){return true}:function(){return false};return this.each(function(){var $input=
$(this);if(!$input.is(selWatermarkAble))return;if($input.data(dataFlag)){if(hasText||hasClass){$.watermark._hide($input);if(hasText)$input.data(dataText,text);if(hasClass)$input.data(dataClass,options.className)}}else{if(hasNativePlaceholder&&options.useNative.call(this,$input)&&($input.attr("tagName")||"")!=="TEXTAREA"){if(hasText)$input.attr("placeholder",text);return}$input.data(dataText,hasText?text:"");$input.data(dataClass,options.className);$input.data(dataFlag,1);if(($input.attr("type")||
"")==="password"){var $wrap=$input.wrap("\x3cspan\x3e").parent(),$wm=$($wrap.html().replace(/type=["']?password["']?/i,'type\x3d"text"'));$wm.data(dataText,$input.data(dataText));$wm.data(dataClass,$input.data(dataClass));$wm.data(dataFlag,1);$wm.attr("maxLength",text.length);$wm.focus(function(){$.watermark._hide($wm,true)}).bind("dragenter",function(){$.watermark._hide($wm)}).bind("dragend",function(){window.setTimeout(function(){$wm.blur()},1)});$input.blur(function(){$.watermark._show($input)}).bind("dragleave",
function(){$.watermark._show($input)});$wm.data(dataPassword,$input);$input.data(dataPassword,$wm)}else $input.focus(function(){$input.data(dataFocus,1);$.watermark._hide($input,true)}).blur(function(){$input.data(dataFocus,0);$.watermark._show($input)}).bind("dragenter",function(){$.watermark._hide($input)}).bind("dragleave",function(){$.watermark._show($input)}).bind("dragend",function(){window.setTimeout(function(){$.watermark._show($input)},1)}).bind("drop",function(evt){var elem=$input[0],dropText=
evt.originalEvent.dataTransfer.getData("Text");if((elem.value||"").replace(rreturn,"").replace(dropText,"")===$input.data(dataText))elem.value=dropText;$input.focus()});if(this.form){var form=this.form,$form=$(form);if(!$form.data(dataFormSubmit)){$form.submit($.watermark.hideAll);if(form.submit){$form.data(dataFormSubmit,form.submit);form.submit=function(f,$f){return function(){var nativeSubmit=$f.data(dataFormSubmit);$.watermark.hideAll();if(nativeSubmit.apply)nativeSubmit.apply(f,Array.prototype.slice.call(arguments));
else nativeSubmit()}}(form,$form)}else{$form.data(dataFormSubmit,1);form.submit=function(f){return function(){$.watermark.hideAll();delete f.submit;f.submit()}}(form)}}}}$.watermark._show($input)})};if($.watermark.runOnce){$.watermark.runOnce=false;$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName)}}):function(elem,i,match){return!!$.data(elem,match[3])},watermarkable:function(elem){var type,name=elem.nodeName;
if(name==="TEXTAREA")return true;if(name!=="INPUT")return false;type=elem.getAttribute("type");return!type||!rInvalidType.test(type)}});(function(valOld){$.fn.val=function(){var args=Array.prototype.slice.call(arguments);if(!this.length)return args.length?this:undefined;if(!args.length)if(this.data(dataFlag)){var v=(this[0].value||"").replace(rreturn,"");return v===(this.data(dataText)||"")?"":v}else return valOld.apply(this);else{valOld.apply(this,args);$.watermark.show(this);return this}}})($.fn.val);
if(triggerFns.length)$(function(){var i,name,fn;for(i=triggerFns.length-1;i>=0;i--){name=triggerFns[i];fn=window[name];if(typeof fn==="function")window[name]=function(origFn){return function(){$.watermark.hideAll();return origFn.apply(null,Array.prototype.slice.call(arguments))}}(fn)}});$(window).bind("beforeunload",function(){if($.watermark.options.hideBeforeUnload)$.watermark.hideAll()})}})(jQuery,window);
(function($){function Countdown(){this.regional=[];this.regional[""]={labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:false};this._defaults={until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:false,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:false,
onExpiry:null,onTick:null,tickInterval:1};$.extend(this._defaults,this.regional[""]);this._serverSyncs=[];var now=typeof Date.now=="function"?Date.now:function(){return(new Date).getTime()};var perfAvail=window.performance&&typeof window.performance.now=="function";function timerCallBack(timestamp){var drawStart=timestamp<1E12?perfAvail?performance.now()+performance.timing.navigationStart:now():timestamp||now();if(drawStart-animationStartTime>=1E3){plugin._updateTargets();animationStartTime=drawStart}requestAnimationFrame(timerCallBack)}
var requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null;var animationStartTime=0;if(!requestAnimationFrame||$.noRequestAnimationFrame){$.noRequestAnimationFrame=null;setInterval(function(){plugin._updateTargets()},980)}else{animationStartTime=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||
now();requestAnimationFrame(timerCallBack)}}var Y=0;var O=1;var W=2;var D=3;var H=4;var M=5;var S=6;$.extend(Countdown.prototype,{markerClassName:"hasCountdown",propertyName:"countdown",_rtlClass:"countdown_rtl",_sectionClass:"countdown_section",_amountClass:"countdown_amount",_rowClass:"countdown_row",_holdingClass:"countdown_holding",_showClass:"countdown_show",_descrClass:"countdown_descr",_timerTargets:[],setDefaults:function(options){this._resetExtraLabels(this._defaults,options);$.extend(this._defaults,
options||{})},UTCDate:function(tz,year,month,day,hours,mins,secs,ms){if(typeof year=="object"&&year.constructor==Date){ms=year.getMilliseconds();secs=year.getSeconds();mins=year.getMinutes();hours=year.getHours();day=year.getDate();month=year.getMonth();year=year.getFullYear()}var d=new Date;d.setUTCFullYear(year);d.setUTCDate(1);d.setUTCMonth(month||0);d.setUTCDate(day||1);d.setUTCHours(hours||0);d.setUTCMinutes((mins||0)-(Math.abs(tz)<30?tz*60:tz));d.setUTCSeconds(secs||0);d.setUTCMilliseconds(ms||
0);return d},periodsToSeconds:function(periods){return periods[0]*31557600+periods[1]*2629800+periods[2]*604800+periods[3]*86400+periods[4]*3600+periods[5]*60+periods[6]},_attachPlugin:function(target,options){target=$(target);if(target.hasClass(this.markerClassName))return;var inst={options:$.extend({},this._defaults),_periods:[0,0,0,0,0,0,0]};target.addClass(this.markerClassName).data(this.propertyName,inst);this._optionPlugin(target,options)},_addTarget:function(target){if(!this._hasTarget(target))this._timerTargets.push(target)},
_hasTarget:function(target){return $.inArray(target,this._timerTargets)>-1},_removeTarget:function(target){this._timerTargets=$.map(this._timerTargets,function(value){return value==target?null:value})},_updateTargets:function(){for(var i=this._timerTargets.length-1;i>=0;i--)this._updateCountdown(this._timerTargets[i])},_optionPlugin:function(target,options,value){target=$(target);var inst=target.data(this.propertyName);if(!options||typeof options=="string"&&value==null){var name=options;options=(inst||
{}).options;return options&&name?options[name]:options}if(!target.hasClass(this.markerClassName))return;options=options||{};if(typeof options=="string"){var name=options;options={};options[name]=value}if(options.layout)options.layout=options.layout.replace(/&lt;/g,"\x3c").replace(/&gt;/g,"\x3e");this._resetExtraLabels(inst.options,options);var timezoneChanged=inst.options.timezone!=options.timezone;$.extend(inst.options,options);this._adjustSettings(target,inst,options.until!=null||options.since!=
null||timezoneChanged);var now=new Date;if(inst._since&&inst._since<now||inst._until&&inst._until>now)this._addTarget(target[0]);this._updateCountdown(target,inst)},_updateCountdown:function(target,inst){var $target=$(target);inst=inst||$target.data(this.propertyName);if(!inst)return;$target.html(this._generateHTML(inst)).toggleClass(this._rtlClass,inst.options.isRTL);if($.isFunction(inst.options.onTick)){var periods=inst._hold!="lap"?inst._periods:this._calculatePeriods(inst,inst._show,inst.options.significant,
new Date);if(inst.options.tickInterval==1||this.periodsToSeconds(periods)%inst.options.tickInterval==0)inst.options.onTick.apply(target,[periods])}var expired=inst._hold!="pause"&&(inst._since?inst._now.getTime()<inst._since.getTime():inst._now.getTime()>=inst._until.getTime());if(expired&&!inst._expiring){inst._expiring=true;if(this._hasTarget(target)||inst.options.alwaysExpire){this._removeTarget(target);if($.isFunction(inst.options.onExpiry))inst.options.onExpiry.apply(target,[]);if(inst.options.expiryText){var layout=
inst.options.layout;inst.options.layout=inst.options.expiryText;this._updateCountdown(target,inst);inst.options.layout=layout}if(inst.options.expiryUrl)window.location=inst.options.expiryUrl}inst._expiring=false}else if(inst._hold=="pause")this._removeTarget(target);$target.data(this.propertyName,inst)},_resetExtraLabels:function(base,options){var changingLabels=false;for(var n in options)if(n!="whichLabels"&&n.match(/[Ll]abels/)){changingLabels=true;break}if(changingLabels)for(var n in base)if(n.match(/[Ll]abels[02-9]|compactLabels1/))base[n]=
null},_adjustSettings:function(target,inst,recalc){var now;var serverOffset=0;var serverEntry=null;for(var i=0;i<this._serverSyncs.length;i++)if(this._serverSyncs[i][0]==inst.options.serverSync){serverEntry=this._serverSyncs[i][1];break}if(serverEntry!=null){serverOffset=inst.options.serverSync?serverEntry:0;now=new Date}else{var serverResult=$.isFunction(inst.options.serverSync)?inst.options.serverSync.apply(target,[]):null;now=new Date;serverOffset=serverResult?now.getTime()-serverResult.getTime():
0;this._serverSyncs.push([inst.options.serverSync,serverOffset])}var timezone=inst.options.timezone;timezone=timezone==null?-now.getTimezoneOffset():timezone;if(recalc||!recalc&&inst._until==null&&inst._since==null){inst._since=inst.options.since;if(inst._since!=null){inst._since=this.UTCDate(timezone,this._determineTime(inst._since,null));if(inst._since&&serverOffset)inst._since.setMilliseconds(inst._since.getMilliseconds()+serverOffset)}inst._until=this.UTCDate(timezone,this._determineTime(inst.options.until,
now));if(serverOffset)inst._until.setMilliseconds(inst._until.getMilliseconds()+serverOffset)}inst._show=this._determineShow(inst)},_destroyPlugin:function(target){target=$(target);if(!target.hasClass(this.markerClassName))return;this._removeTarget(target[0]);target.removeClass(this.markerClassName).empty().removeData(this.propertyName)},_pausePlugin:function(target){this._hold(target,"pause")},_lapPlugin:function(target){this._hold(target,"lap")},_resumePlugin:function(target){this._hold(target,
null)},_hold:function(target,hold){var inst=$.data(target,this.propertyName);if(inst){if(inst._hold=="pause"&&!hold){inst._periods=inst._savePeriods;var sign=inst._since?"-":"+";inst[inst._since?"_since":"_until"]=this._determineTime(sign+inst._periods[0]+"y"+sign+inst._periods[1]+"o"+sign+inst._periods[2]+"w"+sign+inst._periods[3]+"d"+sign+inst._periods[4]+"h"+sign+inst._periods[5]+"m"+sign+inst._periods[6]+"s");this._addTarget(target)}inst._hold=hold;inst._savePeriods=hold=="pause"?inst._periods:
null;$.data(target,this.propertyName,inst);this._updateCountdown(target,inst)}},_getTimesPlugin:function(target){var inst=$.data(target,this.propertyName);return!inst?null:inst._hold=="pause"?inst._savePeriods:!inst._hold?inst._periods:this._calculatePeriods(inst,inst._show,inst.options.significant,new Date)},_determineTime:function(setting,defaultTime){var offsetNumeric=function(offset){var time=new Date;time.setTime(time.getTime()+offset*1E3);return time};var offsetString=function(offset){offset=
offset.toLowerCase();var time=new Date;var year=time.getFullYear();var month=time.getMonth();var day=time.getDate();var hour=time.getHours();var minute=time.getMinutes();var second=time.getSeconds();var pattern=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g;var matches=pattern.exec(offset);while(matches){switch(matches[2]||"s"){case "s":second+=parseInt(matches[1],10);break;case "m":minute+=parseInt(matches[1],10);break;case "h":hour+=parseInt(matches[1],10);break;case "d":day+=parseInt(matches[1],10);break;
case "w":day+=parseInt(matches[1],10)*7;break;case "o":month+=parseInt(matches[1],10);day=Math.min(day,plugin._getDaysInMonth(year,month));break;case "y":year+=parseInt(matches[1],10);day=Math.min(day,plugin._getDaysInMonth(year,month));break}matches=pattern.exec(offset)}return new Date(year,month,day,hour,minute,second,0)};var time=setting==null?defaultTime:typeof setting=="string"?offsetString(setting):typeof setting=="number"?offsetNumeric(setting):setting;if(time)time.setMilliseconds(0);return time},
_getDaysInMonth:function(year,month){return 32-(new Date(year,month,32)).getDate()},_normalLabels:function(num){return num},_generateHTML:function(inst){var self=this;inst._periods=inst._hold?inst._periods:this._calculatePeriods(inst,inst._show,inst.options.significant,new Date);var shownNonZero=false;var showCount=0;var sigCount=inst.options.significant;var show=$.extend({},inst._show);for(var period=Y;period<=S;period++){shownNonZero|=inst._show[period]=="?"&&inst._periods[period]>0;show[period]=
inst._show[period]=="?"&&!shownNonZero?null:inst._show[period];showCount+=show[period]?1:0;sigCount-=inst._periods[period]>0?1:0}var showSignificant=[false,false,false,false,false,false,false];for(var period=S;period>=Y;period--)if(inst._show[period])if(inst._periods[period])showSignificant[period]=true;else{showSignificant[period]=sigCount>0;sigCount--}var labels=inst.options.compact?inst.options.compactLabels:inst.options.labels;var whichLabels=inst.options.whichLabels||this._normalLabels;var showCompact=
function(period){var labelsNum=inst.options["compactLabels"+whichLabels(inst._periods[period])];return show[period]?self._translateDigits(inst,inst._periods[period])+(labelsNum?labelsNum[period]:labels[period])+" ":""};var showFull=function(period){var labelsNum=inst.options["labels"+whichLabels(inst._periods[period])];return!inst.options.significant&&show[period]||inst.options.significant&&showSignificant[period]?'\x3cspan class\x3d"'+plugin._sectionClass+'"\x3e'+'\x3cspan class\x3d"'+plugin._amountClass+
'"\x3e'+self._translateDigits(inst,inst._periods[period])+"\x3c/span\x3e\x3cbr/\x3e"+(labelsNum?labelsNum[period]:labels[period])+"\x3c/span\x3e":""};return inst.options.layout?this._buildLayout(inst,show,inst.options.layout,inst.options.compact,inst.options.significant,showSignificant):(inst.options.compact?'\x3cspan class\x3d"'+this._rowClass+" "+this._amountClass+(inst._hold?" "+this._holdingClass:"")+'"\x3e'+showCompact(Y)+showCompact(O)+showCompact(W)+showCompact(D)+(show[H]?this._minDigits(inst,
inst._periods[H],2):"")+(show[M]?(show[H]?inst.options.timeSeparator:"")+this._minDigits(inst,inst._periods[M],2):"")+(show[S]?(show[H]||show[M]?inst.options.timeSeparator:"")+this._minDigits(inst,inst._periods[S],2):""):'\x3cspan class\x3d"'+this._rowClass+" "+this._showClass+(inst.options.significant||showCount)+(inst._hold?" "+this._holdingClass:"")+'"\x3e'+showFull(Y)+showFull(O)+showFull(W)+showFull(D)+showFull(H)+showFull(M)+showFull(S))+"\x3c/span\x3e"+(inst.options.description?'\x3cspan class\x3d"'+
this._rowClass+" "+this._descrClass+'"\x3e'+inst.options.description+"\x3c/span\x3e":"")},_buildLayout:function(inst,show,layout,compact,significant,showSignificant){var labels=inst.options[compact?"compactLabels":"labels"];var whichLabels=inst.options.whichLabels||this._normalLabels;var labelFor=function(index){return(inst.options[(compact?"compactLabels":"labels")+whichLabels(inst._periods[index])]||labels)[index]};var digit=function(value,position){return inst.options.digits[Math.floor(value/position)%
10]};var subs={desc:inst.options.description,sep:inst.options.timeSeparator,yl:labelFor(Y),yn:this._minDigits(inst,inst._periods[Y],1),ynn:this._minDigits(inst,inst._periods[Y],2),ynnn:this._minDigits(inst,inst._periods[Y],3),y1:digit(inst._periods[Y],1),y10:digit(inst._periods[Y],10),y100:digit(inst._periods[Y],100),y1000:digit(inst._periods[Y],1E3),ol:labelFor(O),on:this._minDigits(inst,inst._periods[O],1),onn:this._minDigits(inst,inst._periods[O],2),onnn:this._minDigits(inst,inst._periods[O],3),
o1:digit(inst._periods[O],1),o10:digit(inst._periods[O],10),o100:digit(inst._periods[O],100),o1000:digit(inst._periods[O],1E3),wl:labelFor(W),wn:this._minDigits(inst,inst._periods[W],1),wnn:this._minDigits(inst,inst._periods[W],2),wnnn:this._minDigits(inst,inst._periods[W],3),w1:digit(inst._periods[W],1),w10:digit(inst._periods[W],10),w100:digit(inst._periods[W],100),w1000:digit(inst._periods[W],1E3),dl:labelFor(D),dn:this._minDigits(inst,inst._periods[D],1),dnn:this._minDigits(inst,inst._periods[D],
2),dnnn:this._minDigits(inst,inst._periods[D],3),d1:digit(inst._periods[D],1),d10:digit(inst._periods[D],10),d100:digit(inst._periods[D],100),d1000:digit(inst._periods[D],1E3),hl:labelFor(H),hn:this._minDigits(inst,inst._periods[H],1),hnn:this._minDigits(inst,inst._periods[H],2),hnnn:this._minDigits(inst,inst._periods[H],3),h1:digit(inst._periods[H],1),h10:digit(inst._periods[H],10),h100:digit(inst._periods[H],100),h1000:digit(inst._periods[H],1E3),ml:labelFor(M),mn:this._minDigits(inst,inst._periods[M],
1),mnn:this._minDigits(inst,inst._periods[M],2),mnnn:this._minDigits(inst,inst._periods[M],3),m1:digit(inst._periods[M],1),m10:digit(inst._periods[M],10),m100:digit(inst._periods[M],100),m1000:digit(inst._periods[M],1E3),sl:labelFor(S),sn:this._minDigits(inst,inst._periods[S],1),snn:this._minDigits(inst,inst._periods[S],2),snnn:this._minDigits(inst,inst._periods[S],3),s1:digit(inst._periods[S],1),s10:digit(inst._periods[S],10),s100:digit(inst._periods[S],100),s1000:digit(inst._periods[S],1E3)};var html=
layout;for(var i=Y;i<=S;i++){var period="yowdhms".charAt(i);var re=new RegExp("\\{"+period+"\x3c\\}([\\s\\S]*)\\{"+period+"\x3e\\}","g");html=html.replace(re,!significant&&show[i]||significant&&showSignificant[i]?"$1":"")}$.each(subs,function(n,v){var re=new RegExp("\\{"+n+"\\}","g");html=html.replace(re,v)});return html},_minDigits:function(inst,value,len){value=""+value;if(value.length>=len)return this._translateDigits(inst,value);value="0000000000"+value;return this._translateDigits(inst,value.substr(value.length-
len))},_translateDigits:function(inst,value){return(""+value).replace(/[0-9]/g,function(digit){return inst.options.digits[digit]})},_determineShow:function(inst){var format=inst.options.format;var show=[];show[Y]=format.match("y")?"?":format.match("Y")?"!":null;show[O]=format.match("o")?"?":format.match("O")?"!":null;show[W]=format.match("w")?"?":format.match("W")?"!":null;show[D]=format.match("d")?"?":format.match("D")?"!":null;show[H]=format.match("h")?"?":format.match("H")?"!":null;show[M]=format.match("m")?
"?":format.match("M")?"!":null;show[S]=format.match("s")?"?":format.match("S")?"!":null;return show},_calculatePeriods:function(inst,show,significant,now){inst._now=now;inst._now.setMilliseconds(0);var until=new Date(inst._now.getTime());if(inst._since)if(now.getTime()<inst._since.getTime())inst._now=now=until;else now=inst._since;else{until.setTime(inst._until.getTime());if(now.getTime()>inst._until.getTime())inst._now=now=until}var periods=[0,0,0,0,0,0,0];if(show[Y]||show[O]){var lastNow=plugin._getDaysInMonth(now.getFullYear(),
now.getMonth());var lastUntil=plugin._getDaysInMonth(until.getFullYear(),until.getMonth());var sameDay=until.getDate()==now.getDate()||until.getDate()>=Math.min(lastNow,lastUntil)&&now.getDate()>=Math.min(lastNow,lastUntil);var getSecs=function(date){return(date.getHours()*60+date.getMinutes())*60+date.getSeconds()};var months=Math.max(0,(until.getFullYear()-now.getFullYear())*12+until.getMonth()-now.getMonth()+(until.getDate()<now.getDate()&&!sameDay||sameDay&&getSecs(until)<getSecs(now)?-1:0));
periods[Y]=show[Y]?Math.floor(months/12):0;periods[O]=show[O]?months-periods[Y]*12:0;now=new Date(now.getTime());var wasLastDay=now.getDate()==lastNow;var lastDay=plugin._getDaysInMonth(now.getFullYear()+periods[Y],now.getMonth()+periods[O]);if(now.getDate()>lastDay)now.setDate(lastDay);now.setFullYear(now.getFullYear()+periods[Y]);now.setMonth(now.getMonth()+periods[O]);if(wasLastDay)now.setDate(lastDay)}var diff=Math.floor((until.getTime()-now.getTime())/1E3);var extractPeriod=function(period,numSecs){periods[period]=
show[period]?Math.floor(diff/numSecs):0;diff-=periods[period]*numSecs};extractPeriod(W,604800);extractPeriod(D,86400);extractPeriod(H,3600);extractPeriod(M,60);extractPeriod(S,1);if(diff>0&&!inst._since){var multiplier=[1,12,4.3482,7,24,60,60];var lastShown=S;var max=1;for(var period=S;period>=Y;period--){if(show[period]){if(periods[lastShown]>=max){periods[lastShown]=0;diff=1}if(diff>0){periods[period]++;diff=0;lastShown=period;max=1}}max*=multiplier[period]}}if(significant)for(var period=Y;period<=
S;period++)if(significant&&periods[period])significant--;else if(!significant)periods[period]=0;return periods}});var getters=["getTimes"];function isNotChained(command,otherArgs){if(command=="option"&&(otherArgs.length==0||otherArgs.length==1&&typeof otherArgs[0]=="string"))return true;return $.inArray(command,getters)>-1}$.fn.countdown=function(options){var otherArgs=Array.prototype.slice.call(arguments,1);if(isNotChained(options,otherArgs))return plugin["_"+options+"Plugin"].apply(plugin,[this[0]].concat(otherArgs));
return this.each(function(){if(typeof options=="string"){if(!plugin["_"+options+"Plugin"])throw"Unknown command: "+options;plugin["_"+options+"Plugin"].apply(plugin,[this].concat(otherArgs))}else plugin._attachPlugin(this,options||{})})};var plugin=$.countdown=new Countdown})(jQuery);
(function(factory){if(typeof define==="function"&&define.amd)define(["jquery","load-image","./jquery.fileupload-process"],factory);else factory(window.jQuery,window.loadImage)})(function($,loadImage){$.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadAudio",prefix:true,fileTypes:"@",maxFileSize:"@",disabled:"@disableAudioPreview"},{action:"setAudio",name:"@audioPreviewName",disabled:"@disableAudioPreview"});$.widget("blueimp.fileupload",$.blueimp.fileupload,{options:{loadAudioFileTypes:/^audio\/.*$/},
_audioElement:document.createElement("audio"),processActions:{loadAudio:function(data,options){if(options.disabled)return data;var file=data.files[data.index],url,audio;if(this._audioElement.canPlayType&&this._audioElement.canPlayType(file.type)&&($.type(options.maxFileSize)!=="number"||file.size<=options.maxFileSize)&&(!options.fileTypes||options.fileTypes.test(file.type))){url=loadImage.createObjectURL(file);if(url){audio=this._audioElement.cloneNode(false);audio.src=url;audio.controls=true;data.audio=
audio;return data}}return data},setAudio:function(data,options){if(data.audio&&!options.disabled)data.files[data.index][options.name||"preview"]=data.audio;return data}}})});
(function(factory){if(typeof define==="function"&&define.amd)define(["jquery","load-image","load-image-meta","load-image-exif","load-image-ios","canvas-to-blob","./jquery.fileupload-process"],factory);else factory(window.jQuery,window.loadImage)})(function($,loadImage){$.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadImageMetaData",disableImageHead:"@",disableExif:"@",disableExifThumbnail:"@",disableExifSub:"@",disableExifGps:"@",disabled:"@disableImageMetaDataLoad"},{action:"loadImage",
prefix:true,fileTypes:"@",maxFileSize:"@",noRevoke:"@",disabled:"@disableImageLoad"},{action:"resizeImage",prefix:"image",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",forceResize:"@",disabled:"@disableImageResize"},{action:"saveImage",quality:"@imageQuality",type:"@imageType",disabled:"@disableImageResize"},{action:"saveImageMetaData",disabled:"@disableImageMetaDataSave"},{action:"resizeImage",prefix:"preview",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",
crop:"@",orientation:"@",thumbnail:"@",canvas:"@",disabled:"@disableImagePreview"},{action:"setImage",name:"@imagePreviewName",disabled:"@disableImagePreview"},{action:"deleteImageReferences",disabled:"@disableImageReferencesDeletion"});$.widget("blueimp.fileupload",$.blueimp.fileupload,{options:{loadImageFileTypes:/^image\/(gif|jpeg|png|svg\+xml)$/,loadImageMaxFileSize:1E7,imageMaxWidth:1920,imageMaxHeight:1080,imageOrientation:false,imageCrop:false,disableImageResize:true,previewMaxWidth:80,previewMaxHeight:80,
previewOrientation:true,previewThumbnail:true,previewCrop:false,previewCanvas:true},processActions:{loadImage:function(data,options){if(options.disabled)return data;var that=this,file=data.files[data.index],dfd=$.Deferred();if($.type(options.maxFileSize)==="number"&&file.size>options.maxFileSize||options.fileTypes&&!options.fileTypes.test(file.type)||!loadImage(file,function(img){if(img.src)data.img=img;dfd.resolveWith(that,[data])},options))return data;return dfd.promise()},resizeImage:function(data,
options){if(options.disabled||!(data.canvas||data.img))return data;options=$.extend({canvas:true},options);var that=this,dfd=$.Deferred(),img=options.canvas&&data.canvas||data.img,resolve=function(newImg){if(newImg&&(newImg.width!==img.width||newImg.height!==img.height||options.forceResize))data[newImg.getContext?"canvas":"img"]=newImg;data.preview=newImg;dfd.resolveWith(that,[data])},thumbnail;if(data.exif){if(options.orientation===true)options.orientation=data.exif.get("Orientation");if(options.thumbnail){thumbnail=
data.exif.get("Thumbnail");if(thumbnail){loadImage(thumbnail,resolve,options);return dfd.promise()}}if(data.orientation)delete options.orientation;else data.orientation=options.orientation}if(img){resolve(loadImage.scale(img,options));return dfd.promise()}return data},saveImage:function(data,options){if(!data.canvas||options.disabled)return data;var that=this,file=data.files[data.index],dfd=$.Deferred();if(data.canvas.toBlob)data.canvas.toBlob(function(blob){if(!blob.name)if(file.type===blob.type)blob.name=
file.name;else if(file.name)blob.name=file.name.replace(/\..+$/,"."+blob.type.substr(6));if(file.type!==blob.type)delete data.imageHead;data.files[data.index]=blob;dfd.resolveWith(that,[data])},options.type||file.type,options.quality);else return data;return dfd.promise()},loadImageMetaData:function(data,options){if(options.disabled)return data;var that=this,dfd=$.Deferred();loadImage.parseMetaData(data.files[data.index],function(result){$.extend(data,result);dfd.resolveWith(that,[data])},options);
return dfd.promise()},saveImageMetaData:function(data,options){if(!(data.imageHead&&data.canvas&&data.canvas.toBlob&&!options.disabled))return data;var file=data.files[data.index],blob=new Blob([data.imageHead,this._blobSlice.call(file,20)],{type:file.type});blob.name=file.name;data.files[data.index]=blob;return data},setImage:function(data,options){if(data.preview&&!options.disabled)data.files[data.index][options.name||"preview"]=data.preview;return data},deleteImageReferences:function(data,options){if(!options.disabled){delete data.img;
delete data.canvas;delete data.preview;delete data.imageHead}return data}}})});
(function(factory){if(typeof define==="function"&&define.amd)define(["jquery","./jquery.fileupload"],factory);else factory(window.jQuery)})(function($){var originalAdd=$.blueimp.fileupload.prototype.options.add;$.widget("blueimp.fileupload",$.blueimp.fileupload,{options:{processQueue:[],add:function(e,data){var $this=$(this);data.process(function(){return $this.fileupload("process",data)});originalAdd.call(this,e,data)}},processActions:{},_processFile:function(data,originalData){var that=this,dfd=
$.Deferred().resolveWith(that,[data]),chain=dfd.promise();this._trigger("process",null,data);$.each(data.processQueue,function(i,settings){var func=function(data){if(originalData.errorThrown)return $.Deferred().rejectWith(that,[originalData]).promise();return that.processActions[settings.action].call(that,data,settings)};chain=chain.pipe(func,settings.always&&func)});chain.done(function(){that._trigger("processdone",null,data);that._trigger("processalways",null,data)}).fail(function(){that._trigger("processfail",
null,data);that._trigger("processalways",null,data)});return chain},_transformProcessQueue:function(options){var processQueue=[];$.each(options.processQueue,function(){var settings={},action=this.action,prefix=this.prefix===true?action:this.prefix;$.each(this,function(key,value){if($.type(value)==="string"&&value.charAt(0)==="@")settings[key]=options[value.slice(1)||(prefix?prefix+key.charAt(0).toUpperCase()+key.slice(1):key)];else settings[key]=value});processQueue.push(settings)});options.processQueue=
processQueue},processing:function(){return this._processing},process:function(data){var that=this,options=$.extend({},this.options,data);if(options.processQueue&&options.processQueue.length){this._transformProcessQueue(options);if(this._processing===0)this._trigger("processstart");$.each(data.files,function(index){var opts=index?$.extend({},options):options,func=function(){if(data.errorThrown)return $.Deferred().rejectWith(that,[data]).promise();return that._processFile(opts,data)};opts.index=index;
that._processing+=1;that._processingQueue=that._processingQueue.pipe(func,func).always(function(){that._processing-=1;if(that._processing===0)that._trigger("processstop")})})}return this._processingQueue},_create:function(){this._super();this._processing=0;this._processingQueue=$.Deferred().resolveWith(this).promise()}})});
(function(factory){if(typeof define==="function"&&define.amd)define(["jquery","tmpl","./jquery.fileupload-image","./jquery.fileupload-audio","./jquery.fileupload-video","./jquery.fileupload-validate"],factory);else factory(window.jQuery,window.tmpl)})(function($,tmpl){$.blueimp.fileupload.prototype._specialOptions.push("filesContainer","uploadTemplateId","downloadTemplateId");$.widget("blueimp.fileupload",$.blueimp.fileupload,{options:{autoUpload:false,uploadTemplateId:"template-upload",downloadTemplateId:"template-download",
filesContainer:undefined,prependFiles:false,dataType:"json",getNumberOfFiles:function(){return this.filesContainer.children().not(".processing").length},getFilesFromResponse:function(data){if(data.result&&$.isArray(data.result.files))return data.result.files;return[]},add:function(e,data){if(e.isDefaultPrevented())return false;var $this=$(this),that=$this.data("blueimp-fileupload")||$this.data("fileupload"),options=that.options;data.context=that._renderUpload(data.files).data("data",data).addClass("processing");
options.filesContainer[options.prependFiles?"prepend":"append"](data.context);that._forceReflow(data.context);that._transition(data.context);data.process(function(){return $this.fileupload("process",data)}).always(function(){data.context.each(function(index){$(this).find(".size").text(that._formatFileSize(data.files[index].size))}).removeClass("processing");that._renderPreviews(data)}).done(function(){data.context.find(".start").prop("disabled",false);if(that._trigger("added",e,data)!==false&&(options.autoUpload||
data.autoUpload)&&data.autoUpload!==false)data.submit()}).fail(function(){if(data.files.error)data.context.each(function(index){var error=data.files[index].error;if(error)$(this).find(".error").text(error)})})},send:function(e,data){if(e.isDefaultPrevented())return false;var that=$(this).data("blueimp-fileupload")||$(this).data("fileupload");if(data.context&&data.dataType&&data.dataType.substr(0,6)==="iframe")data.context.find(".progress").addClass(!$.support.transition&&"progress-animated").attr("aria-valuenow",
100).children().first().css("width","100%");return that._trigger("sent",e,data)},done:function(e,data){if(e.isDefaultPrevented())return false;var that=$(this).data("blueimp-fileupload")||$(this).data("fileupload"),getFilesFromResponse=data.getFilesFromResponse||that.options.getFilesFromResponse,files=getFilesFromResponse(data),template,deferred;if(data.context)data.context.each(function(index){var file=files[index]||{error:"Empty file upload result"};deferred=that._addFinishedDeferreds();that._transition($(this)).done(function(){var node=
$(this);template=that._renderDownload([file]).replaceAll(node);that._forceReflow(template);that._transition(template).done(function(){data.context=$(this);that._trigger("completed",e,data);that._trigger("finished",e,data);deferred.resolve()})})});else{template=that._renderDownload(files)[that.options.prependFiles?"prependTo":"appendTo"](that.options.filesContainer);that._forceReflow(template);deferred=that._addFinishedDeferreds();that._transition(template).done(function(){data.context=$(this);that._trigger("completed",
e,data);that._trigger("finished",e,data);deferred.resolve()})}},fail:function(e,data){if(e.isDefaultPrevented())return false;var that=$(this).data("blueimp-fileupload")||$(this).data("fileupload"),template,deferred;if(data.context)data.context.each(function(index){if(data.errorThrown!=="abort"){var file=data.files[index];file.error=file.error||data.errorThrown||true;deferred=that._addFinishedDeferreds();that._transition($(this)).done(function(){var node=$(this);template=that._renderDownload([file]).replaceAll(node);
that._forceReflow(template);that._transition(template).done(function(){data.context=$(this);that._trigger("failed",e,data);that._trigger("finished",e,data);deferred.resolve()})})}else{deferred=that._addFinishedDeferreds();that._transition($(this)).done(function(){$(this).remove();that._trigger("failed",e,data);that._trigger("finished",e,data);deferred.resolve()})}});else if(data.errorThrown!=="abort"){data.context=that._renderUpload(data.files)[that.options.prependFiles?"prependTo":"appendTo"](that.options.filesContainer).data("data",
data);that._forceReflow(data.context);deferred=that._addFinishedDeferreds();that._transition(data.context).done(function(){data.context=$(this);that._trigger("failed",e,data);that._trigger("finished",e,data);deferred.resolve()})}else{that._trigger("failed",e,data);that._trigger("finished",e,data);that._addFinishedDeferreds().resolve()}},progress:function(e,data){if(e.isDefaultPrevented())return false;var progress=Math.floor(data.loaded/data.total*100);if(data.context)data.context.each(function(){$(this).find(".progress").attr("aria-valuenow",
progress).children().first().css("width",progress+"%")})},progressall:function(e,data){if(e.isDefaultPrevented())return false;var $this=$(this),progress=Math.floor(data.loaded/data.total*100),globalProgressNode=$this.find(".fileupload-progress"),extendedProgressNode=globalProgressNode.find(".progress-extended");if(extendedProgressNode.length)extendedProgressNode.html(($this.data("blueimp-fileupload")||$this.data("fileupload"))._renderExtendedProgress(data));globalProgressNode.find(".progress").attr("aria-valuenow",
progress).children().first().css("width",progress+"%")},start:function(e){if(e.isDefaultPrevented())return false;var that=$(this).data("blueimp-fileupload")||$(this).data("fileupload");that._resetFinishedDeferreds();that._transition($(this).find(".fileupload-progress")).done(function(){that._trigger("started",e)})},stop:function(e){if(e.isDefaultPrevented())return false;var that=$(this).data("blueimp-fileupload")||$(this).data("fileupload"),deferred=that._addFinishedDeferreds();$.when.apply($,that._getFinishedDeferreds()).done(function(){that._trigger("stopped",
e)});that._transition($(this).find(".fileupload-progress")).done(function(){$(this).find(".progress").attr("aria-valuenow","0").children().first().css("width","0%");$(this).find(".progress-extended").html("\x26nbsp;");deferred.resolve()})},processstart:function(e){if(e.isDefaultPrevented())return false;$(this).addClass("fileupload-processing")},processstop:function(e){if(e.isDefaultPrevented())return false;$(this).removeClass("fileupload-processing")},destroy:function(e,data){if(e.isDefaultPrevented())return false;
var that=$(this).data("blueimp-fileupload")||$(this).data("fileupload"),removeNode=function(){that._transition(data.context).done(function(){$(this).remove();that._trigger("destroyed",e,data)})};if(data.url){data.dataType=data.dataType||that.options.dataType;$.ajax(data).done(removeNode).fail(function(){that._trigger("destroyfailed",e,data)})}else removeNode()}},_resetFinishedDeferreds:function(){this._finishedUploads=[]},_addFinishedDeferreds:function(deferred){if(!deferred)deferred=$.Deferred();
this._finishedUploads.push(deferred);return deferred},_getFinishedDeferreds:function(){return this._finishedUploads},_enableDragToDesktop:function(){var link=$(this),url=link.prop("href"),name=link.prop("download"),type="application/octet-stream";link.bind("dragstart",function(e){try{e.originalEvent.dataTransfer.setData("DownloadURL",[type,name,url].join(":"))}catch(ignore){}})},_formatFileSize:function(bytes){if(typeof bytes!=="number")return"";if(bytes>=1E9)return(bytes/1E9).toFixed(2)+" GB";if(bytes>=
1E6)return(bytes/1E6).toFixed(2)+" MB";return(bytes/1E3).toFixed(2)+" KB"},_formatBitrate:function(bits){if(typeof bits!=="number")return"";if(bits>=1E9)return(bits/1E9).toFixed(2)+" Gbit/s";if(bits>=1E6)return(bits/1E6).toFixed(2)+" Mbit/s";if(bits>=1E3)return(bits/1E3).toFixed(2)+" kbit/s";return bits.toFixed(2)+" bit/s"},_formatTime:function(seconds){var date=new Date(seconds*1E3),days=Math.floor(seconds/86400);days=days?days+"d ":"";return days+("0"+date.getUTCHours()).slice(-2)+":"+("0"+date.getUTCMinutes()).slice(-2)+
":"+("0"+date.getUTCSeconds()).slice(-2)},_formatPercentage:function(floatValue){return(floatValue*100).toFixed(2)+" %"},_renderExtendedProgress:function(data){return this._formatBitrate(data.bitrate)+" | "+this._formatTime((data.total-data.loaded)*8/data.bitrate)+" | "+this._formatPercentage(data.loaded/data.total)+" | "+this._formatFileSize(data.loaded)+" / "+this._formatFileSize(data.total)},_renderTemplate:function(func,files){if(!func)return $();var result=func({files:files,formatFileSize:this._formatFileSize,
options:this.options});if(result instanceof $)return result;return $(this.options.templatesContainer).html(result).children()},_renderPreviews:function(data){data.context.find(".preview").each(function(index,elm){$(elm).append(data.files[index].preview)})},_renderUpload:function(files){return this._renderTemplate(this.options.uploadTemplate,files)},_renderDownload:function(files){return this._renderTemplate(this.options.downloadTemplate,files).find("a[download]").each(this._enableDragToDesktop).end()},
_startHandler:function(e){e.preventDefault();var button=$(e.currentTarget),template=button.closest(".template-upload"),data=template.data("data");button.prop("disabled",true);if(data&&data.submit)data.submit()},_cancelHandler:function(e){e.preventDefault();var template=$(e.currentTarget).closest(".template-upload,.template-download"),data=template.data("data")||{};data.context=data.context||template;if(data.abort)data.abort();else{data.errorThrown="abort";this._trigger("fail",e,data)}},_deleteHandler:function(e){e.preventDefault();
var button=$(e.currentTarget);this._trigger("destroy",e,$.extend({context:button.closest(".template-download"),type:"DELETE"},button.data()))},_forceReflow:function(node){return $.support.transition&&node.length&&node[0].offsetWidth},_transition:function(node){var dfd=$.Deferred();if($.support.transition&&node.hasClass("fade")&&node.is(":visible"))node.bind($.support.transition.end,function(e){if(e.target===node[0]){node.unbind($.support.transition.end);dfd.resolveWith(node)}}).toggleClass("in");
else{node.toggleClass("in");dfd.resolveWith(node)}return dfd},_initButtonBarEventHandlers:function(){var fileUploadButtonBar=this.element.find(".fileupload-buttonbar"),filesList=this.options.filesContainer;this._on(fileUploadButtonBar.find(".start"),{click:function(e){e.preventDefault();filesList.find(".start").click()}});this._on(fileUploadButtonBar.find(".cancel"),{click:function(e){e.preventDefault();filesList.find(".cancel").click()}});this._on(fileUploadButtonBar.find(".delete"),{click:function(e){e.preventDefault();
filesList.find(".toggle:checked").closest(".template-download").find(".delete").click();fileUploadButtonBar.find(".toggle").prop("checked",false)}});this._on(fileUploadButtonBar.find(".toggle"),{change:function(e){filesList.find(".toggle").prop("checked",$(e.currentTarget).is(":checked"))}})},_destroyButtonBarEventHandlers:function(){this._off(this.element.find(".fileupload-buttonbar").find(".start, .cancel, .delete"),"click");this._off(this.element.find(".fileupload-buttonbar .toggle"),"change.")},
_initEventHandlers:function(){this._super();this._on(this.options.filesContainer,{"click .start":this._startHandler,"click .cancel":this._cancelHandler,"click .delete":this._deleteHandler});this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers();this._off(this.options.filesContainer,"click");this._super()},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",false).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",
true).parent().addClass("disabled")},_initTemplates:function(){var options=this.options;options.templatesContainer=this.document[0].createElement(options.filesContainer.prop("nodeName"));if(tmpl){if(options.uploadTemplateId)options.uploadTemplate=tmpl(options.uploadTemplateId);if(options.downloadTemplateId)options.downloadTemplate=tmpl(options.downloadTemplateId)}},_initFilesContainer:function(){var options=this.options;if(options.filesContainer===undefined)options.filesContainer=this.element.find(".files");
else if(!(options.filesContainer instanceof $))options.filesContainer=$(options.filesContainer)},_initSpecialOptions:function(){this._super();this._initFilesContainer();this._initTemplates()},_create:function(){this._super();this._resetFinishedDeferreds();if(!$.support.fileInput)this._disableFileInputButton()},enable:function(){var wasDisabled=false;if(this.options.disabled)wasDisabled=true;this._super();if(wasDisabled){this.element.find("input, button").prop("disabled",false);this._enableFileInputButton()}},
disable:function(){if(!this.options.disabled){this.element.find("input, button").prop("disabled",true);this._disableFileInputButton()}this._super()}})});
(function(factory){if(typeof define==="function"&&define.amd)define(["jquery","./jquery.fileupload-process"],factory);else factory(window.jQuery)})(function($){$.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:true,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"});$.widget("blueimp.fileupload",$.blueimp.fileupload,{options:{getNumberOfFiles:$.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",
maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(data,options){if(options.disabled)return data;var dfd=$.Deferred(),settings=this.options,file=data.files[data.index],fileSize;if(options.minFileSize||options.maxFileSize)fileSize=file.size;if($.type(options.maxNumberOfFiles)==="number"&&(settings.getNumberOfFiles()||0)+data.files.length>options.maxNumberOfFiles)file.error=settings.i18n("maxNumberOfFiles");else if(options.acceptFileTypes&&!(options.acceptFileTypes.test(file.type)||
options.acceptFileTypes.test(file.name)))file.error=settings.i18n("acceptFileTypes");else if(fileSize>options.maxFileSize)file.error=settings.i18n("maxFileSize");else if($.type(fileSize)==="number"&&fileSize<options.minFileSize)file.error=settings.i18n("minFileSize");else delete file.error;if(file.error||data.files.error){data.files.error=true;dfd.rejectWith(this,[data])}else dfd.resolveWith(this,[data]);return dfd.promise()}}})});
(function(factory){if(typeof define==="function"&&define.amd)define(["jquery","load-image","./jquery.fileupload-process"],factory);else factory(window.jQuery,window.loadImage)})(function($,loadImage){$.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadVideo",prefix:true,fileTypes:"@",maxFileSize:"@",disabled:"@disableVideoPreview"},{action:"setVideo",name:"@videoPreviewName",disabled:"@disableVideoPreview"});$.widget("blueimp.fileupload",$.blueimp.fileupload,{options:{loadVideoFileTypes:/^video\/.*$/},
_videoElement:document.createElement("video"),processActions:{loadVideo:function(data,options){if(options.disabled)return data;var file=data.files[data.index],url,video;if(this._videoElement.canPlayType&&this._videoElement.canPlayType(file.type)&&($.type(options.maxFileSize)!=="number"||file.size<=options.maxFileSize)&&(!options.fileTypes||options.fileTypes.test(file.type))){url=loadImage.createObjectURL(file);if(url){video=this._videoElement.cloneNode(false);video.src=url;video.controls=true;data.video=
video;return data}}return data},setVideo:function(data,options){if(data.video&&!options.disabled)data.files[data.index][options.name||"preview"]=data.video;return data}}})});
(function(factory){if(typeof define==="function"&&define.amd)define(["jquery","jquery.ui.widget"],factory);else factory(window.jQuery)})(function($){$.support.fileInput=!((new RegExp("(Android (1\\.[0156]|2\\.[01]))"+"|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)"+"|(w(eb)?OSBrowser)|(webOS)"+"|(Kindle/(1\\.0|2\\.[05]|3\\.0))")).test(window.navigator.userAgent)||$('\x3cinput type\x3d"file"\x3e').prop("disabled"));$.support.xhrFileUpload=!!(window.ProgressEvent&&window.FileReader);$.support.xhrFormDataFileUpload=
!!window.FormData;$.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);$.widget("blueimp.fileupload",{options:{dropZone:$(document),pasteZone:$(document),fileInput:undefined,replaceFileInput:true,paramName:undefined,singleFileUploads:true,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:false,limitConcurrentUploads:undefined,forceIframeTransport:false,redirect:undefined,
redirectParamName:undefined,postMessage:undefined,multipart:true,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:true,progressInterval:100,bitrateInterval:500,autoUpload:true,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(message,context){message=this.messages[message]||message.toString();if(context)$.each(context,function(key,value){message=message.replace("{"+key+"}",value)});return message},formData:function(form){return form.serializeArray()},add:function(e,
data){if(e.isDefaultPrevented())return false;if(data.autoUpload||data.autoUpload!==false&&$(this).fileupload("option","autoUpload"))data.process().done(function(){data.submit()})},processData:false,contentType:false,cache:false},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:$.support.blobSlice&&function(){var slice=this.slice||this.webkitSlice||this.mozSlice;return slice.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():
(new Date).getTime();this.loaded=0;this.bitrate=0;this.getBitrate=function(now,loaded,interval){var timeDiff=now-this.timestamp;if(!this.bitrate||!interval||timeDiff>interval){this.bitrate=(loaded-this.loaded)*(1E3/timeDiff)*8;this.loaded=loaded;this.timestamp=now}return this.bitrate}},_isXHRUpload:function(options){return!options.forceIframeTransport&&(!options.multipart&&$.support.xhrFileUpload||$.support.xhrFormDataFileUpload)},_getFormData:function(options){var formData;if($.type(options.formData)===
"function")return options.formData(options.form);if($.isArray(options.formData))return options.formData;if($.type(options.formData)==="object"){formData=[];$.each(options.formData,function(name,value){formData.push({name:name,value:value})});return formData}return[]},_getTotal:function(files){var total=0;$.each(files,function(index,file){total+=file.size||1});return total},_initProgressObject:function(obj){var progress={loaded:0,total:0,bitrate:0};if(obj._progress)$.extend(obj._progress,progress);
else obj._progress=progress},_initResponseObject:function(obj){var prop;if(obj._response)for(prop in obj._response){if(obj._response.hasOwnProperty(prop))delete obj._response[prop]}else obj._response={}},_onProgress:function(e,data){if(e.lengthComputable){var now=Date.now?Date.now():(new Date).getTime(),loaded;if(data._time&&data.progressInterval&&now-data._time<data.progressInterval&&e.loaded!==e.total)return;data._time=now;loaded=Math.floor(e.loaded/e.total*(data.chunkSize||data._progress.total))+
(data.uploadedBytes||0);this._progress.loaded+=loaded-data._progress.loaded;this._progress.bitrate=this._bitrateTimer.getBitrate(now,this._progress.loaded,data.bitrateInterval);data._progress.loaded=data.loaded=loaded;data._progress.bitrate=data.bitrate=data._bitrateTimer.getBitrate(now,loaded,data.bitrateInterval);this._trigger("progress",$.Event("progress",{delegatedEvent:e}),data);this._trigger("progressall",$.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(options){var that=
this,xhr=options.xhr?options.xhr():$.ajaxSettings.xhr();if(xhr.upload){$(xhr.upload).bind("progress",function(e){var oe=e.originalEvent;e.lengthComputable=oe.lengthComputable;e.loaded=oe.loaded;e.total=oe.total;that._onProgress(e,options)});options.xhr=function(){return xhr}}},_isInstanceOf:function(type,obj){return Object.prototype.toString.call(obj)==="[object "+type+"]"},_initXHRData:function(options){var that=this,formData,file=options.files[0],multipart=options.multipart||!$.support.xhrFileUpload,
paramName=$.type(options.paramName)==="array"?options.paramName[0]:options.paramName;options.headers=$.extend({},options.headers);if(options.contentRange)options.headers["Content-Range"]=options.contentRange;if(!multipart||options.blob||!this._isInstanceOf("File",file))options.headers["Content-Disposition"]='attachment; filename\x3d"'+encodeURI(file.name)+'"';if(!multipart){options.contentType=file.type||"application/octet-stream";options.data=options.blob||file}else if($.support.xhrFormDataFileUpload){if(options.postMessage){formData=
this._getFormData(options);if(options.blob)formData.push({name:paramName,value:options.blob});else $.each(options.files,function(index,file){formData.push({name:$.type(options.paramName)==="array"&&options.paramName[index]||paramName,value:file})})}else{if(that._isInstanceOf("FormData",options.formData))formData=options.formData;else{formData=new FormData;$.each(this._getFormData(options),function(index,field){formData.append(field.name,field.value)})}if(options.blob)formData.append(paramName,options.blob,
file.name);else $.each(options.files,function(index,file){if(that._isInstanceOf("File",file)||that._isInstanceOf("Blob",file))formData.append($.type(options.paramName)==="array"&&options.paramName[index]||paramName,file,file.uploadName||file.name)})}options.data=formData}options.blob=null},_initIframeSettings:function(options){var targetHost=$("\x3ca\x3e\x3c/a\x3e").prop("href",options.url).prop("host");options.dataType="iframe "+(options.dataType||"");options.formData=this._getFormData(options);
if(options.redirect&&targetHost&&targetHost!==location.host)options.formData.push({name:options.redirectParamName||"redirect",value:options.redirect})},_initDataSettings:function(options){if(this._isXHRUpload(options)){if(!this._chunkedUpload(options,true)){if(!options.data)this._initXHRData(options);this._initProgressListener(options)}if(options.postMessage)options.dataType="postmessage "+(options.dataType||"")}else this._initIframeSettings(options)},_getParamName:function(options){var fileInput=
$(options.fileInput),paramName=options.paramName;if(!paramName){paramName=[];fileInput.each(function(){var input=$(this),name=input.prop("name")||"files[]",i=(input.prop("files")||[1]).length;while(i){paramName.push(name);i-=1}});if(!paramName.length)paramName=[fileInput.prop("name")||"files[]"]}else if(!$.isArray(paramName))paramName=[paramName];return paramName},_initFormSettings:function(options){if(!options.form||!options.form.length){options.form=$(options.fileInput.prop("form"));if(!options.form.length)options.form=
$(this.options.fileInput.prop("form"))}options.paramName=this._getParamName(options);if(!options.url)options.url=options.form.prop("action")||location.href;options.type=(options.type||$.type(options.form.prop("method"))==="string"&&options.form.prop("method")||"").toUpperCase();if(options.type!=="POST"&&options.type!=="PUT"&&options.type!=="PATCH")options.type="POST";if(!options.formAcceptCharset)options.formAcceptCharset=options.form.attr("accept-charset")},_getAJAXSettings:function(data){var options=
$.extend({},this.options,data);this._initFormSettings(options);this._initDataSettings(options);return options},_getDeferredState:function(deferred){if(deferred.state)return deferred.state();if(deferred.isResolved())return"resolved";if(deferred.isRejected())return"rejected";return"pending"},_enhancePromise:function(promise){promise.success=promise.done;promise.error=promise.fail;promise.complete=promise.always;return promise},_getXHRPromise:function(resolveOrReject,context,args){var dfd=$.Deferred(),
promise=dfd.promise();context=context||this.options.context||promise;if(resolveOrReject===true)dfd.resolveWith(context,args);else if(resolveOrReject===false)dfd.rejectWith(context,args);promise.abort=dfd.promise;return this._enhancePromise(promise)},_addConvenienceMethods:function(e,data){var that=this,getPromise=function(args){return $.Deferred().resolveWith(that,args).promise()};data.process=function(resolveFunc,rejectFunc){if(resolveFunc||rejectFunc)data._processQueue=this._processQueue=(this._processQueue||
getPromise([this])).pipe(function(){if(data.errorThrown)return $.Deferred().rejectWith(that,[data]).promise();return getPromise(arguments)}).pipe(resolveFunc,rejectFunc);return this._processQueue||getPromise([this])};data.submit=function(){if(this.state()!=="pending")data.jqXHR=this.jqXHR=that._trigger("submit",$.Event("submit",{delegatedEvent:e}),this)!==false&&that._onSend(e,this);return this.jqXHR||that._getXHRPromise()};data.abort=function(){if(this.jqXHR)return this.jqXHR.abort();this.errorThrown=
"abort";that._trigger("fail",null,this);return that._getXHRPromise(false)};data.state=function(){if(this.jqXHR)return that._getDeferredState(this.jqXHR);if(this._processQueue)return that._getDeferredState(this._processQueue)};data.processing=function(){return!this.jqXHR&&this._processQueue&&that._getDeferredState(this._processQueue)==="pending"};data.progress=function(){return this._progress};data.response=function(){return this._response}},_getUploadedBytes:function(jqXHR){var range=jqXHR.getResponseHeader("Range"),
parts=range&&range.split("-"),upperBytesPos=parts&&parts.length>1&&parseInt(parts[1],10);return upperBytesPos&&upperBytesPos+1},_chunkedUpload:function(options,testOnly){options.uploadedBytes=options.uploadedBytes||0;var that=this,file=options.files[0],fs=file.size,ub=options.uploadedBytes,mcs=options.maxChunkSize||fs,slice=this._blobSlice,dfd=$.Deferred(),promise=dfd.promise(),jqXHR,upload;if(!(this._isXHRUpload(options)&&slice&&(ub||mcs<fs))||options.data)return false;if(testOnly)return true;if(ub>=
fs){file.error=options.i18n("uploadedBytes");return this._getXHRPromise(false,options.context,[null,"error",file.error])}upload=function(){var o=$.extend({},options),currentLoaded=o._progress.loaded;o.blob=slice.call(file,ub,ub+mcs,file.type);o.chunkSize=o.blob.size;o.contentRange="bytes "+ub+"-"+(ub+o.chunkSize-1)+"/"+fs;that._initXHRData(o);that._initProgressListener(o);jqXHR=(that._trigger("chunksend",null,o)!==false&&$.ajax(o)||that._getXHRPromise(false,o.context)).done(function(result,textStatus,
jqXHR){ub=that._getUploadedBytes(jqXHR)||ub+o.chunkSize;if(currentLoaded+o.chunkSize-o._progress.loaded)that._onProgress($.Event("progress",{lengthComputable:true,loaded:ub-o.uploadedBytes,total:ub-o.uploadedBytes}),o);options.uploadedBytes=o.uploadedBytes=ub;o.result=result;o.textStatus=textStatus;o.jqXHR=jqXHR;that._trigger("chunkdone",null,o);that._trigger("chunkalways",null,o);if(ub<fs)upload();else dfd.resolveWith(o.context,[result,textStatus,jqXHR])}).fail(function(jqXHR,textStatus,errorThrown){o.jqXHR=
jqXHR;o.textStatus=textStatus;o.errorThrown=errorThrown;that._trigger("chunkfail",null,o);that._trigger("chunkalways",null,o);dfd.rejectWith(o.context,[jqXHR,textStatus,errorThrown])})};this._enhancePromise(promise);promise.abort=function(){return jqXHR.abort()};upload();return promise},_beforeSend:function(e,data){if(this._active===0){this._trigger("start");this._bitrateTimer=new this._BitrateTimer;this._progress.loaded=this._progress.total=0;this._progress.bitrate=0}this._initResponseObject(data);
this._initProgressObject(data);data._progress.loaded=data.loaded=data.uploadedBytes||0;data._progress.total=data.total=this._getTotal(data.files)||1;data._progress.bitrate=data.bitrate=0;this._active+=1;this._progress.loaded+=data.loaded;this._progress.total+=data.total},_onDone:function(result,textStatus,jqXHR,options){var total=options._progress.total,response=options._response;if(options._progress.loaded<total)this._onProgress($.Event("progress",{lengthComputable:true,loaded:total,total:total}),
options);response.result=options.result=result;response.textStatus=options.textStatus=textStatus;response.jqXHR=options.jqXHR=jqXHR;this._trigger("done",null,options)},_onFail:function(jqXHR,textStatus,errorThrown,options){var response=options._response;if(options.recalculateProgress){this._progress.loaded-=options._progress.loaded;this._progress.total-=options._progress.total}response.jqXHR=options.jqXHR=jqXHR;response.textStatus=options.textStatus=textStatus;response.errorThrown=options.errorThrown=
errorThrown;this._trigger("fail",null,options)},_onAlways:function(jqXHRorResult,textStatus,jqXHRorError,options){this._trigger("always",null,options)},_onSend:function(e,data){if(!data.submit)this._addConvenienceMethods(e,data);var that=this,jqXHR,aborted,slot,pipe,options=that._getAJAXSettings(data),send=function(){that._sending+=1;options._bitrateTimer=new that._BitrateTimer;jqXHR=jqXHR||((aborted||that._trigger("send",$.Event("send",{delegatedEvent:e}),options)===false)&&that._getXHRPromise(false,
options.context,aborted)||that._chunkedUpload(options)||$.ajax(options)).done(function(result,textStatus,jqXHR){that._onDone(result,textStatus,jqXHR,options)}).fail(function(jqXHR,textStatus,errorThrown){that._onFail(jqXHR,textStatus,errorThrown,options)}).always(function(jqXHRorResult,textStatus,jqXHRorError){that._onAlways(jqXHRorResult,textStatus,jqXHRorError,options);that._sending-=1;that._active-=1;if(options.limitConcurrentUploads&&options.limitConcurrentUploads>that._sending){var nextSlot=
that._slots.shift();while(nextSlot){if(that._getDeferredState(nextSlot)==="pending"){nextSlot.resolve();break}nextSlot=that._slots.shift()}}if(that._active===0)that._trigger("stop")});return jqXHR};this._beforeSend(e,options);if(this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending){if(this.options.limitConcurrentUploads>1){slot=$.Deferred();this._slots.push(slot);pipe=slot.pipe(send)}else{this._sequence=this._sequence.pipe(send,send);
pipe=this._sequence}pipe.abort=function(){aborted=[undefined,"abort","abort"];if(!jqXHR){if(slot)slot.rejectWith(options.context,aborted);return send()}return jqXHR.abort()};return this._enhancePromise(pipe)}return send()},_onAdd:function(e,data){var that=this,result=true,options=$.extend({},this.options,data),files=data.files,filesLength=files.length,limit=options.limitMultiFileUploads,limitSize=options.limitMultiFileUploadSize,overhead=options.limitMultiFileUploadSizeOverhead,batchSize=0,paramName=
this._getParamName(options),paramNameSet,paramNameSlice,fileSet,i,j=0;if(limitSize&&(!filesLength||files[0].size===undefined))limitSize=undefined;if(!(options.singleFileUploads||limit||limitSize)||!this._isXHRUpload(options)){fileSet=[files];paramNameSet=[paramName]}else if(!(options.singleFileUploads||limitSize)&&limit){fileSet=[];paramNameSet=[];for(i=0;i<filesLength;i+=limit){fileSet.push(files.slice(i,i+limit));paramNameSlice=paramName.slice(i,i+limit);if(!paramNameSlice.length)paramNameSlice=
paramName;paramNameSet.push(paramNameSlice)}}else if(!options.singleFileUploads&&limitSize){fileSet=[];paramNameSet=[];for(i=0;i<filesLength;i=i+1){batchSize+=files[i].size+overhead;if(i+1===filesLength||batchSize+files[i+1].size+overhead>limitSize||limit&&i+1-j>=limit){fileSet.push(files.slice(j,i+1));paramNameSlice=paramName.slice(j,i+1);if(!paramNameSlice.length)paramNameSlice=paramName;paramNameSet.push(paramNameSlice);j=i+1;batchSize=0}}}else paramNameSet=paramName;data.originalFiles=files;$.each(fileSet||
files,function(index,element){var newData=$.extend({},data);newData.files=fileSet?element:[element];newData.paramName=paramNameSet[index];that._initResponseObject(newData);that._initProgressObject(newData);that._addConvenienceMethods(e,newData);result=that._trigger("add",$.Event("add",{delegatedEvent:e}),newData);return result});return result},_replaceFileInput:function(input){var inputClone=input.clone(true);$("\x3cform\x3e\x3c/form\x3e").append(inputClone)[0].reset();input.after(inputClone).detach();
$.cleanData(input.unbind("remove"));this.options.fileInput=this.options.fileInput.map(function(i,el){if(el===input[0])return inputClone[0];return el});if(input[0]===this.element[0])this.element=inputClone},_handleFileTreeEntry:function(entry,path){var that=this,dfd=$.Deferred(),errorHandler=function(e){if(e&&!e.entry)e.entry=entry;dfd.resolve([e])},dirReader;path=path||"";if(entry.isFile)if(entry._file){entry._file.relativePath=path;dfd.resolve(entry._file)}else entry.file(function(file){file.relativePath=
path;dfd.resolve(file)},errorHandler);else if(entry.isDirectory){dirReader=entry.createReader();dirReader.readEntries(function(entries){that._handleFileTreeEntries(entries,path+entry.name+"/").done(function(files){dfd.resolve(files)}).fail(errorHandler)},errorHandler)}else dfd.resolve([]);return dfd.promise()},_handleFileTreeEntries:function(entries,path){var that=this;return $.when.apply($,$.map(entries,function(entry){return that._handleFileTreeEntry(entry,path)})).pipe(function(){return Array.prototype.concat.apply([],
arguments)})},_getDroppedFiles:function(dataTransfer){dataTransfer=dataTransfer||{};var items=dataTransfer.items;if(items&&items.length&&(items[0].webkitGetAsEntry||items[0].getAsEntry))return this._handleFileTreeEntries($.map(items,function(item){var entry;if(item.webkitGetAsEntry){entry=item.webkitGetAsEntry();if(entry)entry._file=item.getAsFile();return entry}return item.getAsEntry()}));return $.Deferred().resolve($.makeArray(dataTransfer.files)).promise()},_getSingleFileInputFiles:function(fileInput){fileInput=
$(fileInput);var entries=fileInput.prop("webkitEntries")||fileInput.prop("entries"),files,value;if(entries&&entries.length)return this._handleFileTreeEntries(entries);files=$.makeArray(fileInput.prop("files"));if(!files.length){value=fileInput.prop("value");if(!value)return $.Deferred().resolve([]).promise();files=[{name:value.replace(/^.*\\/,"")}]}else if(files[0].name===undefined&&files[0].fileName)$.each(files,function(index,file){file.name=file.fileName;file.size=file.fileSize});return $.Deferred().resolve(files).promise()},
_getFileInputFiles:function(fileInput){if(!(fileInput instanceof $)||fileInput.length===1)return this._getSingleFileInputFiles(fileInput);return $.when.apply($,$.map(fileInput,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_onChange:function(e){var that=this,data={fileInput:$(e.target),form:$(e.target.form)};this._getFileInputFiles(data.fileInput).always(function(files){data.files=files;if(that.options.replaceFileInput)that._replaceFileInput(data.fileInput);
if(that._trigger("change",$.Event("change",{delegatedEvent:e}),data)!==false)that._onAdd(e,data)})},_onPaste:function(e){var items=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,data={files:[]};if(items&&items.length){$.each(items,function(index,item){var file=item.getAsFile&&item.getAsFile();if(file)data.files.push(file)});if(this._trigger("paste",$.Event("paste",{delegatedEvent:e}),data)!==false)this._onAdd(e,data)}},_onDrop:function(e){e.dataTransfer=e.originalEvent&&
e.originalEvent.dataTransfer;var that=this,dataTransfer=e.dataTransfer,data={};if(dataTransfer&&dataTransfer.files&&dataTransfer.files.length){e.preventDefault();this._getDroppedFiles(dataTransfer).always(function(files){data.files=files;if(that._trigger("drop",$.Event("drop",{delegatedEvent:e}),data)!==false)that._onAdd(e,data)})}},_onDragOver:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var dataTransfer=e.dataTransfer;if(dataTransfer&&$.inArray("Files",dataTransfer.types)!==
-1&&this._trigger("dragover",$.Event("dragover",{delegatedEvent:e}))!==false){e.preventDefault();dataTransfer.dropEffect="copy"}},_initEventHandlers:function(){if(this._isXHRUpload(this.options)){this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop});this._on(this.options.pasteZone,{paste:this._onPaste})}if($.support.fileInput)this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop");this._off(this.options.pasteZone,
"paste");this._off(this.options.fileInput,"change")},_setOption:function(key,value){var reinit=$.inArray(key,this._specialOptions)!==-1;if(reinit)this._destroyEventHandlers();this._super(key,value);if(reinit){this._initSpecialOptions();this._initEventHandlers()}},_initSpecialOptions:function(){var options=this.options;if(options.fileInput===undefined)options.fileInput=this.element.is('input[type\x3d"file"]')?this.element:this.element.find('input[type\x3d"file"]');else if(!(options.fileInput instanceof
$))options.fileInput=$(options.fileInput);if(!(options.dropZone instanceof $))options.dropZone=$(options.dropZone);if(!(options.pasteZone instanceof $))options.pasteZone=$(options.pasteZone)},_getRegExp:function(str){var parts=str.split("/"),modifiers=parts.pop();parts.shift();return new RegExp(parts.join("/"),modifiers)},_isRegExpOption:function(key,value){return key!=="url"&&$.type(value)==="string"&&/^\/.*\/[igm]{0,3}$/.test(value)},_initDataAttributes:function(){var that=this,options=this.options,
clone=$(this.element[0].cloneNode(false));$.each(clone.data(),function(key,value){var dataAttributeName="data-"+key.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(clone.attr(dataAttributeName)){if(that._isRegExpOption(key,value))value=that._getRegExp(value);options[key]=value}})},_create:function(){this._initDataAttributes();this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(true);this._sending=this._active=0;this._initProgressObject(this);this._initEventHandlers()},
active:function(){return this._active},progress:function(){return this._progress},add:function(data){var that=this;if(!data||this.options.disabled)return;if(data.fileInput&&!data.files)this._getFileInputFiles(data.fileInput).always(function(files){data.files=files;that._onAdd(null,data)});else{data.files=$.makeArray(data.files);this._onAdd(null,data)}},send:function(data){if(data&&!this.options.disabled){if(data.fileInput&&!data.files){var that=this,dfd=$.Deferred(),promise=dfd.promise(),jqXHR,aborted;
promise.abort=function(){aborted=true;if(jqXHR)return jqXHR.abort();dfd.reject(null,"abort","abort");return promise};this._getFileInputFiles(data.fileInput).always(function(files){if(aborted)return;if(!files.length){dfd.reject();return}data.files=files;jqXHR=that._onSend(null,data).then(function(result,textStatus,jqXHR){dfd.resolve(result,textStatus,jqXHR)},function(jqXHR,textStatus,errorThrown){dfd.reject(jqXHR,textStatus,errorThrown)})});return this._enhancePromise(promise)}data.files=$.makeArray(data.files);
if(data.files.length)return this._onSend(null,data)}return this._getXHRPromise(false,data&&data.context)}})});
(function(factory){if(typeof define==="function"&&define.amd)define(["jquery"],factory);else factory(window.jQuery)})(function($){var counter=0;$.ajaxTransport("iframe",function(options){if(options.async){var initialIframeSrc=options.initialIframeSrc||"javascript:false;",form,iframe,addParamChar;return{send:function(_,completeCallback){form=$('\x3cform style\x3d"display:none;"\x3e\x3c/form\x3e');form.attr("accept-charset",options.formAcceptCharset);addParamChar=/\?/.test(options.url)?"\x26":"?";if(options.type===
"DELETE"){options.url=options.url+addParamChar+"_method\x3dDELETE";options.type="POST"}else if(options.type==="PUT"){options.url=options.url+addParamChar+"_method\x3dPUT";options.type="POST"}else if(options.type==="PATCH"){options.url=options.url+addParamChar+"_method\x3dPATCH";options.type="POST"}counter+=1;iframe=$('\x3ciframe src\x3d"'+initialIframeSrc+'" name\x3d"iframe-transport-'+counter+'"\x3e\x3c/iframe\x3e').bind("load",function(){var fileInputClones,paramNames=$.isArray(options.paramName)?
options.paramName:[options.paramName];iframe.unbind("load").bind("load",function(){var response;try{response=iframe.contents();if(!response.length||!response[0].firstChild)throw new Error;}catch(e){response=undefined}completeCallback(200,"success",{"iframe":response});$('\x3ciframe src\x3d"'+initialIframeSrc+'"\x3e\x3c/iframe\x3e').appendTo(form);window.setTimeout(function(){form.remove()},0)});form.prop("target",iframe.prop("name")).prop("action",options.url).prop("method",options.type);if(options.formData)$.each(options.formData,
function(index,field){$('\x3cinput type\x3d"hidden"/\x3e').prop("name",field.name).val(field.value).appendTo(form)});if(options.fileInput&&options.fileInput.length&&options.type==="POST"){fileInputClones=options.fileInput.clone();options.fileInput.after(function(index){return fileInputClones[index]});if(options.paramName)options.fileInput.each(function(index){$(this).prop("name",paramNames[index]||options.paramName)});form.append(options.fileInput).prop("enctype","multipart/form-data").prop("encoding",
"multipart/form-data");options.fileInput.removeAttr("form")}form.submit();if(fileInputClones&&fileInputClones.length)options.fileInput.each(function(index,input){var clone=$(fileInputClones[index]);$(input).prop("name",clone.prop("name")).attr("form",clone.attr("form"));clone.replaceWith(input)})});form.append(iframe).appendTo(document.body)},abort:function(){if(iframe)iframe.unbind("load").prop("src",initialIframeSrc);if(form)form.remove()}}}});$.ajaxSetup({converters:{"iframe text":function(iframe){return iframe&&
$(iframe[0].body).text()},"iframe json":function(iframe){return iframe&&$.parseJSON($(iframe[0].body).text())},"iframe html":function(iframe){return iframe&&$(iframe[0].body).html()},"iframe xml":function(iframe){var xmlDoc=iframe&&iframe[0];return xmlDoc&&$.isXMLDoc(xmlDoc)?xmlDoc:$.parseXML(xmlDoc.XMLDocument&&xmlDoc.XMLDocument.xml||$(xmlDoc.body).html())},"iframe script":function(iframe){return iframe&&$.globalEval($(iframe[0].body).text())}}})});
!function(a){var b=function(a,c,d){var e,f,g=document.createElement("img");if(g.onerror=c,g.onload=function(){!f||d&&d.noRevoke||b.revokeObjectURL(f),c&&c(b.scale(g,d))},b.isInstanceOf("Blob",a)||b.isInstanceOf("File",a))e=f=b.createObjectURL(a),g._type=a.type;else{if("string"!=typeof a)return!1;e=a,d&&d.crossOrigin&&(g.crossOrigin=d.crossOrigin)}return e?(g.src=e,g):b.readFile(a,function(a){var b=a.target;b&&b.result?g.src=b.result:c&&c(a)})},c=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&
URL||window.webkitURL&&webkitURL;b.isInstanceOf=function(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"},b.transformCoordinates=function(){},b.getTransformedOptions=function(a){return a},b.renderImageToCanvas=function(a,b,c,d,e,f,g,h,i,j){return a.getContext("2d").drawImage(b,c,d,e,f,g,h,i,j),a},b.hasCanvasOption=function(a){return a.canvas||a.crop},b.scale=function(a,c){c=c||{};var d,e,f,g,h,i,j,k,l,m=document.createElement("canvas"),n=a.getContext||b.hasCanvasOption(c)&&m.getContext,
o=a.naturalWidth||a.width,p=a.naturalHeight||a.height,q=o,r=p,s=function(){var a=Math.max((f||q)/q,(g||r)/r);a>1&&(q=Math.ceil(q*a),r=Math.ceil(r*a))},t=function(){var a=Math.min((d||q)/q,(e||r)/r);1>a&&(q=Math.ceil(q*a),r=Math.ceil(r*a))};return n&&(c=b.getTransformedOptions(c),j=c.left||0,k=c.top||0,c.sourceWidth?(h=c.sourceWidth,void 0!==c.right&&void 0===c.left&&(j=o-h-c.right)):h=o-j-(c.right||0),c.sourceHeight?(i=c.sourceHeight,void 0!==c.bottom&&void 0===c.top&&(k=p-i-c.bottom)):i=p-k-(c.bottom||
0),q=h,r=i),d=c.maxWidth,e=c.maxHeight,f=c.minWidth,g=c.minHeight,n&&d&&e&&c.crop?(q=d,r=e,l=h/i-d/e,0>l?(i=e*h/d,void 0===c.top&&void 0===c.bottom&&(k=(p-i)/2)):l>0&&(h=d*i/e,void 0===c.left&&void 0===c.right&&(j=(o-h)/2))):((c.contain||c.cover)&&(f=d=d||f,g=e=e||g),c.cover?(t(),s()):(s(),t())),n?(m.width=q,m.height=r,b.transformCoordinates(m,c),b.renderImageToCanvas(m,a,j,k,h,i,0,0,q,r)):(a.width=q,a.height=r,a)},b.createObjectURL=function(a){return c?c.createObjectURL(a):!1},b.revokeObjectURL=
function(a){return c?c.revokeObjectURL(a):!1},b.readFile=function(a,b,c){if(window.FileReader){var d=new FileReader;if(d.onload=d.onerror=b,c=c||"readAsDataURL",d[c])return d[c](a),d}return!1},"function"==typeof define&&define.amd?define(function(){return b}):a.loadImage=b}(this),function(a){"function"==typeof define&&define.amd?define(["load-image"],a):a(window.loadImage)}(function(a){if(window.navigator&&window.navigator.platform&&/iP(hone|od|ad)/.test(window.navigator.platform)){var b=a.renderImageToCanvas;
a.detectSubsampling=function(a){var b,c;return a.width*a.height>1048576?(b=document.createElement("canvas"),b.width=b.height=1,c=b.getContext("2d"),c.drawImage(a,-a.width+1,0),0===c.getImageData(0,0,1,1).data[3]):!1},a.detectVerticalSquash=function(a,b){var c,d,e,f,g,h=a.naturalHeight||a.height,i=document.createElement("canvas"),j=i.getContext("2d");for(b&&(h/=2),i.width=1,i.height=h,j.drawImage(a,0,0),c=j.getImageData(0,0,1,h).data,d=0,e=h,f=h;f>d;)g=c[4*(f-1)+3],0===g?e=f:d=f,f=e+d>>1;return f/
h||1},a.renderImageToCanvas=function(c,d,e,f,g,h,i,j,k,l){if("image/jpeg"===d._type){var m,n,o,p,q=c.getContext("2d"),r=document.createElement("canvas"),s=1024,t=r.getContext("2d");if(r.width=s,r.height=s,q.save(),m=a.detectSubsampling(d),m&&(e/=2,f/=2,g/=2,h/=2),n=a.detectVerticalSquash(d,m),m||1!==n){for(f*=n,k=Math.ceil(s*k/g),l=Math.ceil(s*l/h/n),j=0,p=0;h>p;){for(i=0,o=0;g>o;)t.clearRect(0,0,s,s),t.drawImage(d,e,f,g,h,-o,-p,g,h),q.drawImage(r,0,0,s,s,i,j,k,l),o+=s,i+=k;p+=s,j+=l}return q.restore(),
c}}return b(c,d,e,f,g,h,i,j,k,l)}}}),function(a){"function"==typeof define&&define.amd?define(["load-image"],a):a(window.loadImage)}(function(a){var b=a.hasCanvasOption;a.hasCanvasOption=function(a){return b(a)||a.orientation},a.transformCoordinates=function(a,b){var c=a.getContext("2d"),d=a.width,e=a.height,f=b.orientation;if(f)switch(f>4&&(a.width=e,a.height=d),f){case 2:c.translate(d,0),c.scale(-1,1);break;case 3:c.translate(d,e),c.rotate(Math.PI);break;case 4:c.translate(0,e),c.scale(1,-1);break;
case 5:c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:c.rotate(.5*Math.PI),c.translate(0,-e);break;case 7:c.rotate(.5*Math.PI),c.translate(d,-e),c.scale(-1,1);break;case 8:c.rotate(-.5*Math.PI),c.translate(-d,0)}},a.getTransformedOptions=function(a){if(!a.orientation||1===a.orientation)return a;var b,c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);switch(a.orientation){case 2:c.left=a.right,c.right=a.left;break;case 3:c.left=a.right,c.top=a.bottom,c.right=a.left,c.bottom=a.top;break;case 4:c.top=
a.bottom,c.bottom=a.top;break;case 5:c.left=a.top,c.top=a.left,c.right=a.bottom,c.bottom=a.right;break;case 6:c.left=a.top,c.top=a.right,c.right=a.bottom,c.bottom=a.left;break;case 7:c.left=a.bottom,c.top=a.right,c.right=a.top,c.bottom=a.left;break;case 8:c.left=a.bottom,c.top=a.left,c.right=a.top,c.bottom=a.right}return a.orientation>4&&(c.maxWidth=a.maxHeight,c.maxHeight=a.maxWidth,c.minWidth=a.minHeight,c.minHeight=a.minWidth,c.sourceWidth=a.sourceHeight,c.sourceHeight=a.sourceWidth),c}}),function(a){"function"==
typeof define&&define.amd?define(["load-image"],a):a(window.loadImage)}(function(a){var b=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);a.blobSlice=b&&function(){var a=this.slice||this.webkitSlice||this.mozSlice;return a.apply(this,arguments)},a.metaDataParsers={jpeg:{65505:[]}},a.parseMetaData=function(b,c,d){d=d||{};var e=this,f=d.maxMetaDataSize||262144,g={},h=!(window.DataView&&b&&b.size>=12&&"image/jpeg"===b.type&&a.blobSlice);(h||!a.readFile(a.blobSlice.call(b,
0,f),function(b){if(b.target.error)return console.log(b.target.error),c(g),void 0;var f,h,i,j,k=b.target.result,l=new DataView(k),m=2,n=l.byteLength-4,o=m;if(65496===l.getUint16(0)){for(;n>m&&(f=l.getUint16(m),f>=65504&&65519>=f||65534===f);){if(h=l.getUint16(m+2)+2,m+h>l.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(i=a.metaDataParsers.jpeg[f])for(j=0;j<i.length;j+=1)i[j].call(e,l,m,h,g,d);m+=h,o=m}!d.disableImageHead&&o>6&&(g.imageHead=k.slice?k.slice(0,o):(new Uint8Array(k)).subarray(0,
o))}else console.log("Invalid JPEG file: Missing JPEG marker.");c(g)},"readAsArrayBuffer"))&&c(g)}}),function(a){"function"==typeof define&&define.amd?define(["load-image","load-image-meta"],a):a(window.loadImage)}(function(a){a.ExifMap=function(){return this},a.ExifMap.prototype.map={Orientation:274},a.ExifMap.prototype.get=function(a){return this[a]||this[this.map[a]]},a.getExifThumbnail=function(a,b,c){var d,e,f;if(!c||b+c>a.byteLength)return console.log("Invalid Exif data: Invalid thumbnail data."),
void 0;for(d=[],e=0;c>e;e+=1)f=a.getUint8(b+e),d.push((16>f?"0":"")+f.toString(16));return"data:image/jpeg,%"+d.join("%")},a.exifTagTypes={1:{getValue:function(a,b){return a.getUint8(b)},size:1},2:{getValue:function(a,b){return String.fromCharCode(a.getUint8(b))},size:1,ascii:!0},3:{getValue:function(a,b,c){return a.getUint16(b,c)},size:2},4:{getValue:function(a,b,c){return a.getUint32(b,c)},size:4},5:{getValue:function(a,b,c){return a.getUint32(b,c)/a.getUint32(b+4,c)},size:8},9:{getValue:function(a,
b,c){return a.getInt32(b,c)},size:4},10:{getValue:function(a,b,c){return a.getInt32(b,c)/a.getInt32(b+4,c)},size:8}},a.exifTagTypes[7]=a.exifTagTypes[1],a.getExifValue=function(b,c,d,e,f,g){var h,i,j,k,l,m,n=a.exifTagTypes[e];if(!n)return console.log("Invalid Exif data: Invalid tag type."),void 0;if(h=n.size*f,i=h>4?c+b.getUint32(d+8,g):d+8,i+h>b.byteLength)return console.log("Invalid Exif data: Invalid data offset."),void 0;if(1===f)return n.getValue(b,i,g);for(j=[],k=0;f>k;k+=1)j[k]=n.getValue(b,
i+k*n.size,g);if(n.ascii){for(l="",k=0;k<j.length&&(m=j[k],"\x00"!==m);k+=1)l+=m;return l}return j},a.parseExifTag=function(b,c,d,e,f){var g=b.getUint16(d,e);f.exif[g]=a.getExifValue(b,c,d,b.getUint16(d+2,e),b.getUint32(d+4,e),e)},a.parseExifTags=function(a,b,c,d,e){var f,g,h;if(c+6>a.byteLength)return console.log("Invalid Exif data: Invalid directory offset."),void 0;if(f=a.getUint16(c,d),g=c+2+12*f,g+4>a.byteLength)return console.log("Invalid Exif data: Invalid directory size."),void 0;for(h=0;f>
h;h+=1)this.parseExifTag(a,b,c+2+12*h,d,e);return a.getUint32(g,d)},a.parseExifData=function(b,c,d,e,f){if(!f.disableExif){var g,h,i,j=c+10;if(1165519206===b.getUint32(c+4)){if(j+8>b.byteLength)return console.log("Invalid Exif data: Invalid segment size."),void 0;if(0!==b.getUint16(c+8))return console.log("Invalid Exif data: Missing byte alignment offset."),void 0;switch(b.getUint16(j)){case 18761:g=!0;break;case 19789:g=!1;break;default:return console.log("Invalid Exif data: Invalid byte alignment marker."),
void 0}if(42!==b.getUint16(j+2,g))return console.log("Invalid Exif data: Missing TIFF marker."),void 0;h=b.getUint32(j+4,g),e.exif=new a.ExifMap,h=a.parseExifTags(b,j,j+h,g,e),h&&!f.disableExifThumbnail&&(i={exif:{}},h=a.parseExifTags(b,j,j+h,g,i),i.exif[513]&&(e.exif.Thumbnail=a.getExifThumbnail(b,j+i.exif[513],i.exif[514]))),e.exif[34665]&&!f.disableExifSub&&a.parseExifTags(b,j,j+e.exif[34665],g,e),e.exif[34853]&&!f.disableExifGps&&a.parseExifTags(b,j,j+e.exif[34853],g,e)}}},a.metaDataParsers.jpeg[65505].push(a.parseExifData)}),
function(a){"function"==typeof define&&define.amd?define(["load-image","load-image-exif"],a):a(window.loadImage)}(function(a){a.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",
273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",
37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",
37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",
41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",
4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",
30:"GPSDifferential",31:"GPSHPositioningError"},a.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",
10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",
15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",
77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",
5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},
Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},a.ExifMap.prototype.getText=function(a){var b=this.get(a);switch(a){case "LightSource":case "Flash":case "MeteringMode":case "ExposureProgram":case "SensingMethod":case "SceneCaptureType":case "SceneType":case "CustomRendered":case "WhiteBalance":case "GainControl":case "Contrast":case "Saturation":case "Sharpness":case "SubjectDistanceRange":case "FileSource":case "Orientation":return this.stringValues[a][b];
case "ExifVersion":case "FlashpixVersion":return String.fromCharCode(b[0],b[1],b[2],b[3]);case "ComponentsConfiguration":return this.stringValues[a][b[0]]+this.stringValues[a][b[1]]+this.stringValues[a][b[2]]+this.stringValues[a][b[3]];case "GPSVersionID":return b[0]+"."+b[1]+"."+b[2]+"."+b[3]}return String(b)},function(a){var b,c=a.tags,d=a.map;for(b in c)c.hasOwnProperty(b)&&(d[c[b]]=b)}(a.ExifMap.prototype),a.ExifMap.prototype.getAll=function(){var a,b,c={};for(a in this)this.hasOwnProperty(a)&&
(b=this.tags[a],b&&(c[b]=this.getText(b)));return c}});
!function(a){var b=function(a,c){var d=/[^\w\-\.:]/.test(a)?new Function(b.arg+",tmpl","var _e\x3dtmpl.encode"+b.helper+",_s\x3d'"+a.replace(b.regexp,b.func)+"';return _s;"):b.cache[a]=b.cache[a]||b(b.load(a));return c?d(c,b):function(a){return d(a,b)}};b.cache={},b.load=function(a){return document.getElementById(a).innerHTML},b.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,b.func=function(a,b,c,d,e,f){return b?{"\n":"\\n","\r":"\\r","\t":"\\t"," ":" "}[b]||"\\"+
b:c?"\x3d"===c?"'+_e("+d+")+'":"'+("+d+"\x3d\x3dnull?'':"+d+")+'":e?"';":f?"_s+\x3d'":void 0},b.encReg=/[<>&"'\x00]/g,b.encMap={"\x3c":"\x26lt;","\x3e":"\x26gt;","\x26":"\x26amp;",'"':"\x26quot;","'":"\x26#39;"},b.encode=function(a){return(null==a?"":""+a).replace(b.encReg,function(a){return b.encMap[a]||""})},b.arg="o",b.helper=",print\x3dfunction(s,e){_s+\x3de?(s\x3d\x3dnull?'':s):_e(s);},include\x3dfunction(s,d){_s+\x3dtmpl(s,d);}","function"==typeof define&&define.amd?define(function(){return b}):
a.tmpl=b}(this);
(function($){if(/1\.(0|1|2)\.(0|1|2)/.test($.fn.jquery)||/^1.1/.test($.fn.jquery)){alert("blockUI requires jQuery v1.2.3 or later!  You are using v"+$.fn.jquery);return}$.fn._fadeIn=$.fn.fadeIn;var noOp=function(){};var mode=document.documentMode||0;var setExpr=$.browser.msie&&($.browser.version<8&&!mode||mode<8);var ie6=$.browser.msie&&/MSIE 6.0/.test(navigator.userAgent)&&!mode;$.blockUI=function(opts){install(window,opts)};$.unblockUI=function(opts){remove(window,opts)};$.growlUI=function(title,
message,timeout,onClose){var $m=$('\x3cdiv class\x3d"growlUI"\x3e\x3c/div\x3e');if(title)$m.append("\x3ch1\x3e"+title+"\x3c/h1\x3e");if(message)$m.append("\x3ch2\x3e"+message+"\x3c/h2\x3e");if(timeout==undefined)timeout=3E3;$.blockUI({message:$m,fadeIn:700,fadeOut:1E3,centerY:false,timeout:timeout,showOverlay:false,onUnblock:onClose,css:$.blockUI.defaults.growlCSS})};$.fn.block=function(opts){return this.unblock({fadeOut:0}).each(function(){if($.css(this,"position")=="static")this.style.position=
"relative";if($.browser.msie)this.style.zoom=1;install(this,opts)})};$.fn.unblock=function(opts){return this.each(function(){remove(this,opts)})};$.blockUI.version=2.38;$.blockUI.defaults={message:"\x3ch1\x3ePlease wait...\x3c/h1\x3e",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",
opacity:.6,cursor:"wait"},growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1E3,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,
focusInput:true,applyPlatformOpacityRules:true,onBlock:null,onUnblock:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg"};var pageBlock=null;var pageBlockEls=[];function install(el,opts){var full=el==window;var msg=opts&&opts.message!==undefined?opts.message:undefined;opts=$.extend({},$.blockUI.defaults,opts||{});opts.overlayCSS=$.extend({},$.blockUI.defaults.overlayCSS,opts.overlayCSS||{});var css=$.extend({},$.blockUI.defaults.css,opts.css||{});var themedCSS=$.extend({},$.blockUI.defaults.themedCSS,
opts.themedCSS||{});msg=msg===undefined?opts.message:msg;if(full&&pageBlock)remove(window,{fadeOut:0});if(msg&&typeof msg!="string"&&(msg.parentNode||msg.jquery)){var node=msg.jquery?msg[0]:msg;var data={};$(el).data("blockUI.history",data);data.el=node;data.parent=node.parentNode;data.display=node.style.display;data.position=node.style.position;if(data.parent)data.parent.removeChild(node)}var z=opts.baseZ;var lyr1=$.browser.msie||opts.forceIframe?$('\x3ciframe class\x3d"blockUI" style\x3d"z-index:'+
z++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src\x3d"'+opts.iframeSrc+'"\x3e\x3c/iframe\x3e'):$('\x3cdiv class\x3d"blockUI" style\x3d"display:none"\x3e\x3c/div\x3e');var lyr2=opts.theme?$('\x3cdiv class\x3d"blockUI blockOverlay ui-widget-overlay" style\x3d"z-index:'+z++ +';display:none"\x3e\x3c/div\x3e'):$('\x3cdiv class\x3d"blockUI blockOverlay" style\x3d"z-index:'+z++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"\x3e\x3c/div\x3e');
var lyr3,s;if(opts.theme&&full)s='\x3cdiv class\x3d"blockUI '+opts.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style\x3d"z-index:'+z+';display:none;position:fixed"\x3e'+'\x3cdiv class\x3d"ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle"\x3e'+(opts.title||"\x26nbsp;")+"\x3c/div\x3e"+'\x3cdiv class\x3d"ui-widget-content ui-dialog-content"\x3e\x3c/div\x3e'+"\x3c/div\x3e";else if(opts.theme)s='\x3cdiv class\x3d"blockUI '+opts.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style\x3d"z-index:'+
z+';display:none;position:absolute"\x3e'+'\x3cdiv class\x3d"ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle"\x3e'+(opts.title||"\x26nbsp;")+"\x3c/div\x3e"+'\x3cdiv class\x3d"ui-widget-content ui-dialog-content"\x3e\x3c/div\x3e'+"\x3c/div\x3e";else if(full)s='\x3cdiv class\x3d"blockUI '+opts.blockMsgClass+' blockPage" style\x3d"z-index:'+z+';display:none;position:fixed"\x3e\x3c/div\x3e';else s='\x3cdiv class\x3d"blockUI '+opts.blockMsgClass+' blockElement" style\x3d"z-index:'+z+';display:none;position:absolute"\x3e\x3c/div\x3e';
lyr3=$(s);if(msg)if(opts.theme){lyr3.css(themedCSS);lyr3.addClass("ui-widget-content")}else lyr3.css(css);if(!opts.theme&&(!opts.applyPlatformOpacityRules||!($.browser.mozilla&&/Linux/.test(navigator.platform))))lyr2.css(opts.overlayCSS);lyr2.css("position",full?"fixed":"absolute");if($.browser.msie||opts.forceIframe)lyr1.css("opacity",0);var layers=[lyr1,lyr2,lyr3],$par=full?$("body"):$(el);$.each(layers,function(){this.appendTo($par)});if(opts.theme&&opts.draggable&&$.fn.draggable)lyr3.draggable({handle:".ui-dialog-titlebar",
cancel:"li"});var expr=setExpr&&(!$.boxModel||$("object,embed",full?null:el).length>0);if(ie6||expr){if(full&&opts.allowBodyStretch&&$.boxModel)$("html,body").css("height","100%");if((ie6||!$.boxModel)&&!full){var t=sz(el,"borderTopWidth"),l=sz(el,"borderLeftWidth");var fixT=t?"(0 - "+t+")":0;var fixL=l?"(0 - "+l+")":0}$.each([lyr1,lyr2,lyr3],function(i,o){var s=o[0].style;s.position="absolute";if(i<2){full?s.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.boxModel?0:"+
opts.quirksmodeOffsetHack+') + "px"'):s.setExpression("height",'this.parentNode.offsetHeight + "px"');full?s.setExpression("width",'jQuery.boxModel \x26\x26 document.documentElement.clientWidth || document.body.clientWidth + "px"'):s.setExpression("width",'this.parentNode.offsetWidth + "px"');if(fixL)s.setExpression("left",fixL);if(fixT)s.setExpression("top",fixT)}else if(opts.centerY){if(full)s.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah \x3d document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"');
s.marginTop=0}else if(!opts.centerY&&full){var top=opts.css&&opts.css.top?parseInt(opts.css.top):0;var expression="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+top+') + "px"';s.setExpression("top",expression)}})}if(msg){if(opts.theme)lyr3.find(".ui-widget-content").append(msg);else lyr3.append(msg);if(msg.jquery||msg.nodeType)$(msg).show()}if(($.browser.msie||opts.forceIframe)&&opts.showOverlay)lyr1.show();if(opts.fadeIn){var cb=opts.onBlock?
opts.onBlock:noOp;var cb1=opts.showOverlay&&!msg?cb:noOp;var cb2=msg?cb:noOp;if(opts.showOverlay)lyr2._fadeIn(opts.fadeIn,cb1);if(msg)lyr3._fadeIn(opts.fadeIn,cb2)}else{if(opts.showOverlay)lyr2.show();if(msg)lyr3.show();if(opts.onBlock)opts.onBlock()}bind(1,el,opts);if(full){pageBlock=lyr3[0];pageBlockEls=$(":input:enabled:visible",pageBlock);if(opts.focusInput)setTimeout(focus,20)}else center(lyr3[0],opts.centerX,opts.centerY);if(opts.timeout){var to=setTimeout(function(){full?$.unblockUI(opts):
$(el).unblock(opts)},opts.timeout);$(el).data("blockUI.timeout",to)}}function remove(el,opts){var full=el==window;var $el=$(el);var data=$el.data("blockUI.history");var to=$el.data("blockUI.timeout");if(to){clearTimeout(to);$el.removeData("blockUI.timeout")}opts=$.extend({},$.blockUI.defaults,opts||{});bind(0,el,opts);var els;if(full)els=$("body").children().filter(".blockUI").add("body \x3e .blockUI");else els=$(".blockUI",el);if(full)pageBlock=pageBlockEls=null;if(opts.fadeOut){els.fadeOut(opts.fadeOut);
setTimeout(function(){reset(els,data,opts,el)},opts.fadeOut)}else reset(els,data,opts,el)}function reset(els,data,opts,el){els.each(function(i,o){if(this.parentNode)this.parentNode.removeChild(this)});if(data&&data.el){data.el.style.display=data.display;data.el.style.position=data.position;if(data.parent)data.parent.appendChild(data.el);$(el).removeData("blockUI.history")}if(typeof opts.onUnblock=="function")opts.onUnblock(el,opts)}function bind(b,el,opts){var full=el==window,$el=$(el);if(!b&&(full&&
!pageBlock||!full&&!$el.data("blockUI.isBlocked")))return;if(!full)$el.data("blockUI.isBlocked",b);if(!opts.bindEvents||b&&!opts.showOverlay)return;var events="mousedown mouseup keydown keypress";b?$(document).bind(events,opts,handler):$(document).unbind(events,handler)}function handler(e){if(e.keyCode&&e.keyCode==9)if(pageBlock&&e.data.constrainTabKey){var els=pageBlockEls;var fwd=!e.shiftKey&&e.target===els[els.length-1];var back=e.shiftKey&&e.target===els[0];if(fwd||back){setTimeout(function(){focus(back)},
10);return false}}var opts=e.data;if($(e.target).parents("div."+opts.blockMsgClass).length>0)return true;return $(e.target).parents().children().filter("div.blockUI").length==0}function focus(back){if(!pageBlockEls)return;var e=pageBlockEls[back===true?pageBlockEls.length-1:0];if(e)e.focus()}function center(el,x,y){var p=el.parentNode,s=el.style;var l=(p.offsetWidth-el.offsetWidth)/2-sz(p,"borderLeftWidth");var t=(p.offsetHeight-el.offsetHeight)/2-sz(p,"borderTopWidth");if(x)s.left=l>0?l+"px":"0";
if(y)s.top=t>0?t+"px":"0"}function sz(el,p){return parseInt($.css(el,p))||0}})(jQuery);
(function(jQuery,undefined){var stepHooks="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
parse:function(execResult){return[execResult[1]*2.55,execResult[2]*2.55,execResult[3]*2.55,execResult[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
space:"hsla",parse:function(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]]}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha)},spaces={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},propTypes={"byte":{floor:true,max:255},"percent":{max:1},"degrees":{mod:360,
floor:true}},support=color.support={},supportElem=jQuery("\x3cp\x3e")[0],colors,each=jQuery.each;supportElem.style.cssText="background-color:rgba(1,1,1,.5)";support.rgba=supportElem.style.backgroundColor.indexOf("rgba")>-1;each(spaces,function(spaceName,space){space.cache="_"+spaceName;space.props.alpha={idx:3,type:"percent",def:1}});function clamp(value,prop,allowEmpty){var type=propTypes[prop.type]||{};if(value==null)return allowEmpty||!prop.def?null:prop.def;value=type.floor?~~value:parseFloat(value);
if(isNaN(value))return prop.def;if(type.mod)return(value+type.mod)%type.mod;return 0>value?0:type.max<value?type.max:value}function stringParse(string){var inst=color(),rgba=inst._rgba=[];string=string.toLowerCase();each(stringParsers,function(i,parser){var parsed,match=parser.re.exec(string),values=match&&parser.parse(match),spaceName=parser.space||"rgba";if(values){parsed=inst[spaceName](values);inst[spaces[spaceName].cache]=parsed[spaces[spaceName].cache];rgba=inst._rgba=parsed._rgba;return false}});
if(rgba.length){if(rgba.join()==="0,0,0,0")jQuery.extend(rgba,colors.transparent);return inst}return colors[string]}color.fn=jQuery.extend(color.prototype,{parse:function(red,green,blue,alpha){if(red===undefined){this._rgba=[null,null,null,null];return this}if(red.jquery||red.nodeType){red=jQuery(red).css(green);green=undefined}var inst=this,type=jQuery.type(red),rgba=this._rgba=[],source;if(green!==undefined){red=[red,green,blue,alpha];type="array"}if(type==="string")return this.parse(stringParse(red)||
colors._default);if(type==="array"){each(spaces.rgba.props,function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop)});return this}if(type==="object"){if(red instanceof color)each(spaces,function(spaceName,space){if(red[space.cache])inst[space.cache]=red[space.cache].slice()});else each(spaces,function(spaceName,space){var cache=space.cache;each(space.props,function(key,prop){if(!inst[cache]&&space.to){if(key==="alpha"||red[key]==null)return;inst[cache]=space.to(inst._rgba)}inst[cache][prop.idx]=
clamp(red[key],prop,true)});if(inst[cache]&&$.inArray(null,inst[cache].slice(0,3))<0){inst[cache][3]=1;if(space.from)inst._rgba=space.from(inst[cache])}});return this}},is:function(compare){var is=color(compare),same=true,inst=this;each(spaces,function(_,space){var localCache,isCache=is[space.cache];if(isCache){localCache=inst[space.cache]||space.to&&space.to(inst._rgba)||[];each(space.props,function(_,prop){if(isCache[prop.idx]!=null){same=isCache[prop.idx]===localCache[prop.idx];return same}})}return same});
return same},_space:function(){var used=[],inst=this;each(spaces,function(spaceName,space){if(inst[space.cache])used.push(spaceName)});return used.pop()},transition:function(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],startColor=this.alpha()===0?color("transparent"):this,start=startColor[space.cache]||space.to(startColor._rgba),result=start.slice();end=end[space.cache];each(space.props,function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],
type=propTypes[prop.type]||{};if(endValue===null)return;if(startValue===null)result[index]=endValue;else{if(type.mod)if(endValue-startValue>type.mod/2)startValue+=type.mod;else if(startValue-endValue>type.mod/2)startValue-=type.mod;result[index]=clamp((endValue-startValue)*distance+startValue,prop)}});return this[spaceName](result)},blend:function(opaque){if(this._rgba[3]===1)return this;var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,function(v,i){return(1-
a)*blend[i]+a*v}))},toRgbaString:function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,function(v,i){return v==null?i>2?1:0:v});if(rgba[3]===1){rgba.pop();prefix="rgb("}return prefix+rgba.join()+")"},toHslaString:function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),function(v,i){if(v==null)v=i>2?1:0;if(i&&i<3)v=Math.round(v*100)+"%";return v});if(hsla[3]===1){hsla.pop();prefix="hsl("}return prefix+hsla.join()+")"},toHexString:function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();
if(includeAlpha)rgba.push(~~(alpha*255));return"#"+jQuery.map(rgba,function(v,i){v=(v||0).toString(16);return v.length===1?"0"+v:v}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});color.fn.parse.prototype=color.fn;function hue2rgb(p,q,h){h=(h+1)%1;if(h*6<1)return p+(q-p)*h*6;if(h*2<1)return q;if(h*3<2)return p+(q-p)*(2/3-h)*6;return p}spaces.hsla.to=function(rgba){if(rgba[0]==null||rgba[1]==null||rgba[2]==null)return[null,null,null,rgba[3]];var r=rgba[0]/
255,g=rgba[1]/255,b=rgba[2]/255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=add*.5,h,s;if(min===max)h=0;else if(r===max)h=60*(g-b)/diff+360;else if(g===max)h=60*(b-r)/diff+120;else h=60*(r-g)/diff+240;if(l===0||l===1)s=l;else if(l<=.5)s=diff/add;else s=diff/(2-add);return[Math.round(h)%360,s,l,a==null?1:a]};spaces.hsla.from=function(hsla){if(hsla[0]==null||hsla[1]==null||hsla[2]==null)return[null,null,null,hsla[3]];var h=hsla[0]/360,s=hsla[1],l=hsla[2],a=hsla[3],q=
l<=.5?l*(1+s):l+s-l*s,p=2*l-q,r,g,b;return[Math.round(hue2rgb(p,q,h+1/3)*255),Math.round(hue2rgb(p,q,h)*255),Math.round(hue2rgb(p,q,h-1/3)*255),a]};each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){if(to&&!this[cache])this[cache]=to(this._rgba);if(value===undefined)return this[cache].slice();var ret,type=jQuery.type(value),arr=type==="array"||type==="object"?value:arguments,local=this[cache].slice();each(props,
function(key,prop){var val=arr[type==="object"?key:prop.idx];if(val==null)val=local[prop.idx];local[prop.idx]=clamp(val,prop)});if(from){ret=color(from(local));ret[cache]=local;return ret}else return color(local)};each(props,function(key,prop){if(color.fn[key])return;color.fn[key]=function(value){var vtype=jQuery.type(value),fn=key==="alpha"?this._hsla?"hsla":"rgba":spaceName,local=this[fn](),cur=local[prop.idx],match;if(vtype==="undefined")return cur;if(vtype==="function"){value=value.call(this,
cur);vtype=jQuery.type(value)}if(value==null&&prop.empty)return this;if(vtype==="string"){match=rplusequals.exec(value);if(match)value=cur+parseFloat(match[2])*(match[1]==="+"?1:-1)}local[prop.idx]=value;return this[fn](local)}})});each(stepHooks,function(i,hook){jQuery.cssHooks[hook]={set:function(elem,value){var parsed,curElem,backgroundColor="";if(jQuery.type(value)!=="string"||(parsed=stringParse(value))){value=color(parsed||value);if(!support.rgba&&value._rgba[3]!==1){curElem=hook==="backgroundColor"?
elem.parentNode:elem;while((backgroundColor===""||backgroundColor==="transparent")&&curElem&&curElem.style)try{backgroundColor=jQuery.css(curElem,"backgroundColor");curElem=curElem.parentNode}catch(e){}value=value.blend(backgroundColor&&backgroundColor!=="transparent"?backgroundColor:"_default")}value=value.toRgbaString()}try{elem.style[hook]=value}catch(value){}}};jQuery.fx.step[hook]=function(fx){if(!fx.colorInit){fx.start=color(fx.elem,hook);fx.end=color(fx.end);fx.colorInit=true}jQuery.cssHooks[hook].set(fx.elem,
fx.start.transition(fx.end,fx.pos))}});jQuery.cssHooks.borderColor={expand:function(value){var expanded={};each(["Top","Right","Bottom","Left"],function(i,part){expanded["border"+part+"Color"]=value});return expanded}};colors=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,
null,null,0],_default:"#ffffff"}})(jQuery);
(function($){$.toJSON=function(o){if(typeof JSON=="object"&&JSON.stringify)return JSON.stringify(o);var type=typeof o;if(o===null)return"null";if(type=="undefined")return undefined;if(type=="number"||type=="boolean")return o+"";if(type=="string")return $.quoteString(o);if(type=="object"){if(typeof o.toJSON=="function")return $.toJSON(o.toJSON());if(o.constructor===Date){var month=o.getUTCMonth()+1;if(month<10)month="0"+month;var day=o.getUTCDate();if(day<10)day="0"+day;var year=o.getUTCFullYear();
var hours=o.getUTCHours();if(hours<10)hours="0"+hours;var minutes=o.getUTCMinutes();if(minutes<10)minutes="0"+minutes;var seconds=o.getUTCSeconds();if(seconds<10)seconds="0"+seconds;var milli=o.getUTCMilliseconds();if(milli<100)milli="0"+milli;if(milli<10)milli="0"+milli;return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"'}if(o.constructor===Array){var ret=[];for(var i=0;i<o.length;i++)ret.push($.toJSON(o[i])||"null");return"["+ret.join(",")+"]"}var pairs=[];for(var k in o){var name;
var type=typeof k;if(type=="number")name='"'+k+'"';else if(type=="string")name=$.quoteString(k);else continue;if(typeof o[k]=="function")continue;var val=$.toJSON(o[k]);pairs.push(name+":"+val)}return"{"+pairs.join(", ")+"}"}};$.evalJSON=function(src){if(typeof JSON=="object"&&JSON.parse)return JSON.parse(src);return eval("("+src+")")};$.secureEvalJSON=function(src){if(typeof JSON=="object"&&JSON.parse)return JSON.parse(src);var filtered=src;filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@");filtered=
filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered))return eval("("+src+")");else throw new SyntaxError("Error parsing JSON, source is not valid.");};$.quoteString=function(string){if(string.match(_escapeable))return'"'+string.replace(_escapeable,function(a){var c=_meta[a];if(typeof c==="string")return c;c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+
'"';return'"'+string+'"'};var _escapeable=/["\\\x00-\x1f\x7f-\x9f]/g;var _meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}})(jQuery);
(function($,window,document,undefined){var DataTable=function(oInit){function _fnAddColumn(oSettings,nTh){var oDefaults=DataTable.defaults.columns;var iCol=oSettings.aoColumns.length;var oCol=$.extend({},DataTable.models.oColumn,oDefaults,{"sSortingClass":oSettings.oClasses.sSortable,"sSortingClassJUI":oSettings.oClasses.sSortJUI,"nTh":nTh?nTh:document.createElement("th"),"sTitle":oDefaults.sTitle?oDefaults.sTitle:nTh?nTh.innerHTML:"","aDataSort":oDefaults.aDataSort?oDefaults.aDataSort:[iCol],"mDataProp":oDefaults.mDataProp?
oDefaults.oDefaults:iCol});oSettings.aoColumns.push(oCol);if(oSettings.aoPreSearchCols[iCol]===undefined||oSettings.aoPreSearchCols[iCol]===null)oSettings.aoPreSearchCols[iCol]=$.extend({},DataTable.models.oSearch);else{var oPre=oSettings.aoPreSearchCols[iCol];if(oPre.bRegex===undefined)oPre.bRegex=true;if(oPre.bSmart===undefined)oPre.bSmart=true;if(oPre.bCaseInsensitive===undefined)oPre.bCaseInsensitive=true}_fnColumnOptions(oSettings,iCol,null)}function _fnColumnOptions(oSettings,iCol,oOptions){var oCol=
oSettings.aoColumns[iCol];if(oOptions!==undefined&&oOptions!==null){if(oOptions.sType!==undefined){oCol.sType=oOptions.sType;oCol._bAutoType=false}$.extend(oCol,oOptions);_fnMap(oCol,oOptions,"sWidth","sWidthOrig");if(oOptions.iDataSort!==undefined)oCol.aDataSort=[oOptions.iDataSort];_fnMap(oCol,oOptions,"aDataSort")}oCol.fnGetData=_fnGetObjectDataFn(oCol.mDataProp);oCol.fnSetData=_fnSetObjectDataFn(oCol.mDataProp);if(!oSettings.oFeatures.bSort)oCol.bSortable=false;if(!oCol.bSortable||$.inArray("asc",
oCol.asSorting)==-1&&$.inArray("desc",oCol.asSorting)==-1){oCol.sSortingClass=oSettings.oClasses.sSortableNone;oCol.sSortingClassJUI=""}else if(oCol.bSortable||$.inArray("asc",oCol.asSorting)==-1&&$.inArray("desc",oCol.asSorting)==-1){oCol.sSortingClass=oSettings.oClasses.sSortable;oCol.sSortingClassJUI=oSettings.oClasses.sSortJUI}else if($.inArray("asc",oCol.asSorting)!=-1&&$.inArray("desc",oCol.asSorting)==-1){oCol.sSortingClass=oSettings.oClasses.sSortableAsc;oCol.sSortingClassJUI=oSettings.oClasses.sSortJUIAscAllowed}else if($.inArray("asc",
oCol.asSorting)==-1&&$.inArray("desc",oCol.asSorting)!=-1){oCol.sSortingClass=oSettings.oClasses.sSortableDesc;oCol.sSortingClassJUI=oSettings.oClasses.sSortJUIDescAllowed}}function _fnAdjustColumnSizing(oSettings){if(oSettings.oFeatures.bAutoWidth===false)return false;_fnCalculateColumnWidths(oSettings);for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++)oSettings.aoColumns[i].nTh.style.width=oSettings.aoColumns[i].sWidth}function _fnVisibleToColumnIndex(oSettings,iMatch){var iColumn=-1;for(var i=
0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bVisible===true)iColumn++;if(iColumn==iMatch)return i}return null}function _fnColumnIndexToVisible(oSettings,iMatch){var iVisible=-1;for(var i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bVisible===true)iVisible++;if(i==iMatch)return oSettings.aoColumns[i].bVisible===true?iVisible:null}return null}function _fnVisbleColumns(oS){var iVis=0;for(var i=0;i<oS.aoColumns.length;i++)if(oS.aoColumns[i].bVisible===true)iVis++;return iVis}
function _fnDetectType(sData){var aTypes=DataTable.ext.aTypes;var iLen=aTypes.length;for(var i=0;i<iLen;i++){var sType=aTypes[i](sData);if(sType!==null)return sType}return"string"}function _fnReOrderIndex(oSettings,sColumns){var aColumns=sColumns.split(",");var aiReturn=[];for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++)for(var j=0;j<iLen;j++)if(oSettings.aoColumns[i].sName==aColumns[j]){aiReturn.push(j);break}return aiReturn}function _fnColumnOrdering(oSettings){var sNames="";for(var i=0,
iLen=oSettings.aoColumns.length;i<iLen;i++)sNames+=oSettings.aoColumns[i].sName+",";if(sNames.length==iLen)return"";return sNames.slice(0,-1)}function _fnApplyColumnDefs(oSettings,aoColDefs,aoCols,fn){var i,iLen,j,jLen,k,kLen;if(aoColDefs)for(i=aoColDefs.length-1;i>=0;i--){var aTargets=aoColDefs[i].aTargets;if(!$.isArray(aTargets))_fnLog(oSettings,1,"aTargets must be an array of targets, not a "+typeof aTargets);for(j=0,jLen=aTargets.length;j<jLen;j++)if(typeof aTargets[j]==="number"&&aTargets[j]>=
0){while(oSettings.aoColumns.length<=aTargets[j])_fnAddColumn(oSettings);fn(aTargets[j],aoColDefs[i])}else if(typeof aTargets[j]==="number"&&aTargets[j]<0)fn(oSettings.aoColumns.length+aTargets[j],aoColDefs[i]);else if(typeof aTargets[j]==="string")for(k=0,kLen=oSettings.aoColumns.length;k<kLen;k++)if(aTargets[j]=="_all"||$(oSettings.aoColumns[k].nTh).hasClass(aTargets[j]))fn(k,aoColDefs[i])}if(aoCols)for(i=0,iLen=aoCols.length;i<iLen;i++)fn(i,aoCols[i])}function _fnAddData(oSettings,aDataSupplied){var oCol;
var aDataIn=$.isArray(aDataSupplied)?aDataSupplied.slice():$.extend(true,{},aDataSupplied);var iRow=oSettings.aoData.length;var oData=$.extend(true,{},DataTable.models.oRow);oData._aData=aDataIn;oSettings.aoData.push(oData);var nTd,sThisType;for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){oCol=oSettings.aoColumns[i];if(typeof oCol.fnRender==="function"&&oCol.bUseRendered&&oCol.mDataProp!==null)_fnSetCellData(oSettings,iRow,i,_fnRender(oSettings,iRow,i));else _fnSetCellData(oSettings,iRow,
i,_fnGetCellData(oSettings,iRow,i));if(oCol._bAutoType&&oCol.sType!="string"){var sVarType=_fnGetCellData(oSettings,iRow,i,"type");if(sVarType!==null&&sVarType!==""){sThisType=_fnDetectType(sVarType);if(oCol.sType===null)oCol.sType=sThisType;else if(oCol.sType!=sThisType&&oCol.sType!="html")oCol.sType="string"}}}oSettings.aiDisplayMaster.push(iRow);if(!oSettings.oFeatures.bDeferRender)_fnCreateTr(oSettings,iRow);return iRow}function _fnGatherData(oSettings){var iLoop,i,iLen,j,jLen,jInner,nTds,nTrs,
nTd,aLocalData,iThisIndex,iRow,iRows,iColumn,iColumns,sNodeName,oCol,oData;if(oSettings.bDeferLoading||oSettings.sAjaxSource===null){nTrs=oSettings.nTBody.childNodes;for(i=0,iLen=nTrs.length;i<iLen;i++)if(nTrs[i].nodeName.toUpperCase()=="TR"){iThisIndex=oSettings.aoData.length;nTrs[i]._DT_RowIndex=iThisIndex;oSettings.aoData.push($.extend(true,{},DataTable.models.oRow,{"nTr":nTrs[i]}));oSettings.aiDisplayMaster.push(iThisIndex);nTds=nTrs[i].childNodes;jInner=0;for(j=0,jLen=nTds.length;j<jLen;j++){sNodeName=
nTds[j].nodeName.toUpperCase();if(sNodeName=="TD"||sNodeName=="TH"){_fnSetCellData(oSettings,iThisIndex,jInner,$.trim(nTds[j].innerHTML));jInner++}}}}nTrs=_fnGetTrNodes(oSettings);nTds=[];for(i=0,iLen=nTrs.length;i<iLen;i++)for(j=0,jLen=nTrs[i].childNodes.length;j<jLen;j++){nTd=nTrs[i].childNodes[j];sNodeName=nTd.nodeName.toUpperCase();if(sNodeName=="TD"||sNodeName=="TH")nTds.push(nTd)}for(iColumn=0,iColumns=oSettings.aoColumns.length;iColumn<iColumns;iColumn++){oCol=oSettings.aoColumns[iColumn];
if(oCol.sTitle===null)oCol.sTitle=oCol.nTh.innerHTML;var bAutoType=oCol._bAutoType,bRender=typeof oCol.fnRender==="function",bClass=oCol.sClass!==null,bVisible=oCol.bVisible,nCell,sThisType,sRendered,sValType;if(bAutoType||bRender||bClass||!bVisible)for(iRow=0,iRows=oSettings.aoData.length;iRow<iRows;iRow++){oData=oSettings.aoData[iRow];nCell=nTds[iRow*iColumns+iColumn];if(bAutoType&&oCol.sType!="string"){sValType=_fnGetCellData(oSettings,iRow,iColumn,"type");if(sValType!==""){sThisType=_fnDetectType(sValType);
if(oCol.sType===null)oCol.sType=sThisType;else if(oCol.sType!=sThisType&&oCol.sType!="html")oCol.sType="string"}}if(typeof oCol.mDataProp==="function")nCell.innerHTML=_fnGetCellData(oSettings,iRow,iColumn,"display");if(bRender){sRendered=_fnRender(oSettings,iRow,iColumn);nCell.innerHTML=sRendered;if(oCol.bUseRendered)_fnSetCellData(oSettings,iRow,iColumn,sRendered)}if(bClass)nCell.className+=" "+oCol.sClass;if(!bVisible){oData._anHidden[iColumn]=nCell;nCell.parentNode.removeChild(nCell)}else oData._anHidden[iColumn]=
null;if(oCol.fnCreatedCell)oCol.fnCreatedCell.call(oSettings.oInstance,nCell,_fnGetCellData(oSettings,iRow,iColumn,"display"),oData._aData,iRow,iColumn)}}if(oSettings.aoRowCreatedCallback.length!==0)for(i=0,iLen=oSettings.aoData.length;i<iLen;i++){oData=oSettings.aoData[i];_fnCallbackFire(oSettings,"aoRowCreatedCallback",null,[oData.nTr,oData._aData,i])}}function _fnNodeToDataIndex(oSettings,n){return n._DT_RowIndex!==undefined?n._DT_RowIndex:null}function _fnNodeToColumnIndex(oSettings,iRow,n){var anCells=
_fnGetTdNodes(oSettings,iRow);for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++)if(anCells[i]===n)return i;return-1}function _fnGetRowData(oSettings,iRow,sSpecific){var out=[];for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++)out.push(_fnGetCellData(oSettings,iRow,i,sSpecific));return out}function _fnGetCellData(oSettings,iRow,iCol,sSpecific){var sData;var oCol=oSettings.aoColumns[iCol];var oData=oSettings.aoData[iRow]._aData;if((sData=oCol.fnGetData(oData,sSpecific))===undefined){if(oSettings.iDrawError!=
oSettings.iDraw&&oCol.sDefaultContent===null){_fnLog(oSettings,0,"Requested unknown parameter "+(typeof oCol.mDataProp=="function"?"{mDataprop function}":"'"+oCol.mDataProp+"'")+" from the data source for row "+iRow);oSettings.iDrawError=oSettings.iDraw}return oCol.sDefaultContent}if(sData===null&&oCol.sDefaultContent!==null)sData=oCol.sDefaultContent;else if(typeof sData==="function")return sData();if(sSpecific=="display"&&sData===null)return"";return sData}function _fnSetCellData(oSettings,iRow,
iCol,val){var oCol=oSettings.aoColumns[iCol];var oData=oSettings.aoData[iRow]._aData;oCol.fnSetData(oData,val)}function _fnGetObjectDataFn(mSource){if(mSource===null)return function(data,type){return null};else if(typeof mSource==="function")return function(data,type){return mSource(data,type)};else if(typeof mSource==="string"&&mSource.indexOf(".")!=-1){var a=mSource.split(".");return function(data,type){for(var i=0,iLen=a.length;i<iLen;i++){data=data[a[i]];if(data===undefined)return undefined}return data}}else return function(data,
type){return data[mSource]}}function _fnSetObjectDataFn(mSource){if(mSource===null)return function(data,val){};else if(typeof mSource==="function")return function(data,val){mSource(data,"set",val)};else if(typeof mSource==="string"&&mSource.indexOf(".")!=-1){var a=mSource.split(".");return function(data,val){for(var i=0,iLen=a.length-1;i<iLen;i++){if(data[a[i]]===undefined)data[a[i]]={};data=data[a[i]]}data[a[a.length-1]]=val}}else return function(data,val){data[mSource]=val}}function _fnGetDataMaster(oSettings){var aData=
[];var iLen=oSettings.aoData.length;for(var i=0;i<iLen;i++)aData.push(oSettings.aoData[i]._aData);return aData}function _fnClearTable(oSettings){oSettings.aoData.splice(0,oSettings.aoData.length);oSettings.aiDisplayMaster.splice(0,oSettings.aiDisplayMaster.length);oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length);_fnCalculateEnd(oSettings)}function _fnDeleteIndex(a,iTarget){var iTargetIndex=-1;for(var i=0,iLen=a.length;i<iLen;i++)if(a[i]==iTarget)iTargetIndex=i;else if(a[i]>iTarget)a[i]--;
if(iTargetIndex!=-1)a.splice(iTargetIndex,1)}function _fnRender(oSettings,iRow,iCol){var oCol=oSettings.aoColumns[iCol];return oCol.fnRender({"iDataRow":iRow,"iDataColumn":iCol,"oSettings":oSettings,"aData":oSettings.aoData[iRow]._aData,"mDataProp":oCol.mDataProp},_fnGetCellData(oSettings,iRow,iCol,"display"))}function _fnCreateTr(oSettings,iRow){var oData=oSettings.aoData[iRow];var nTd;if(oData.nTr===null){oData.nTr=document.createElement("tr");oData.nTr._DT_RowIndex=iRow;if(oData._aData.DT_RowId)oData.nTr.id=
oData._aData.DT_RowId;if(oData._aData.DT_RowClass)$(oData.nTr).addClass(oData._aData.DT_RowClass);for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){var oCol=oSettings.aoColumns[i];nTd=document.createElement(oCol.sCellType);nTd.innerHTML=typeof oCol.fnRender==="function"&&(!oCol.bUseRendered||oCol.mDataProp===null)?_fnRender(oSettings,iRow,i):_fnGetCellData(oSettings,iRow,i,"display");if(oCol.sClass!==null)nTd.className=oCol.sClass;if(oCol.bVisible){oData.nTr.appendChild(nTd);oData._anHidden[i]=
null}else oData._anHidden[i]=nTd;if(oCol.fnCreatedCell)oCol.fnCreatedCell.call(oSettings.oInstance,nTd,_fnGetCellData(oSettings,iRow,i,"display"),oData._aData,iRow,i)}_fnCallbackFire(oSettings,"aoRowCreatedCallback",null,[oData.nTr,oData._aData,iRow])}}function _fnBuildHead(oSettings){var i,nTh,iLen,j,jLen;var iThs=oSettings.nTHead.getElementsByTagName("th").length;var iCorrector=0;var jqChildren;if(iThs!==0)for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){nTh=oSettings.aoColumns[i].nTh;nTh.setAttribute("role",
"columnheader");if(oSettings.aoColumns[i].bSortable){nTh.setAttribute("tabindex",oSettings.iTabIndex);nTh.setAttribute("aria-controls",oSettings.sTableId)}if(oSettings.aoColumns[i].sClass!==null)$(nTh).addClass(oSettings.aoColumns[i].sClass);if(oSettings.aoColumns[i].sTitle!=nTh.innerHTML)nTh.innerHTML=oSettings.aoColumns[i].sTitle}else{var nTr=document.createElement("tr");for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){nTh=oSettings.aoColumns[i].nTh;nTh.innerHTML=oSettings.aoColumns[i].sTitle;
nTh.setAttribute("tabindex","0");if(oSettings.aoColumns[i].sClass!==null)$(nTh).addClass(oSettings.aoColumns[i].sClass);nTr.appendChild(nTh)}$(oSettings.nTHead).html("")[0].appendChild(nTr);_fnDetectHeader(oSettings.aoHeader,oSettings.nTHead)}$(oSettings.nTHead).children("tr").attr("role","row");if(oSettings.bJUI)for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){nTh=oSettings.aoColumns[i].nTh;var nDiv=document.createElement("div");nDiv.className=oSettings.oClasses.sSortJUIWrapper;$(nTh).contents().appendTo(nDiv);
var nSpan=document.createElement("span");nSpan.className=oSettings.oClasses.sSortIcon;nDiv.appendChild(nSpan);nTh.appendChild(nDiv)}if(oSettings.oFeatures.bSort)for(i=0;i<oSettings.aoColumns.length;i++)if(oSettings.aoColumns[i].bSortable!==false)_fnSortAttachListener(oSettings,oSettings.aoColumns[i].nTh,i);else $(oSettings.aoColumns[i].nTh).addClass(oSettings.oClasses.sSortableNone);if(oSettings.oClasses.sFooterTH!=="")$(oSettings.nTFoot).children("tr").children("th").addClass(oSettings.oClasses.sFooterTH);
if(oSettings.nTFoot!==null){var anCells=_fnGetUniqueThs(oSettings,null,oSettings.aoFooter);for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++)if(anCells[i]){oSettings.aoColumns[i].nTf=anCells[i];if(oSettings.aoColumns[i].sClass)$(anCells[i]).addClass(oSettings.aoColumns[i].sClass)}}}function _fnDrawHead(oSettings,aoSource,bIncludeHidden){var i,iLen,j,jLen,k,kLen,n,nLocalTr;var aoLocal=[];var aApplied=[];var iColumns=oSettings.aoColumns.length;var iRowspan,iColspan;if(bIncludeHidden===undefined)bIncludeHidden=
false;for(i=0,iLen=aoSource.length;i<iLen;i++){aoLocal[i]=aoSource[i].slice();aoLocal[i].nTr=aoSource[i].nTr;for(j=iColumns-1;j>=0;j--)if(!oSettings.aoColumns[j].bVisible&&!bIncludeHidden)aoLocal[i].splice(j,1);aApplied.push([])}for(i=0,iLen=aoLocal.length;i<iLen;i++){nLocalTr=aoLocal[i].nTr;if(nLocalTr)while(n=nLocalTr.firstChild)nLocalTr.removeChild(n);for(j=0,jLen=aoLocal[i].length;j<jLen;j++){iRowspan=1;iColspan=1;if(aApplied[i][j]===undefined){nLocalTr.appendChild(aoLocal[i][j].cell);aApplied[i][j]=
1;while(aoLocal[i+iRowspan]!==undefined&&aoLocal[i][j].cell==aoLocal[i+iRowspan][j].cell){aApplied[i+iRowspan][j]=1;iRowspan++}while(aoLocal[i][j+iColspan]!==undefined&&aoLocal[i][j].cell==aoLocal[i][j+iColspan].cell){for(k=0;k<iRowspan;k++)aApplied[i+k][j+iColspan]=1;iColspan++}aoLocal[i][j].cell.rowSpan=iRowspan;aoLocal[i][j].cell.colSpan=iColspan}}}}function _fnDraw(oSettings){var aPreDraw=_fnCallbackFire(oSettings,"aoPreDrawCallback","preDraw",[oSettings]);if($.inArray(false,aPreDraw)!==-1){_fnProcessingDisplay(oSettings,
false);return}var i,iLen,n;var anRows=[];var iRowCount=0;var iStripes=oSettings.asStripeClasses.length;var iOpenRows=oSettings.aoOpenRows.length;oSettings.bDrawing=true;if(oSettings.iInitDisplayStart!==undefined&&oSettings.iInitDisplayStart!=-1){if(oSettings.oFeatures.bServerSide)oSettings._iDisplayStart=oSettings.iInitDisplayStart;else oSettings._iDisplayStart=oSettings.iInitDisplayStart>=oSettings.fnRecordsDisplay()?0:oSettings.iInitDisplayStart;oSettings.iInitDisplayStart=-1;_fnCalculateEnd(oSettings)}if(oSettings.bDeferLoading){oSettings.bDeferLoading=
false;oSettings.iDraw++}else if(!oSettings.oFeatures.bServerSide)oSettings.iDraw++;else if(!oSettings.bDestroying&&!_fnAjaxUpdate(oSettings))return;if(oSettings.aiDisplay.length!==0){var iStart=oSettings._iDisplayStart;var iEnd=oSettings._iDisplayEnd;if(oSettings.oFeatures.bServerSide){iStart=0;iEnd=oSettings.aoData.length}for(var j=iStart;j<iEnd;j++){var aoData=oSettings.aoData[oSettings.aiDisplay[j]];if(aoData.nTr===null)_fnCreateTr(oSettings,oSettings.aiDisplay[j]);var nRow=aoData.nTr;if(iStripes!==
0){var sStripe=oSettings.asStripeClasses[iRowCount%iStripes];if(aoData._sRowStripe!=sStripe){$(nRow).removeClass(aoData._sRowStripe).addClass(sStripe);aoData._sRowStripe=sStripe}}_fnCallbackFire(oSettings,"aoRowCallback",null,[nRow,oSettings.aoData[oSettings.aiDisplay[j]]._aData,iRowCount,j]);anRows.push(nRow);iRowCount++;if(iOpenRows!==0)for(var k=0;k<iOpenRows;k++)if(nRow==oSettings.aoOpenRows[k].nParent){anRows.push(oSettings.aoOpenRows[k].nTr);break}}}else{anRows[0]=document.createElement("tr");
if(oSettings.asStripeClasses[0])anRows[0].className=oSettings.asStripeClasses[0];var oLang=oSettings.oLanguage;var sZero=oLang.sZeroRecords;if(oSettings.iDraw==1&&oSettings.sAjaxSource!==null&&!oSettings.oFeatures.bServerSide)sZero=oLang.sLoadingRecords;else if(oLang.sEmptyTable&&oSettings.fnRecordsTotal()===0)sZero=oLang.sEmptyTable;var nTd=document.createElement("td");nTd.setAttribute("valign","top");nTd.colSpan=_fnVisbleColumns(oSettings);nTd.className=oSettings.oClasses.sRowEmpty;nTd.innerHTML=
_fnInfoMacros(oSettings,sZero);anRows[iRowCount].appendChild(nTd)}_fnCallbackFire(oSettings,"aoHeaderCallback","header",[$(oSettings.nTHead).children("tr")[0],_fnGetDataMaster(oSettings),oSettings._iDisplayStart,oSettings.fnDisplayEnd(),oSettings.aiDisplay]);_fnCallbackFire(oSettings,"aoFooterCallback","footer",[$(oSettings.nTFoot).children("tr")[0],_fnGetDataMaster(oSettings),oSettings._iDisplayStart,oSettings.fnDisplayEnd(),oSettings.aiDisplay]);var nAddFrag=document.createDocumentFragment(),nRemoveFrag=
document.createDocumentFragment(),nBodyPar,nTrs;if(oSettings.nTBody){nBodyPar=oSettings.nTBody.parentNode;nRemoveFrag.appendChild(oSettings.nTBody);if(!oSettings.oScroll.bInfinite||!oSettings._bInitComplete||oSettings.bSorted||oSettings.bFiltered)while(n=oSettings.nTBody.firstChild)oSettings.nTBody.removeChild(n);for(i=0,iLen=anRows.length;i<iLen;i++)nAddFrag.appendChild(anRows[i]);oSettings.nTBody.appendChild(nAddFrag);if(nBodyPar!==null)nBodyPar.appendChild(oSettings.nTBody)}_fnCallbackFire(oSettings,
"aoDrawCallback","draw",[oSettings]);oSettings.bSorted=false;oSettings.bFiltered=false;oSettings.bDrawing=false;if(oSettings.oFeatures.bServerSide){_fnProcessingDisplay(oSettings,false);if(!oSettings._bInitComplete)_fnInitComplete(oSettings)}$(oSettings.oInstance).trigger("dataTables.tableDraw",oSettings)}function _fnReDraw(oSettings){if(oSettings.oFeatures.bSort)_fnSort(oSettings,oSettings.oPreviousSearch);else if(oSettings.oFeatures.bFilter)_fnFilterComplete(oSettings,oSettings.oPreviousSearch);
else{_fnCalculateEnd(oSettings);_fnDraw(oSettings)}}function _fnAddOptionsHtml(oSettings){var nHolding=$("\x3cdiv\x3e\x3c/div\x3e")[0];oSettings.nTable.parentNode.insertBefore(nHolding,oSettings.nTable);oSettings.nTableWrapper=$('\x3cdiv id\x3d"'+oSettings.sTableId+'_wrapper" class\x3d"'+oSettings.oClasses.sWrapper+'" role\x3d"grid"\x3e\x3c/div\x3e')[0];oSettings.nTableReinsertBefore=oSettings.nTable.nextSibling;var nInsertNode=oSettings.nTableWrapper;var aDom=oSettings.sDom.split("");var nTmp,iPushFeature,
cOption,nNewNode,cNext,sAttr,j;for(var i=0;i<aDom.length;i++){iPushFeature=0;cOption=aDom[i];if(cOption=="\x3c"){nNewNode=$("\x3cdiv\x3e\x3c/div\x3e")[0];cNext=aDom[i+1];if(cNext=="'"||cNext=='"'){sAttr="";j=2;while(aDom[i+j]!=cNext){sAttr+=aDom[i+j];j++}if(sAttr=="H")sAttr=oSettings.oClasses.sJUIHeader;else if(sAttr=="F")sAttr=oSettings.oClasses.sJUIFooter;if(sAttr.indexOf(".")!=-1){var aSplit=sAttr.split(".");nNewNode.id=aSplit[0].substr(1,aSplit[0].length-1);nNewNode.className=aSplit[1]}else if(sAttr.charAt(0)==
"#")nNewNode.id=sAttr.substr(1,sAttr.length-1);else nNewNode.className=sAttr;i+=j}nInsertNode.appendChild(nNewNode);nInsertNode=nNewNode}else if(cOption=="\x3e")nInsertNode=nInsertNode.parentNode;else if(cOption=="l"&&oSettings.oFeatures.bPaginate&&oSettings.oFeatures.bLengthChange){nTmp=_fnFeatureHtmlLength(oSettings);iPushFeature=1}else if(cOption=="f"&&oSettings.oFeatures.bFilter){nTmp=_fnFeatureHtmlFilter(oSettings);iPushFeature=1}else if(cOption=="r"&&oSettings.oFeatures.bProcessing){nTmp=_fnFeatureHtmlProcessing(oSettings);
iPushFeature=1}else if(cOption=="t"){nTmp=_fnFeatureHtmlTable(oSettings);iPushFeature=1}else if(cOption=="i"&&oSettings.oFeatures.bInfo){nTmp=_fnFeatureHtmlInfo(oSettings);iPushFeature=1}else if(cOption=="p"&&oSettings.oFeatures.bPaginate){nTmp=_fnFeatureHtmlPaginate(oSettings);iPushFeature=1}else if(DataTable.ext.aoFeatures.length!==0){var aoFeatures=DataTable.ext.aoFeatures;for(var k=0,kLen=aoFeatures.length;k<kLen;k++)if(cOption==aoFeatures[k].cFeature){nTmp=aoFeatures[k].fnInit(oSettings);if(nTmp)iPushFeature=
1;break}}if(iPushFeature==1&&nTmp!==null){if(typeof oSettings.aanFeatures[cOption]!=="object")oSettings.aanFeatures[cOption]=[];oSettings.aanFeatures[cOption].push(nTmp);nInsertNode.appendChild(nTmp)}}nHolding.parentNode.replaceChild(oSettings.nTableWrapper,nHolding)}function _fnDetectHeader(aLayout,nThead){var nTrs=$(nThead).children("tr");var nCell;var i,j,k,l,iLen,jLen,iColShifted;var fnShiftCol=function(a,i,j){while(a[i][j])j++;return j};aLayout.splice(0,aLayout.length);for(i=0,iLen=nTrs.length;i<
iLen;i++)aLayout.push([]);for(i=0,iLen=nTrs.length;i<iLen;i++){var iColumn=0;for(j=0,jLen=nTrs[i].childNodes.length;j<jLen;j++){nCell=nTrs[i].childNodes[j];if(nCell.nodeName.toUpperCase()=="TD"||nCell.nodeName.toUpperCase()=="TH"){var iColspan=nCell.getAttribute("colspan")*1;var iRowspan=nCell.getAttribute("rowspan")*1;iColspan=!iColspan||iColspan===0||iColspan===1?1:iColspan;iRowspan=!iRowspan||iRowspan===0||iRowspan===1?1:iRowspan;iColShifted=fnShiftCol(aLayout,i,iColumn);for(l=0;l<iColspan;l++)for(k=
0;k<iRowspan;k++){aLayout[i+k][iColShifted+l]={"cell":nCell,"unique":iColspan==1?true:false};aLayout[i+k].nTr=nTrs[i]}}}}}function _fnGetUniqueThs(oSettings,nHeader,aLayout){var aReturn=[];if(!aLayout){aLayout=oSettings.aoHeader;if(nHeader){aLayout=[];_fnDetectHeader(aLayout,nHeader)}}for(var i=0,iLen=aLayout.length;i<iLen;i++)for(var j=0,jLen=aLayout[i].length;j<jLen;j++)if(aLayout[i][j].unique&&(!aReturn[j]||!oSettings.bSortCellsTop))aReturn[j]=aLayout[i][j].cell;return aReturn}function _fnAjaxUpdate(oSettings){if(oSettings.bAjaxDataGet){oSettings.iDraw++;
_fnProcessingDisplay(oSettings,true);var iColumns=oSettings.aoColumns.length;var aoData=_fnAjaxParameters(oSettings);_fnServerParams(oSettings,aoData);oSettings.fnServerData.call(oSettings.oInstance,oSettings.sAjaxSource,aoData,function(json){_fnAjaxUpdateDraw(oSettings,json)},oSettings);return false}else return true}function _fnAjaxParameters(oSettings){var iColumns=oSettings.aoColumns.length;var aoData=[],mDataProp,aaSort,aDataSort;var i,j;aoData.push({"name":"sEcho","value":oSettings.iDraw});aoData.push({"name":"iColumns",
"value":iColumns});aoData.push({"name":"sColumns","value":_fnColumnOrdering(oSettings)});aoData.push({"name":"iDisplayStart","value":oSettings._iDisplayStart});aoData.push({"name":"iDisplayLength","value":oSettings.oFeatures.bPaginate!==false?oSettings._iDisplayLength:-1});for(i=0;i<iColumns;i++){mDataProp=oSettings.aoColumns[i].mDataProp;aoData.push({"name":"mDataProp_"+i,"value":typeof mDataProp==="function"?"function":mDataProp})}if(oSettings.oFeatures.bFilter!==false){aoData.push({"name":"sSearch",
"value":oSettings.oPreviousSearch.sSearch});aoData.push({"name":"bRegex","value":oSettings.oPreviousSearch.bRegex});for(i=0;i<iColumns;i++){aoData.push({"name":"sSearch_"+i,"value":oSettings.aoPreSearchCols[i].sSearch});aoData.push({"name":"bRegex_"+i,"value":oSettings.aoPreSearchCols[i].bRegex});aoData.push({"name":"bSearchable_"+i,"value":oSettings.aoColumns[i].bSearchable})}}if(oSettings.oFeatures.bSort!==false){var iCounter=0;aaSort=oSettings.aaSortingFixed!==null?oSettings.aaSortingFixed.concat(oSettings.aaSorting):
oSettings.aaSorting.slice();for(i=0;i<aaSort.length;i++){aDataSort=oSettings.aoColumns[aaSort[i][0]].aDataSort;for(j=0;j<aDataSort.length;j++){aoData.push({"name":"iSortCol_"+iCounter,"value":aDataSort[j]});aoData.push({"name":"sSortDir_"+iCounter,"value":aaSort[i][1]});iCounter++}}aoData.push({"name":"iSortingCols","value":iCounter});for(i=0;i<iColumns;i++)aoData.push({"name":"bSortable_"+i,"value":oSettings.aoColumns[i].bSortable})}return aoData}function _fnServerParams(oSettings,aoData){_fnCallbackFire(oSettings,
"aoServerParams","serverParams",[aoData])}function _fnAjaxUpdateDraw(oSettings,json){if(json.sEcho!==undefined)if(json.sEcho*1<oSettings.iDraw)return;else oSettings.iDraw=json.sEcho*1;if(!oSettings.oScroll.bInfinite||oSettings.oScroll.bInfinite&&(oSettings.bSorted||oSettings.bFiltered))_fnClearTable(oSettings);oSettings._iRecordsTotal=parseInt(json.iTotalRecords,10);oSettings._iRecordsDisplay=parseInt(json.iTotalDisplayRecords,10);var sOrdering=_fnColumnOrdering(oSettings);var bReOrder=json.sColumns!==
undefined&&sOrdering!==""&&json.sColumns!=sOrdering;var aiIndex;if(bReOrder)aiIndex=_fnReOrderIndex(oSettings,json.sColumns);var aData=_fnGetObjectDataFn(oSettings.sAjaxDataProp)(json);for(var i=0,iLen=aData.length;i<iLen;i++)if(bReOrder){var aDataSorted=[];for(var j=0,jLen=oSettings.aoColumns.length;j<jLen;j++)aDataSorted.push(aData[i][aiIndex[j]]);_fnAddData(oSettings,aDataSorted)}else _fnAddData(oSettings,aData[i]);oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings.bAjaxDataGet=false;
_fnDraw(oSettings);oSettings.bAjaxDataGet=true;_fnProcessingDisplay(oSettings,false)}function _fnFeatureHtmlFilter(oSettings){var oPreviousSearch=oSettings.oPreviousSearch;var sSearchStr=oSettings.oLanguage.sSearch;sSearchStr=sSearchStr.indexOf("_INPUT_")!==-1?sSearchStr.replace("_INPUT_",'\x3cinput type\x3d"text" /\x3e'):sSearchStr===""?'\x3cinput type\x3d"text" /\x3e':sSearchStr+' \x3cinput type\x3d"text" /\x3e';var nFilter=document.createElement("div");nFilter.className=oSettings.oClasses.sFilter;
nFilter.innerHTML="\x3clabel\x3e"+sSearchStr+"\x3c/label\x3e";if(!oSettings.aanFeatures.f)nFilter.id=oSettings.sTableId+"_filter";var jqFilter=$('input[type\x3d"text"]',nFilter);nFilter._DT_Input=jqFilter[0];jqFilter.val(oPreviousSearch.sSearch.replace('"',"\x26quot;"));jqFilter.bind("keyup.DT",function(e){var n=oSettings.aanFeatures.f;var val=this.value===""?"":this.value;for(var i=0,iLen=n.length;i<iLen;i++)if(n[i]!=$(this).parents("div.dataTables_filter")[0])$(n[i]._DT_Input).val(val);if(val!=
oPreviousSearch.sSearch)_fnFilterComplete(oSettings,{"sSearch":val,"bRegex":oPreviousSearch.bRegex,"bSmart":oPreviousSearch.bSmart,"bCaseInsensitive":oPreviousSearch.bCaseInsensitive})});jqFilter.attr("aria-controls",oSettings.sTableId).bind("keypress.DT",function(e){if(e.keyCode==13)return false});return nFilter}function _fnFilterComplete(oSettings,oInput,iForce){var oPrevSearch=oSettings.oPreviousSearch;var aoPrevSearch=oSettings.aoPreSearchCols;var fnSaveFilter=function(oFilter){oPrevSearch.sSearch=
oFilter.sSearch;oPrevSearch.bRegex=oFilter.bRegex;oPrevSearch.bSmart=oFilter.bSmart;oPrevSearch.bCaseInsensitive=oFilter.bCaseInsensitive};if(!oSettings.oFeatures.bServerSide){_fnFilter(oSettings,oInput.sSearch,iForce,oInput.bRegex,oInput.bSmart,oInput.bCaseInsensitive);fnSaveFilter(oInput);for(var i=0;i<oSettings.aoPreSearchCols.length;i++)_fnFilterColumn(oSettings,aoPrevSearch[i].sSearch,i,aoPrevSearch[i].bRegex,aoPrevSearch[i].bSmart,aoPrevSearch[i].bCaseInsensitive);_fnFilterCustom(oSettings)}else fnSaveFilter(oInput);
oSettings.bFiltered=true;$(oSettings.oInstance).trigger("filter",oSettings);oSettings._iDisplayStart=0;_fnCalculateEnd(oSettings);_fnDraw(oSettings);_fnBuildSearchArray(oSettings,0)}function _fnFilterCustom(oSettings){var afnFilters=DataTable.ext.afnFiltering;for(var i=0,iLen=afnFilters.length;i<iLen;i++){var iCorrector=0;for(var j=0,jLen=oSettings.aiDisplay.length;j<jLen;j++){var iDisIndex=oSettings.aiDisplay[j-iCorrector];if(!afnFilters[i](oSettings,_fnGetRowData(oSettings,iDisIndex,"filter"),iDisIndex)){oSettings.aiDisplay.splice(j-
iCorrector,1);iCorrector++}}}}function _fnFilterColumn(oSettings,sInput,iColumn,bRegex,bSmart,bCaseInsensitive){if(sInput==="")return;var iIndexCorrector=0;var rpSearch=_fnFilterCreateSearch(sInput,bRegex,bSmart,bCaseInsensitive);for(var i=oSettings.aiDisplay.length-1;i>=0;i--){var sData=_fnDataToSearch(_fnGetCellData(oSettings,oSettings.aiDisplay[i],iColumn,"filter"),oSettings.aoColumns[iColumn].sType);if(!rpSearch.test(sData)){oSettings.aiDisplay.splice(i,1);iIndexCorrector++}}}function _fnFilter(oSettings,
sInput,iForce,bRegex,bSmart,bCaseInsensitive){var i;var rpSearch=_fnFilterCreateSearch(sInput,bRegex,bSmart,bCaseInsensitive);var oPrevSearch=oSettings.oPreviousSearch;if(!iForce)iForce=0;if(DataTable.ext.afnFiltering.length!==0)iForce=1;if(sInput.length<=0){oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length);oSettings.aiDisplay=oSettings.aiDisplayMaster.slice()}else if(oSettings.aiDisplay.length==oSettings.aiDisplayMaster.length||oPrevSearch.sSearch.length>sInput.length||iForce==1||sInput.indexOf(oPrevSearch.sSearch)!==
0){oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length);_fnBuildSearchArray(oSettings,1);for(i=0;i<oSettings.aiDisplayMaster.length;i++)if(rpSearch.test(oSettings.asDataSearch[i]))oSettings.aiDisplay.push(oSettings.aiDisplayMaster[i])}else{var iIndexCorrector=0;for(i=0;i<oSettings.asDataSearch.length;i++)if(!rpSearch.test(oSettings.asDataSearch[i])){oSettings.aiDisplay.splice(i-iIndexCorrector,1);iIndexCorrector++}}}function _fnBuildSearchArray(oSettings,iMaster){if(!oSettings.oFeatures.bServerSide){oSettings.asDataSearch.splice(0,
oSettings.asDataSearch.length);var aArray=iMaster&&iMaster===1?oSettings.aiDisplayMaster:oSettings.aiDisplay;for(var i=0,iLen=aArray.length;i<iLen;i++)oSettings.asDataSearch[i]=_fnBuildSearchRow(oSettings,_fnGetRowData(oSettings,aArray[i],"filter"))}}function _fnBuildSearchRow(oSettings,aData){var sSearch="";if(oSettings.__nTmpFilter===undefined)oSettings.__nTmpFilter=document.createElement("div");var nTmp=oSettings.__nTmpFilter;for(var j=0,jLen=oSettings.aoColumns.length;j<jLen;j++)if(oSettings.aoColumns[j].bSearchable){var sData=
aData[j];sSearch+=_fnDataToSearch(sData,oSettings.aoColumns[j].sType)+"  "}if(sSearch.indexOf("\x26")!==-1){nTmp.innerHTML=sSearch;sSearch=nTmp.textContent?nTmp.textContent:nTmp.innerText;sSearch=sSearch.replace(/\n/g," ").replace(/\r/g,"")}return sSearch}function _fnFilterCreateSearch(sSearch,bRegex,bSmart,bCaseInsensitive){var asSearch,sRegExpString;if(bSmart){asSearch=bRegex?sSearch.split(" "):_fnEscapeRegex(sSearch).split(" ");sRegExpString="^(?\x3d.*?"+asSearch.join(")(?\x3d.*?")+").*$";return new RegExp(sRegExpString,
bCaseInsensitive?"i":"")}else{sSearch=bRegex?sSearch:_fnEscapeRegex(sSearch);return new RegExp(sSearch,bCaseInsensitive?"i":"")}}function _fnDataToSearch(sData,sType){if(typeof DataTable.ext.ofnSearch[sType]==="function")return DataTable.ext.ofnSearch[sType](sData);else if(sData===null)return"";else if(sType=="html")return sData.replace(/[\r\n]/g," ").replace(/<.*?>/g,"");else if(typeof sData==="string")return sData.replace(/[\r\n]/g," ");return sData}function _fnEscapeRegex(sVal){var acEscape=["/",
".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"];var reReplace=new RegExp("(\\"+acEscape.join("|\\")+")","g");return sVal.replace(reReplace,"\\$1")}function _fnFeatureHtmlInfo(oSettings){var nInfo=document.createElement("div");nInfo.className=oSettings.oClasses.sInfo;if(!oSettings.aanFeatures.i){oSettings.aoDrawCallback.push({"fn":_fnUpdateInfo,"sName":"information"});nInfo.id=oSettings.sTableId+"_info"}oSettings.nTable.setAttribute("aria-describedby",oSettings.sTableId+"_info");return nInfo}
function _fnUpdateInfo(oSettings){if(!oSettings.oFeatures.bInfo||oSettings.aanFeatures.i.length===0)return;var oLang=oSettings.oLanguage,iStart=oSettings._iDisplayStart+1,iEnd=oSettings.fnDisplayEnd(),iMax=oSettings.fnRecordsTotal(),iTotal=oSettings.fnRecordsDisplay(),sOut;if(iTotal===0&&iTotal==iMax)sOut=oLang.sInfoEmpty;else if(iTotal===0)sOut=oLang.sInfoEmpty+" "+oLang.sInfoFiltered;else if(iTotal==iMax)sOut=oLang.sInfo;else sOut=oLang.sInfo+" "+oLang.sInfoFiltered;sOut+=oLang.sInfoPostFix;sOut=
_fnInfoMacros(oSettings,sOut);if(oLang.fnInfoCallback!==null)sOut=oLang.fnInfoCallback.call(oSettings.oInstance,oSettings,iStart,iEnd,iMax,iTotal,sOut);var n=oSettings.aanFeatures.i;for(var i=0,iLen=n.length;i<iLen;i++)$(n[i]).html(sOut)}function _fnInfoMacros(oSettings,str){var iStart=oSettings._iDisplayStart+1,iEnd=oSettings.fnDisplayEnd(),sEnd=oSettings.fnFormatNumber(iEnd),iTotal=oSettings.fnRecordsDisplay(),sTotal=oSettings.fnFormatNumber(iTotal),iMax=oSettings.fnRecordsTotal(),sMax=oSettings.fnFormatNumber(iMax);
var iCurrentPage=Math.ceil(oSettings._iDisplayStart/oSettings._iDisplayLength)+1;if($(oSettings.nTable).hasClass("uif-hasAddLine")&&iCurrentPage>1)iStart=oSettings._iDisplayStart;var sStart=oSettings.fnFormatNumber(iStart);if(oSettings.oScroll.bInfinite)sStart=oSettings.fnFormatNumber(1);return str.replace("_START_",sStart).replace("_END_",sEnd).replace("_TOTAL_",sTotal).replace("_MAX_",sMax)}function _fnInitialise(oSettings){var i,iLen,iAjaxStart=oSettings.iInitDisplayStart;if(oSettings.bInitialised===
false){setTimeout(function(){_fnInitialise(oSettings)},200);return}_fnAddOptionsHtml(oSettings);_fnBuildHead(oSettings);_fnDrawHead(oSettings,oSettings.aoHeader);if(oSettings.nTFoot)_fnDrawHead(oSettings,oSettings.aoFooter);_fnProcessingDisplay(oSettings,true);if(oSettings.oFeatures.bAutoWidth)_fnCalculateColumnWidths(oSettings);for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++)if(oSettings.aoColumns[i].sWidth!==null)oSettings.aoColumns[i].nTh.style.width=_fnStringToCss(oSettings.aoColumns[i].sWidth);
if(oSettings.oFeatures.bSort)_fnSort(oSettings);else if(oSettings.oFeatures.bFilter)_fnFilterComplete(oSettings,oSettings.oPreviousSearch);else{oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();_fnCalculateEnd(oSettings);_fnDraw(oSettings)}if(oSettings.sAjaxSource!==null&&!oSettings.oFeatures.bServerSide){var aoData=[];_fnServerParams(oSettings,aoData);oSettings.fnServerData.call(oSettings.oInstance,oSettings.sAjaxSource,aoData,function(json){var aData=oSettings.sAjaxDataProp!==""?_fnGetObjectDataFn(oSettings.sAjaxDataProp)(json):
json;for(i=0;i<aData.length;i++)_fnAddData(oSettings,aData[i]);oSettings.iInitDisplayStart=iAjaxStart;if(oSettings.oFeatures.bSort)_fnSort(oSettings);else{oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();_fnCalculateEnd(oSettings);_fnDraw(oSettings)}_fnProcessingDisplay(oSettings,false);_fnInitComplete(oSettings,json);runHiddenScripts(oSettings.sTableId,false)},oSettings);return}if(!oSettings.oFeatures.bServerSide){_fnProcessingDisplay(oSettings,false);_fnInitComplete(oSettings)}}function _fnInitComplete(oSettings,
json){oSettings._bInitComplete=true;_fnCallbackFire(oSettings,"aoInitComplete","init",[oSettings,json])}function _fnLanguageCompat(oLanguage){var oDefaults=DataTable.defaults.oLanguage;if(!oLanguage.sEmptyTable&&oLanguage.sZeroRecords&&oDefaults.sEmptyTable==="No data available in table")_fnMap(oLanguage,oLanguage,"sZeroRecords","sEmptyTable");if(!oLanguage.sLoadingRecords&&oLanguage.sZeroRecords&&oDefaults.sLoadingRecords==="Loading...")_fnMap(oLanguage,oLanguage,"sZeroRecords","sLoadingRecords")}
function _fnFeatureHtmlLength(oSettings){if(oSettings.oScroll.bInfinite)return null;var sName='name\x3d"'+oSettings.sTableId+'_length"';var sStdMenu='\x3cselect size\x3d"1" '+sName+"\x3e";var i,iLen;var aLengthMenu=oSettings.aLengthMenu;if(aLengthMenu.length==2&&typeof aLengthMenu[0]==="object"&&typeof aLengthMenu[1]==="object")for(i=0,iLen=aLengthMenu[0].length;i<iLen;i++)sStdMenu+='\x3coption value\x3d"'+aLengthMenu[0][i]+'"\x3e'+aLengthMenu[1][i]+"\x3c/option\x3e";else for(i=0,iLen=aLengthMenu.length;i<
iLen;i++)sStdMenu+='\x3coption value\x3d"'+aLengthMenu[i]+'"\x3e'+aLengthMenu[i]+"\x3c/option\x3e";sStdMenu+="\x3c/select\x3e";var nLength=document.createElement("div");if(!oSettings.aanFeatures.l)nLength.id=oSettings.sTableId+"_length";nLength.className=oSettings.oClasses.sLength;nLength.innerHTML="\x3clabel\x3e"+oSettings.oLanguage.sLengthMenu.replace("_MENU_",sStdMenu)+"\x3c/label\x3e";$('select option[value\x3d"'+oSettings._iDisplayLength+'"]',nLength).attr("selected",true);$("select",nLength).bind("change.DT",
function(e){var iVal=$(this).val();var n=oSettings.aanFeatures.l;for(i=0,iLen=n.length;i<iLen;i++)if(n[i]!=this.parentNode)$("select",n[i]).val(iVal);oSettings._iDisplayLength=parseInt(iVal,10);_fnCalculateEnd(oSettings);if(oSettings.fnDisplayEnd()==oSettings.fnRecordsDisplay()){oSettings._iDisplayStart=oSettings.fnDisplayEnd()-oSettings._iDisplayLength;if(oSettings._iDisplayStart<0)oSettings._iDisplayStart=0}if(oSettings._iDisplayLength==-1)oSettings._iDisplayStart=0;_fnDraw(oSettings)});$("select",
nLength).attr("aria-controls",oSettings.sTableId);return nLength}function _fnCalculateEnd(oSettings){if(oSettings.oFeatures.bPaginate===false)oSettings._iDisplayEnd=oSettings.aiDisplay.length;else if(oSettings._iDisplayStart+oSettings._iDisplayLength>oSettings.aiDisplay.length||oSettings._iDisplayLength==-1)oSettings._iDisplayEnd=oSettings.aiDisplay.length;else oSettings._iDisplayEnd=oSettings._iDisplayStart+oSettings._iDisplayLength}function _fnFeatureHtmlPaginate(oSettings){if(oSettings.oScroll.bInfinite)return null;
var nPaginate=document.createElement("div");nPaginate.className=oSettings.oClasses.sPaging+oSettings.sPaginationType;DataTable.ext.oPagination[oSettings.sPaginationType].fnInit(oSettings,nPaginate,function(oSettings){_fnCalculateEnd(oSettings);_fnDraw(oSettings)});if(!oSettings.aanFeatures.p)oSettings.aoDrawCallback.push({"fn":function(oSettings){DataTable.ext.oPagination[oSettings.sPaginationType].fnUpdate(oSettings,function(oSettings){_fnCalculateEnd(oSettings);_fnDraw(oSettings)})},"sName":"pagination"});
return nPaginate}function _fnPageChange(oSettings,mAction){var iOldStart=oSettings._iDisplayStart;if(typeof mAction==="number"){oSettings._iDisplayStart=mAction*oSettings._iDisplayLength;var start=oSettings._iDisplayStart;if(!$(oSettings.nTable).hasClass("uif-hasAddLine"))start=start+1;if(start>oSettings.fnRecordsDisplay())oSettings._iDisplayStart=0}else if(mAction=="first")oSettings._iDisplayStart=0;else if(mAction=="previous"){oSettings._iDisplayStart=oSettings._iDisplayLength>=0?oSettings._iDisplayStart-
oSettings._iDisplayLength:0;if(oSettings._iDisplayStart<0)oSettings._iDisplayStart=0}else if(mAction=="next")if(oSettings._iDisplayLength>=0){if(oSettings._iDisplayStart+oSettings._iDisplayLength<oSettings.fnRecordsDisplay())oSettings._iDisplayStart+=oSettings._iDisplayLength}else oSettings._iDisplayStart=0;else if(mAction=="last")if(oSettings._iDisplayLength>=0){var iPages=parseInt((oSettings.fnRecordsDisplay()-1)/oSettings._iDisplayLength,10)+1;oSettings._iDisplayStart=(iPages-1)*oSettings._iDisplayLength}else oSettings._iDisplayStart=
0;else _fnLog(oSettings,0,"Unknown paging action: "+mAction);$(oSettings.oInstance).trigger("page",oSettings);return iOldStart!=oSettings._iDisplayStart}function _fnFeatureHtmlProcessing(oSettings){var nProcessing=document.createElement("div");if(!oSettings.aanFeatures.r)nProcessing.id=oSettings.sTableId+"_processing";nProcessing.innerHTML=oSettings.oLanguage.sProcessing;nProcessing.className=oSettings.oClasses.sProcessing;oSettings.nTable.parentNode.insertBefore(nProcessing,oSettings.nTable);return nProcessing}
function _fnProcessingDisplay(oSettings,bShow){if(oSettings.oFeatures.bProcessing){var an=oSettings.aanFeatures.r;for(var i=0,iLen=an.length;i<iLen;i++)an[i].style.visibility=bShow?"visible":"hidden"}$(oSettings.oInstance).trigger("processing",[oSettings,bShow])}function _fnFeatureHtmlTable(oSettings){if(oSettings.oScroll.sX===""&&oSettings.oScroll.sY==="")return oSettings.nTable;var nScroller=document.createElement("div"),nScrollHead=document.createElement("div"),nScrollHeadInner=document.createElement("div"),
nScrollBody=document.createElement("div"),nScrollFoot=document.createElement("div"),nScrollFootInner=document.createElement("div"),nScrollHeadTable=oSettings.nTable.cloneNode(false),nScrollFootTable=oSettings.nTable.cloneNode(false),nThead=oSettings.nTable.getElementsByTagName("thead")[0],nTfoot=oSettings.nTable.getElementsByTagName("tfoot").length===0?null:oSettings.nTable.getElementsByTagName("tfoot")[0],oClasses=oSettings.oClasses;nScrollHead.appendChild(nScrollHeadInner);nScrollFoot.appendChild(nScrollFootInner);
nScrollBody.appendChild(oSettings.nTable);nScroller.appendChild(nScrollHead);nScroller.appendChild(nScrollBody);nScrollHeadInner.appendChild(nScrollHeadTable);nScrollHeadTable.appendChild(nThead);if(nTfoot!==null){nScroller.appendChild(nScrollFoot);nScrollFootInner.appendChild(nScrollFootTable);nScrollFootTable.appendChild(nTfoot)}nScroller.className=oClasses.sScrollWrapper;nScrollHead.className=oClasses.sScrollHead;nScrollHeadInner.className=oClasses.sScrollHeadInner;nScrollBody.className=oClasses.sScrollBody;
nScrollFoot.className=oClasses.sScrollFoot;nScrollFootInner.className=oClasses.sScrollFootInner;if(oSettings.oScroll.bAutoCss){nScrollHead.style.overflow="hidden";nScrollHead.style.position="relative";nScrollFoot.style.overflow="hidden";nScrollBody.style.overflow="auto"}nScrollHead.style.border="0";nScrollHead.style.width="100%";nScrollFoot.style.border="0";nScrollHeadInner.style.width=oSettings.oScroll.sXInner!==""?oSettings.oScroll.sXInner:"100%";nScrollHeadTable.removeAttribute("id");nScrollHeadTable.style.marginLeft=
"0";oSettings.nTable.style.marginLeft="0";if(nTfoot!==null){nScrollFootTable.removeAttribute("id");nScrollFootTable.style.marginLeft="0"}var nCaption=$(oSettings.nTable).children("caption");if(nCaption.length>0){nCaption=nCaption[0];if(nCaption._captionSide==="top")nScrollHeadTable.appendChild(nCaption);else if(nCaption._captionSide==="bottom"&&nTfoot)nScrollFootTable.appendChild(nCaption)}if(oSettings.oScroll.sX!==""){nScrollHead.style.width=_fnStringToCss(oSettings.oScroll.sX);nScrollBody.style.width=
_fnStringToCss(oSettings.oScroll.sX);if(nTfoot!==null)nScrollFoot.style.width=_fnStringToCss(oSettings.oScroll.sX);$(nScrollBody).scroll(function(e){nScrollHead.scrollLeft=this.scrollLeft;if(nTfoot!==null)nScrollFoot.scrollLeft=this.scrollLeft})}if(oSettings.oScroll.sY!=="")nScrollBody.style.height=_fnStringToCss(oSettings.oScroll.sY);oSettings.aoDrawCallback.push({"fn":_fnScrollDraw,"sName":"scrolling"});if(oSettings.oScroll.bInfinite)$(nScrollBody).scroll(function(){if(!oSettings.bDrawing&&$(this).scrollTop()!==
0)if($(this).scrollTop()+$(this).height()>$(oSettings.nTable).height()-oSettings.oScroll.iLoadGap)if(oSettings.fnDisplayEnd()<oSettings.fnRecordsDisplay()){_fnPageChange(oSettings,"next");_fnCalculateEnd(oSettings);_fnDraw(oSettings);runHiddenScripts(oSettings.sTableId,false)}});oSettings.nScrollHead=nScrollHead;oSettings.nScrollFoot=nScrollFoot;return nScroller}function _fnScrollDraw(o){var nScrollHeadInner=o.nScrollHead.getElementsByTagName("div")[0],nScrollHeadTable=nScrollHeadInner.getElementsByTagName("table")[0],
nScrollBody=o.nTable.parentNode,i,iLen,j,jLen,anHeadToSize,anHeadSizers,anFootSizers,anFootToSize,oStyle,iVis,nTheadSize,nTfootSize,iWidth,aApplied=[],iSanityWidth,nScrollFootInner=o.nTFoot!==null?o.nScrollFoot.getElementsByTagName("div")[0]:null,nScrollFootTable=o.nTFoot!==null?nScrollFootInner.getElementsByTagName("table")[0]:null,ie67=$.browser.msie&&$.browser.version<=7;$(o.nTable).children("thead, tfoot").remove();nTheadSize=$(o.nTHead).clone()[0];o.nTable.insertBefore(nTheadSize,o.nTable.childNodes[0]);
if(o.nTFoot!==null){nTfootSize=$(o.nTFoot).clone()[0];o.nTable.insertBefore(nTfootSize,o.nTable.childNodes[1])}if(o.oScroll.sX===""){nScrollBody.style.width="100%";nScrollHeadInner.parentNode.style.width="100%"}var nThs=_fnGetUniqueThs(o,nTheadSize);for(i=0,iLen=nThs.length;i<iLen;i++){iVis=_fnVisibleToColumnIndex(o,i);nThs[i].style.width=o.aoColumns[iVis].sWidth}if(o.nTFoot!==null)_fnApplyToChildren(function(n){n.style.width=""},nTfootSize.getElementsByTagName("tr"));if(o.oScroll.bCollapse&&o.oScroll.sY!==
"")nScrollBody.style.height=nScrollBody.offsetHeight+o.nTHead.offsetHeight+"px";iSanityWidth=$(o.nTable).outerWidth();if(o.oScroll.sX===""){o.nTable.style.width="100%";if(ie67&&($("tbody",nScrollBody).height()>nScrollBody.offsetHeight||$(nScrollBody).css("overflow-y")=="scroll"))o.nTable.style.width=_fnStringToCss($(o.nTable).outerWidth()-o.oScroll.iBarWidth)}else if(o.oScroll.sXInner!=="")o.nTable.style.width=_fnStringToCss(o.oScroll.sXInner);else if(iSanityWidth==$(nScrollBody).width()&&$(nScrollBody).height()<
$(o.nTable).height()){o.nTable.style.width=_fnStringToCss(iSanityWidth-o.oScroll.iBarWidth);if($(o.nTable).outerWidth()>iSanityWidth-o.oScroll.iBarWidth)o.nTable.style.width=_fnStringToCss(iSanityWidth)}else o.nTable.style.width=_fnStringToCss(iSanityWidth);iSanityWidth=$(o.nTable).outerWidth();anHeadToSize=o.nTHead.getElementsByTagName("tr");anHeadSizers=nTheadSize.getElementsByTagName("tr");_fnApplyToChildren(function(nSizer,nToSize){oStyle=nSizer.style;oStyle.paddingTop="0";oStyle.paddingBottom=
"0";oStyle.borderTopWidth="0";oStyle.borderBottomWidth="0";oStyle.height=0;iWidth=$(nSizer).width();nToSize.style.width=_fnStringToCss(iWidth);aApplied.push(iWidth)},anHeadSizers,anHeadToSize);$(anHeadSizers).height(0);if(o.nTFoot!==null){anFootSizers=nTfootSize.getElementsByTagName("tr");anFootToSize=o.nTFoot.getElementsByTagName("tr");_fnApplyToChildren(function(nSizer,nToSize){oStyle=nSizer.style;oStyle.paddingTop="0";oStyle.paddingBottom="0";oStyle.borderTopWidth="0";oStyle.borderBottomWidth=
"0";oStyle.height=0;iWidth=$(nSizer).width();nToSize.style.width=_fnStringToCss(iWidth);aApplied.push(iWidth)},anFootSizers,anFootToSize);$(anFootSizers).height(0)}_fnApplyToChildren(function(nSizer){nSizer.innerHTML="";nSizer.style.width=_fnStringToCss(aApplied.shift())},anHeadSizers);if(o.nTFoot!==null)_fnApplyToChildren(function(nSizer){nSizer.innerHTML="";nSizer.style.width=_fnStringToCss(aApplied.shift())},anFootSizers);if($(o.nTable).outerWidth()<iSanityWidth){var iCorrection=nScrollBody.scrollHeight>
nScrollBody.offsetHeight||$(nScrollBody).css("overflow-y")=="scroll"?iSanityWidth+o.oScroll.iBarWidth:iSanityWidth;if(ie67&&(nScrollBody.scrollHeight>nScrollBody.offsetHeight||$(nScrollBody).css("overflow-y")=="scroll"))o.nTable.style.width=_fnStringToCss(iCorrection-o.oScroll.iBarWidth);nScrollBody.style.width=_fnStringToCss(iCorrection);nScrollHeadInner.parentNode.style.width=_fnStringToCss(iCorrection);if(o.nTFoot!==null)nScrollFootInner.parentNode.style.width=_fnStringToCss(iCorrection);if(o.oScroll.sX===
"")_fnLog(o,1,"The table cannot fit into the current element which will cause column"+" misalignment. The table has been drawn at its minimum possible width.");else if(o.oScroll.sXInner!=="")_fnLog(o,1,"The table cannot fit into the current element which will cause column"+" misalignment. Increase the sScrollXInner value or remove it to allow automatic"+" calculation")}else{nScrollBody.style.width=_fnStringToCss("100%");nScrollHeadInner.parentNode.style.width=_fnStringToCss("100%");if(o.nTFoot!==
null)nScrollFootInner.parentNode.style.width=_fnStringToCss("100%")}if(o.oScroll.sY==="")if(ie67)nScrollBody.style.height=_fnStringToCss(o.nTable.offsetHeight+o.oScroll.iBarWidth);if(o.oScroll.sY!==""&&o.oScroll.bCollapse){nScrollBody.style.height=_fnStringToCss(o.oScroll.sY);var iExtra=o.oScroll.sX!==""&&o.nTable.offsetWidth>nScrollBody.offsetWidth?o.oScroll.iBarWidth:0;if(o.nTable.offsetHeight<nScrollBody.offsetHeight)nScrollBody.style.height=_fnStringToCss(o.nTable.offsetHeight+iExtra)}var iOuterWidth=
$(o.nTable).outerWidth();nScrollHeadTable.style.width=_fnStringToCss(iOuterWidth);nScrollHeadInner.style.width=_fnStringToCss(iOuterWidth);var bScrolling=$(o.nTable).height()>nScrollBody.clientHeight||$(nScrollBody).css("overflow-y")=="scroll";nScrollHeadInner.style.paddingRight=bScrolling?o.oScroll.iBarWidth+"px":"0px";if(o.nTFoot!==null){nScrollFootTable.style.width=_fnStringToCss(iOuterWidth);nScrollFootInner.style.width=_fnStringToCss(iOuterWidth);nScrollFootInner.style.paddingRight=bScrolling?
o.oScroll.iBarWidth+"px":"0px"}$(nScrollBody).scroll();if(o.bSorted||o.bFiltered)nScrollBody.scrollTop=0}function _fnApplyToChildren(fn,an1,an2){for(var i=0,iLen=an1.length;i<iLen;i++)for(var j=0,jLen=an1[i].childNodes.length;j<jLen;j++)if(an1[i].childNodes[j].nodeType==1)if(an2)fn(an1[i].childNodes[j],an2[i].childNodes[j]);else fn(an1[i].childNodes[j])}function _fnConvertToWidth(sWidth,nParent){if(!sWidth||sWidth===null||sWidth==="")return 0;if(!nParent)nParent=document.getElementsByTagName("body")[0];
var iWidth;var nTmp=document.createElement("div");nTmp.style.width=_fnStringToCss(sWidth);nParent.appendChild(nTmp);iWidth=nTmp.offsetWidth;nParent.removeChild(nTmp);return iWidth}function _fnCalculateColumnWidths(oSettings){var iTableWidth=oSettings.nTable.offsetWidth;var iUserInputs=0;var iTmpWidth;var iVisibleColumns=0;var iColums=oSettings.aoColumns.length;var i,iIndex,iCorrector,iWidth;var oHeaders=$("th",oSettings.nTHead);var widthAttr=oSettings.nTable.getAttribute("width");for(i=0;i<iColums;i++)if(oSettings.aoColumns[i].bVisible){iVisibleColumns++;
if(oSettings.aoColumns[i].sWidth!==null){iTmpWidth=_fnConvertToWidth(oSettings.aoColumns[i].sWidthOrig,oSettings.nTable.parentNode);if(iTmpWidth!==null)oSettings.aoColumns[i].sWidth=_fnStringToCss(iTmpWidth);iUserInputs++}}if(iColums==oHeaders.length&&iUserInputs===0&&iVisibleColumns==iColums&&oSettings.oScroll.sX===""&&oSettings.oScroll.sY==="")for(i=0;i<oSettings.aoColumns.length;i++){iTmpWidth=$(oHeaders[i]).width();if(iTmpWidth!==null)oSettings.aoColumns[i].sWidth=_fnStringToCss(iTmpWidth)}else{var nCalcTmp=
oSettings.nTable.cloneNode(false),nTheadClone=oSettings.nTHead.cloneNode(true),nBody=document.createElement("tbody"),nTr=document.createElement("tr"),nDivSizing;nCalcTmp.removeAttribute("id");nCalcTmp.appendChild(nTheadClone);if(oSettings.nTFoot!==null){nCalcTmp.appendChild(oSettings.nTFoot.cloneNode(true));_fnApplyToChildren(function(n){n.style.width=""},nCalcTmp.getElementsByTagName("tr"))}nCalcTmp.appendChild(nBody);nBody.appendChild(nTr);var jqColSizing=$("thead th",nCalcTmp);if(jqColSizing.length===
0)jqColSizing=$("tbody tr:eq(0)\x3etd",nCalcTmp);var nThs=_fnGetUniqueThs(oSettings,nTheadClone);iCorrector=0;for(i=0;i<iColums;i++){var oColumn=oSettings.aoColumns[i];if(oColumn.bVisible&&oColumn.sWidthOrig!==null&&oColumn.sWidthOrig!=="")nThs[i-iCorrector].style.width=_fnStringToCss(oColumn.sWidthOrig);else if(oColumn.bVisible)nThs[i-iCorrector].style.width="";else iCorrector++}for(i=0;i<iColums;i++)if(oSettings.aoColumns[i].bVisible){var nTd=_fnGetWidestNode(oSettings,i);if(nTd!==null){nTd=nTd.cloneNode(true);
if(oSettings.aoColumns[i].sContentPadding!=="")nTd.innerHTML+=oSettings.aoColumns[i].sContentPadding;nTr.appendChild(nTd)}}var nWrapper=oSettings.nTable.parentNode;nWrapper.appendChild(nCalcTmp);if(oSettings.oScroll.sX!==""&&oSettings.oScroll.sXInner!=="")nCalcTmp.style.width=_fnStringToCss(oSettings.oScroll.sXInner);else if(oSettings.oScroll.sX!==""){nCalcTmp.style.width="";if($(nCalcTmp).width()<nWrapper.offsetWidth)nCalcTmp.style.width=_fnStringToCss(nWrapper.offsetWidth)}else if(oSettings.oScroll.sY!==
"")nCalcTmp.style.width=_fnStringToCss(nWrapper.offsetWidth);else if(widthAttr)nCalcTmp.style.width=_fnStringToCss(widthAttr);nCalcTmp.style.visibility="hidden";_fnScrollingWidthAdjust(oSettings,nCalcTmp);var oNodes=$("tbody tr:eq(0)",nCalcTmp).children();if(oNodes.length===0)oNodes=_fnGetUniqueThs(oSettings,$("thead",nCalcTmp)[0]);if(oSettings.oScroll.sX!==""){var iTotal=0;iCorrector=0;for(i=0;i<oSettings.aoColumns.length;i++)if(oSettings.aoColumns[i].bVisible){if(oSettings.aoColumns[i].sWidthOrig===
null)iTotal+=$(oNodes[iCorrector]).outerWidth();else iTotal+=parseInt(oSettings.aoColumns[i].sWidth.replace("px",""),10)+($(oNodes[iCorrector]).outerWidth()-$(oNodes[iCorrector]).width());iCorrector++}nCalcTmp.style.width=_fnStringToCss(iTotal);oSettings.nTable.style.width=_fnStringToCss(iTotal)}iCorrector=0;for(i=0;i<oSettings.aoColumns.length;i++)if(oSettings.aoColumns[i].bVisible){iWidth=$(oNodes[iCorrector]).width();if(iWidth!==null&&iWidth>0)oSettings.aoColumns[i].sWidth=_fnStringToCss(iWidth);
iCorrector++}var cssWidth=$(nCalcTmp).css("width");oSettings.nTable.style.width=cssWidth.indexOf("%")!==-1?cssWidth:_fnStringToCss($(nCalcTmp).outerWidth());nCalcTmp.parentNode.removeChild(nCalcTmp)}if(widthAttr)oSettings.nTable.style.width=_fnStringToCss(widthAttr)}function _fnScrollingWidthAdjust(oSettings,n){if(oSettings.oScroll.sX===""&&oSettings.oScroll.sY!==""){var iOrigWidth=$(n).width();n.style.width=_fnStringToCss($(n).outerWidth()-oSettings.oScroll.iBarWidth)}else if(oSettings.oScroll.sX!==
"")n.style.width=_fnStringToCss($(n).outerWidth())}function _fnGetWidestNode(oSettings,iCol){var iMaxIndex=_fnGetMaxLenString(oSettings,iCol);if(iMaxIndex<0)return null;if(oSettings.aoData[iMaxIndex].nTr===null){var n=document.createElement("td");n.innerHTML=_fnGetCellData(oSettings,iMaxIndex,iCol,"");return n}return _fnGetTdNodes(oSettings,iMaxIndex)[iCol]}function _fnGetMaxLenString(oSettings,iCol){var iMax=-1;var iMaxIndex=-1;for(var i=0;i<oSettings.aoData.length;i++){var s=_fnGetCellData(oSettings,
i,iCol,"display")+"";s=s.replace(/<.*?>/g,"");if(s.length>iMax){iMax=s.length;iMaxIndex=i}}return iMaxIndex}function _fnStringToCss(s){if(s===null)return"0px";if(typeof s=="number"){if(s<0)return"0px";return s+"px"}var c=s.charCodeAt(s.length-1);if(c<48||c>57)return s;return s+"px"}function _fnScrollBarWidth(){var inner=document.createElement("p");var style=inner.style;style.width="100%";style.height="200px";style.padding="0px";var outer=document.createElement("div");style=outer.style;style.position=
"absolute";style.top="0px";style.left="0px";style.visibility="hidden";style.width="200px";style.height="150px";style.padding="0px";style.overflow="hidden";outer.appendChild(inner);document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="scroll";var w2=inner.offsetWidth;if(w1==w2)w2=outer.clientWidth;document.body.removeChild(outer);return w1-w2}function _fnSort(oSettings,bApplyClasses){var i,iLen,j,jLen,k,kLen,sDataType,nTh,aaSort=[],aiOrig=[],oSort=DataTable.ext.oSort,aoData=
oSettings.aoData,aoColumns=oSettings.aoColumns,oAria=oSettings.oLanguage.oAria;if(!oSettings.oFeatures.bServerSide&&(oSettings.aaSorting.length!==0||oSettings.aaSortingFixed!==null)){aaSort=oSettings.aaSortingFixed!==null?oSettings.aaSortingFixed.concat(oSettings.aaSorting):oSettings.aaSorting.slice();for(i=0;i<aaSort.length;i++){var iColumn=aaSort[i][0];var iVisColumn=_fnColumnIndexToVisible(oSettings,iColumn);sDataType=oSettings.aoColumns[iColumn].sSortDataType;if(DataTable.ext.afnSortData[sDataType]){var aData=
DataTable.ext.afnSortData[sDataType].call(oSettings.oInstance,oSettings,iColumn,iVisColumn);if(aData.length===aoData.length)for(j=0,jLen=aoData.length;j<jLen;j++)_fnSetCellData(oSettings,j,iColumn,aData[j]);else _fnLog(oSettings,0,"Returned data sort array (col "+iColumn+") is the wrong length")}}for(i=0,iLen=oSettings.aiDisplayMaster.length;i<iLen;i++)aiOrig[oSettings.aiDisplayMaster[i]]=i;var iSortLen=aaSort.length;var fnSortFormat,aDataSort;for(i=0,iLen=aoData.length;i<iLen;i++)for(j=0;j<iSortLen;j++){aDataSort=
aoColumns[aaSort[j][0]].aDataSort;for(k=0,kLen=aDataSort.length;k<kLen;k++){sDataType=aoColumns[aDataSort[k]].sType;fnSortFormat=oSort[(sDataType?sDataType:"string")+"-pre"];aoData[i]._aSortData[aDataSort[k]]=fnSortFormat?fnSortFormat(_fnGetCellData(oSettings,i,aDataSort[k],"sort")):_fnGetCellData(oSettings,i,aDataSort[k],"sort")}}var aiRowIndex=[];for(i=0,iLen=oSettings.aiDisplayMaster.length;i<iLen;i++)aiRowIndex[i]=oSettings.aiDisplayMaster[i];var removed=false;for(i=0,iLen=oSettings.aiSortingSkipRows.length;i<
iLen;i++){var iaddRowIndex=aiRowIndex.indexOf(oSettings.aiSortingSkipRows[i]);if(iaddRowIndex!=-1){aiRowIndex.splice(iaddRowIndex,1);removed=true}}aiRowIndex.sort(function(a,b){var k,l,lLen,iTest,aDataSort,sDataType;for(k=0;k<iSortLen;k++){aDataSort=aoColumns[aaSort[k][0]].aDataSort;for(l=0,lLen=aDataSort.length;l<lLen;l++){sDataType=aoColumns[aDataSort[l]].sType;iTest=oSort[(sDataType?sDataType:"string")+"-"+aaSort[k][1]](aoData[a]._aSortData[aDataSort[l]],aoData[b]._aSortData[aDataSort[l]]);if(iTest!==
0)return iTest}}return oSort["numeric-asc"](aiOrig[a],aiOrig[b])});oSettings.aiDisplayMaster=[];for(i=0,iLen=aiRowIndex.length;i<iLen;i++)oSettings.aiDisplayMaster[i]=aiRowIndex[i];for(i=0,iLen=oSettings.aiSortingSkipRows.length;i<iLen;i++)if(removed)oSettings.aiDisplayMaster.splice(oSettings.aiSortingSkipRows[i],0,oSettings.aiSortingSkipRows[i])}if((bApplyClasses===undefined||bApplyClasses)&&!oSettings.oFeatures.bDeferRender)_fnSortingClasses(oSettings);for(i=0,iLen=oSettings.aoColumns.length;i<
iLen;i++){var sTitle=aoColumns[i].sTitle.replace(/<.*?>/g,"");nTh=aoColumns[i].nTh;nTh.removeAttribute("aria-sort");nTh.removeAttribute("aria-label");if(aoColumns[i].bSortable)if(aaSort.length>0&&aaSort[0][0]==i){nTh.setAttribute("aria-sort",aaSort[0][1]=="asc"?"ascending":"descending");var nextSort=aoColumns[i].asSorting[aaSort[0][2]+1]?aoColumns[i].asSorting[aaSort[0][2]+1]:aoColumns[i].asSorting[0];nTh.setAttribute("aria-label",sTitle+(nextSort=="asc"?oAria.sSortAscending:oAria.sSortDescending))}else nTh.setAttribute("aria-label",
sTitle+(aoColumns[i].asSorting[0]=="asc"?oAria.sSortAscending:oAria.sSortDescending));else nTh.setAttribute("aria-label",sTitle)}oSettings.bSorted=true;$(oSettings.oInstance).trigger("sort",oSettings);if(oSettings.oFeatures.bFilter)_fnFilterComplete(oSettings,oSettings.oPreviousSearch,1);else{oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings._iDisplayStart=0;_fnCalculateEnd(oSettings);_fnDraw(oSettings)}}function _fnSortAttachListener(oSettings,nNode,iDataIndex,fnCallback){_fnBindAction(nNode,
{},function(e){if(oSettings.aoColumns[iDataIndex].bSortable===false)return;var fnInnerSorting=function(){var iColumn,iNextSort;if(e.shiftKey){var bFound=false;for(var i=0;i<oSettings.aaSorting.length;i++)if(oSettings.aaSorting[i][0]==iDataIndex){bFound=true;iColumn=oSettings.aaSorting[i][0];iNextSort=oSettings.aaSorting[i][2]+1;if(!oSettings.aoColumns[iColumn].asSorting[iNextSort])oSettings.aaSorting.splice(i,1);else{oSettings.aaSorting[i][1]=oSettings.aoColumns[iColumn].asSorting[iNextSort];oSettings.aaSorting[i][2]=
iNextSort}break}if(bFound===false)oSettings.aaSorting.push([iDataIndex,oSettings.aoColumns[iDataIndex].asSorting[0],0])}else if(oSettings.aaSorting.length==1&&oSettings.aaSorting[0][0]==iDataIndex){iColumn=oSettings.aaSorting[0][0];iNextSort=oSettings.aaSorting[0][2]+1;if(!oSettings.aoColumns[iColumn].asSorting[iNextSort])iNextSort=0;oSettings.aaSorting[0][1]=oSettings.aoColumns[iColumn].asSorting[iNextSort];oSettings.aaSorting[0][2]=iNextSort}else{oSettings.aaSorting.splice(0,oSettings.aaSorting.length);
oSettings.aaSorting.push([iDataIndex,oSettings.aoColumns[iDataIndex].asSorting[0],0])}_fnSort(oSettings)};if(!oSettings.oFeatures.bProcessing)fnInnerSorting();else{_fnProcessingDisplay(oSettings,true);setTimeout(function(){fnInnerSorting();if(!oSettings.oFeatures.bServerSide)_fnProcessingDisplay(oSettings,false)},0)}if(typeof fnCallback=="function")fnCallback(oSettings)})}function _fnSortingClasses(oSettings){var i,iLen,j,jLen,iFound;var aaSort,sClass;var iColumns=oSettings.aoColumns.length;var oClasses=
oSettings.oClasses;for(i=0;i<iColumns;i++)if(oSettings.aoColumns[i].bSortable)$(oSettings.aoColumns[i].nTh).removeClass(oClasses.sSortAsc+" "+oClasses.sSortDesc+" "+oSettings.aoColumns[i].sSortingClass);if(oSettings.aaSortingFixed!==null)aaSort=oSettings.aaSortingFixed.concat(oSettings.aaSorting);else aaSort=oSettings.aaSorting.slice();for(i=0;i<oSettings.aoColumns.length;i++)if(oSettings.aoColumns[i].bSortable){sClass=oSettings.aoColumns[i].sSortingClass;iFound=-1;for(j=0;j<aaSort.length;j++)if(aaSort[j][0]==
i){sClass=aaSort[j][1]=="asc"?oClasses.sSortAsc:oClasses.sSortDesc;iFound=j;break}$(oSettings.aoColumns[i].nTh).addClass(sClass);if(oSettings.bJUI){var jqSpan=$("span."+oClasses.sSortIcon,oSettings.aoColumns[i].nTh);jqSpan.removeClass(oClasses.sSortJUIAsc+" "+oClasses.sSortJUIDesc+" "+oClasses.sSortJUI+" "+oClasses.sSortJUIAscAllowed+" "+oClasses.sSortJUIDescAllowed);var sSpanClass;if(iFound==-1)sSpanClass=oSettings.aoColumns[i].sSortingClassJUI;else if(aaSort[iFound][1]=="asc")sSpanClass=oClasses.sSortJUIAsc;
else sSpanClass=oClasses.sSortJUIDesc;jqSpan.addClass(sSpanClass)}}else $(oSettings.aoColumns[i].nTh).addClass(oSettings.aoColumns[i].sSortingClass);sClass=oClasses.sSortColumn;if(oSettings.oFeatures.bSort&&oSettings.oFeatures.bSortClasses){var nTds=_fnGetTdNodes(oSettings);if(oSettings.oFeatures.bDeferRender)$(nTds).removeClass(sClass+"1 "+sClass+"2 "+sClass+"3");else if(nTds.length>=iColumns)for(i=0;i<iColumns;i++)if(nTds[i].className.indexOf(sClass+"1")!=-1)for(j=0,jLen=nTds.length/iColumns;j<
jLen;j++)nTds[iColumns*j+i].className=$.trim(nTds[iColumns*j+i].className.replace(sClass+"1",""));else if(nTds[i].className.indexOf(sClass+"2")!=-1)for(j=0,jLen=nTds.length/iColumns;j<jLen;j++)nTds[iColumns*j+i].className=$.trim(nTds[iColumns*j+i].className.replace(sClass+"2",""));else if(nTds[i].className.indexOf(sClass+"3")!=-1)for(j=0,jLen=nTds.length/iColumns;j<jLen;j++)nTds[iColumns*j+i].className=$.trim(nTds[iColumns*j+i].className.replace(" "+sClass+"3",""));var iClass=1,iTargetCol;for(i=0;i<
aaSort.length;i++){iTargetCol=parseInt(aaSort[i][0],10);for(j=0,jLen=nTds.length/iColumns;j<jLen;j++)nTds[iColumns*j+iTargetCol].className+=" "+sClass+iClass;if(iClass<3)iClass++}}}function _fnSaveState(oSettings){if(!oSettings.oFeatures.bStateSave||oSettings.bDestroying)return;var i,iLen,bInfinite=oSettings.oScroll.bInfinite;var oState={"iCreate":(new Date).getTime(),"iStart":bInfinite?0:oSettings._iDisplayStart,"iEnd":bInfinite?oSettings._iDisplayLength:oSettings._iDisplayEnd,"iLength":oSettings._iDisplayLength,
"aaSorting":$.extend(true,[],oSettings.aaSorting),"oSearch":$.extend(true,{},oSettings.oPreviousSearch),"aoSearchCols":$.extend(true,[],oSettings.aoPreSearchCols),"abVisCols":[]};for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++)oState.abVisCols.push(oSettings.aoColumns[i].bVisible);_fnCallbackFire(oSettings,"aoStateSaveParams","stateSaveParams",[oSettings,oState]);oSettings.fnStateSave.call(oSettings.oInstance,oSettings,oState)}function _fnLoadState(oSettings,oInit){if(!oSettings.oFeatures.bStateSave)return;
var oData=oSettings.fnStateLoad.call(oSettings.oInstance,oSettings);if(!oData)return;var abStateLoad=_fnCallbackFire(oSettings,"aoStateLoadParams","stateLoadParams",[oSettings,oData]);if($.inArray(false,abStateLoad)!==-1)return;oSettings.oLoadedState=$.extend(true,{},oData);oSettings._iDisplayStart=oData.iStart;oSettings.iInitDisplayStart=oData.iStart;oSettings._iDisplayEnd=oData.iEnd;oSettings._iDisplayLength=oData.iLength;oSettings.aaSorting=oData.aaSorting.slice();oSettings.saved_aaSorting=oData.aaSorting.slice();
$.extend(oSettings.oPreviousSearch,oData.oSearch);$.extend(true,oSettings.aoPreSearchCols,oData.aoSearchCols);oInit.saved_aoColumns=[];for(var i=0;i<oData.abVisCols.length;i++){oInit.saved_aoColumns[i]={};oInit.saved_aoColumns[i].bVisible=oData.abVisCols[i]}_fnCallbackFire(oSettings,"aoStateLoaded","stateLoaded",[oSettings,oData])}function _fnCreateCookie(sName,sValue,iSecs,sBaseName,fnCallback){var date=new Date;date.setTime(date.getTime()+iSecs*1E3);var aParts=window.location.pathname.split("/");
var sNameFile=sName+"_"+aParts.pop().replace(/[\/:]/g,"").toLowerCase();var sFullCookie,oData;if(fnCallback!==null){oData=typeof $.parseJSON==="function"?$.parseJSON(sValue):eval("("+sValue+")");sFullCookie=fnCallback(sNameFile,oData,date.toGMTString(),aParts.join("/")+"/")}else sFullCookie=sNameFile+"\x3d"+encodeURIComponent(sValue)+"; expires\x3d"+date.toGMTString()+"; path\x3d"+aParts.join("/")+"/";var sOldName="",iOldTime=9999999999999;var iLength=_fnReadCookie(sNameFile)!==null?document.cookie.length:
sFullCookie.length+document.cookie.length;if(iLength+10>4096){var aCookies=document.cookie.split(";");for(var i=0,iLen=aCookies.length;i<iLen;i++)if(aCookies[i].indexOf(sBaseName)!=-1){var aSplitCookie=aCookies[i].split("\x3d");try{oData=eval("("+decodeURIComponent(aSplitCookie[1])+")")}catch(e){continue}if(oData.iCreate&&oData.iCreate<iOldTime){sOldName=aSplitCookie[0];iOldTime=oData.iCreate}}if(sOldName!=="")document.cookie=sOldName+"\x3d; expires\x3dThu, 01-Jan-1970 00:00:01 GMT; path\x3d"+aParts.join("/")+
"/"}document.cookie=sFullCookie}function _fnReadCookie(sName){var aParts=window.location.pathname.split("/"),sNameEQ=sName+"_"+aParts[aParts.length-1].replace(/[\/:]/g,"").toLowerCase()+"\x3d",sCookieContents=document.cookie.split(";");for(var i=0;i<sCookieContents.length;i++){var c=sCookieContents[i];while(c.charAt(0)==" ")c=c.substring(1,c.length);if(c.indexOf(sNameEQ)===0)return decodeURIComponent(c.substring(sNameEQ.length,c.length))}return null}function _fnSettingsFromNode(nTable){for(var i=
0;i<DataTable.settings.length;i++)if(DataTable.settings[i].nTable===nTable)return DataTable.settings[i];return null}function _fnGetTrNodes(oSettings){var aNodes=[];var aoData=oSettings.aoData;for(var i=0,iLen=aoData.length;i<iLen;i++)if(aoData[i].nTr!==null)aNodes.push(aoData[i].nTr);return aNodes}function _fnGetTdNodes(oSettings,iIndividualRow){var anReturn=[];var iCorrector;var anTds;var iRow,iRows=oSettings.aoData.length,iColumn,iColumns,oData,sNodeName,iStart=0,iEnd=iRows;if(iIndividualRow!==
undefined){iStart=iIndividualRow;iEnd=iIndividualRow+1}for(iRow=iStart;iRow<iEnd;iRow++){oData=oSettings.aoData[iRow];if(oData.nTr!==null){anTds=[];for(iColumn=0,iColumns=oData.nTr.childNodes.length;iColumn<iColumns;iColumn++){sNodeName=oData.nTr.childNodes[iColumn].nodeName.toLowerCase();if(sNodeName=="td"||sNodeName=="th")anTds.push(oData.nTr.childNodes[iColumn])}iCorrector=0;for(iColumn=0,iColumns=oSettings.aoColumns.length;iColumn<iColumns;iColumn++)if(oSettings.aoColumns[iColumn].bVisible)anReturn.push(anTds[iColumn-
iCorrector]);else{anReturn.push(oData._anHidden[iColumn]);iCorrector++}}}return anReturn}function _fnLog(oSettings,iLevel,sMesg){var sAlert=oSettings===null?"DataTables warning: "+sMesg:"DataTables warning (table id \x3d '"+oSettings.sTableId+"'): "+sMesg;if(iLevel===0){if(DataTable.ext.sErrMode=="alert")alert(sAlert);else throw new Error(sAlert);return}else if(window.console&&console.log)console.log(sAlert)}function _fnMap(oRet,oSrc,sName,sMappedName){if(sMappedName===undefined)sMappedName=sName;
if(oSrc[sName]!==undefined)oRet[sMappedName]=oSrc[sName]}function _fnExtend(oOut,oExtender){for(var prop in oExtender)if(oExtender.hasOwnProperty(prop))if(typeof oInit[prop]==="object"&&$.isArray(oExtender[prop])===false)$.extend(true,oOut[prop],oExtender[prop]);else oOut[prop]=oExtender[prop];return oOut}function _fnBindAction(n,oData,fn){$(n).bind("click.DT",oData,function(e){n.blur();fn(e)}).bind("keypress.DT",oData,function(e){if(e.which===13)fn(e)}).bind("selectstart.DT",function(){return false})}
function _fnCallbackReg(oSettings,sStore,fn,sName){if(fn)oSettings[sStore].push({"fn":fn,"sName":sName})}function _fnCallbackFire(oSettings,sStore,sTrigger,aArgs){var aoStore=oSettings[sStore];var aRet=[];for(var i=aoStore.length-1;i>=0;i--)aRet.push(aoStore[i].fn.apply(oSettings.oInstance,aArgs));if(sTrigger!==null)$(oSettings.oInstance).trigger(sTrigger,aArgs);return aRet}var _fnJsonString=window.JSON?JSON.stringify:function(o){var sType=typeof o;if(sType!=="object"||o===null){if(sType==="string")o=
'"'+o+'"';return o+""}var sProp,mValue,json=[],bArr=$.isArray(o);for(sProp in o){mValue=o[sProp];sType=typeof mValue;if(sType==="string")mValue='"'+mValue+'"';else if(sType==="object"&&mValue!==null)mValue=_fnJsonString(mValue);json.push((bArr?"":'"'+sProp+'":')+mValue)}return(bArr?"[":"{")+json+(bArr?"]":"}")};this.$=function(sSelector,oOpts){var i,iLen,a=[],tr;var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var aoData=oSettings.aoData;var aiDisplay=oSettings.aiDisplay;var aiDisplayMaster=
oSettings.aiDisplayMaster;if(!oOpts)oOpts={};oOpts=$.extend({},{"filter":"none","order":"current","page":"all"},oOpts);if(oOpts.page=="current")for(i=oSettings._iDisplayStart,iLen=oSettings.fnDisplayEnd();i<iLen;i++){tr=aoData[aiDisplay[i]].nTr;if(tr)a.push(tr)}else if(oOpts.order=="current"&&oOpts.filter=="none")for(i=0,iLen=aiDisplayMaster.length;i<iLen;i++){tr=aoData[aiDisplayMaster[i]].nTr;if(tr)a.push(tr)}else if(oOpts.order=="current"&&oOpts.filter=="applied")for(i=0,iLen=aiDisplay.length;i<
iLen;i++){tr=aoData[aiDisplay[i]].nTr;if(tr)a.push(tr)}else if(oOpts.order=="original"&&oOpts.filter=="none")for(i=0,iLen=aoData.length;i<iLen;i++){tr=aoData[i].nTr;if(tr)a.push(tr)}else if(oOpts.order=="original"&&oOpts.filter=="applied")for(i=0,iLen=aoData.length;i<iLen;i++){tr=aoData[i].nTr;if($.inArray(i,aiDisplay)!==-1&&tr)a.push(tr)}else _fnLog(oSettings,1,"Unknown selection options");var jqA=$(a);var jqTRs=jqA.filter(sSelector);var jqDescendants=jqA.find(sSelector);return $([].concat($.makeArray(jqTRs),
$.makeArray(jqDescendants)))};this._=function(sSelector,oOpts){var aOut=[];var i,iLen,iIndex;var aTrs=this.$(sSelector,oOpts);for(i=0,iLen=aTrs.length;i<iLen;i++)aOut.push(this.fnGetData(aTrs[i]));return aOut};this.fnAddData=function(mData,bRedraw){if(mData.length===0)return[];var aiReturn=[];var iTest;var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(typeof mData[0]==="object"&&mData[0]!==null)for(var i=0;i<mData.length;i++){iTest=_fnAddData(oSettings,mData[i]);if(iTest==-1)return aiReturn;
aiReturn.push(iTest)}else{iTest=_fnAddData(oSettings,mData);if(iTest==-1)return aiReturn;aiReturn.push(iTest)}oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();if(bRedraw===undefined||bRedraw)_fnReDraw(oSettings);return aiReturn};this.fnAdjustColumnSizing=function(bRedraw){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(oSettings!=null){_fnAdjustColumnSizing(oSettings);if(bRedraw===undefined||bRedraw)this.fnDraw(false);else if(oSettings.oScroll.sX!==""||oSettings.oScroll.sY!==
"")this.oApi._fnScrollDraw(oSettings)}};this.fnClearTable=function(bRedraw){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnClearTable(oSettings);if(bRedraw===undefined||bRedraw)_fnDraw(oSettings)};this.fnClose=function(nTr){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);for(var i=0;i<oSettings.aoOpenRows.length;i++)if(oSettings.aoOpenRows[i].nParent==nTr){var nTrParent=oSettings.aoOpenRows[i].nTr.parentNode;if(nTrParent)nTrParent.removeChild(oSettings.aoOpenRows[i].nTr);
oSettings.aoOpenRows.splice(i,1);return 0}return 1};this.fnDeleteRow=function(mTarget,fnCallBack,bRedraw){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var i,iLen,iAODataIndex;iAODataIndex=typeof mTarget==="object"?_fnNodeToDataIndex(oSettings,mTarget):mTarget;var oData=oSettings.aoData.splice(iAODataIndex,1);for(i=0,iLen=oSettings.aoData.length;i<iLen;i++)if(oSettings.aoData[i].nTr!==null)oSettings.aoData[i].nTr._DT_RowIndex=i;var iDisplayIndex=$.inArray(iAODataIndex,oSettings.aiDisplay);
oSettings.asDataSearch.splice(iDisplayIndex,1);_fnDeleteIndex(oSettings.aiDisplayMaster,iAODataIndex);_fnDeleteIndex(oSettings.aiDisplay,iAODataIndex);if(typeof fnCallBack==="function")fnCallBack.call(this,oSettings,oData);if(oSettings._iDisplayStart>=oSettings.fnRecordsDisplay()){oSettings._iDisplayStart-=oSettings._iDisplayLength;if(oSettings._iDisplayStart<0)oSettings._iDisplayStart=0}if(bRedraw===undefined||bRedraw){_fnCalculateEnd(oSettings);_fnDraw(oSettings)}return oData};this.fnDestroy=function(bRemove){var oSettings=
_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var nOrig=oSettings.nTableWrapper.parentNode;var nBody=oSettings.nTBody;var i,iLen;bRemove=bRemove===undefined?false:true;oSettings.bDestroying=true;_fnCallbackFire(oSettings,"aoDestroyCallback","destroy",[oSettings]);for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++)if(oSettings.aoColumns[i].bVisible===false)this.fnSetColumnVis(i,true);$(oSettings.nTableWrapper).find("*").andSelf().unbind(".DT");$("tbody\x3etr\x3etd."+oSettings.oClasses.sRowEmpty,
oSettings.nTable).parent().remove();if(oSettings.nTable!=oSettings.nTHead.parentNode){$(oSettings.nTable).children("thead").remove();oSettings.nTable.appendChild(oSettings.nTHead)}if(oSettings.nTFoot&&oSettings.nTable!=oSettings.nTFoot.parentNode){$(oSettings.nTable).children("tfoot").remove();oSettings.nTable.appendChild(oSettings.nTFoot)}oSettings.nTable.parentNode.removeChild(oSettings.nTable);$(oSettings.nTableWrapper).remove();oSettings.aaSorting=[];oSettings.aaSortingFixed=[];_fnSortingClasses(oSettings);
$(_fnGetTrNodes(oSettings)).removeClass(oSettings.asStripeClasses.join(" "));$("th, td",oSettings.nTHead).removeClass([oSettings.oClasses.sSortable,oSettings.oClasses.sSortableAsc,oSettings.oClasses.sSortableDesc,oSettings.oClasses.sSortableNone].join(" "));if(oSettings.bJUI){$("th span."+oSettings.oClasses.sSortIcon+", td span."+oSettings.oClasses.sSortIcon,oSettings.nTHead).remove();$("th, td",oSettings.nTHead).each(function(){var jqWrapper=$("div."+oSettings.oClasses.sSortJUIWrapper,this);var kids=
jqWrapper.contents();$(this).append(kids);jqWrapper.remove()})}if(!bRemove&&oSettings.nTableReinsertBefore)nOrig.insertBefore(oSettings.nTable,oSettings.nTableReinsertBefore);else if(!bRemove)nOrig.appendChild(oSettings.nTable);for(i=0,iLen=oSettings.aoData.length;i<iLen;i++)if(oSettings.aoData[i].nTr!==null)nBody.appendChild(oSettings.aoData[i].nTr);if(oSettings.oFeatures.bAutoWidth===true)oSettings.nTable.style.width=_fnStringToCss(oSettings.sDestroyWidth);$(nBody).children("tr:even").addClass(oSettings.asDestroyStripes[0]);
$(nBody).children("tr:odd").addClass(oSettings.asDestroyStripes[1]);for(i=0,iLen=DataTable.settings.length;i<iLen;i++)if(DataTable.settings[i]==oSettings)DataTable.settings.splice(i,1);oSettings=null};this.fnDraw=function(bComplete){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(bComplete===false){_fnCalculateEnd(oSettings);_fnDraw(oSettings)}else _fnReDraw(oSettings)};this.fnGetSettings=function(){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);return oSettings};
this.fnFilter=function(sInput,iColumn,bRegex,bSmart,bShowGlobal,bCaseInsensitive){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(!oSettings.oFeatures.bFilter)return;if(bRegex===undefined||bRegex===null)bRegex=false;if(bSmart===undefined||bSmart===null)bSmart=true;if(bShowGlobal===undefined||bShowGlobal===null)bShowGlobal=true;if(bCaseInsensitive===undefined||bCaseInsensitive===null)bCaseInsensitive=true;if(iColumn===undefined||iColumn===null){_fnFilterComplete(oSettings,{"sSearch":sInput+
"","bRegex":bRegex,"bSmart":bSmart,"bCaseInsensitive":bCaseInsensitive},1);if(bShowGlobal&&oSettings.aanFeatures.f){var n=oSettings.aanFeatures.f;for(var i=0,iLen=n.length;i<iLen;i++)$(n[i]._DT_Input).val(sInput)}}else{$.extend(oSettings.aoPreSearchCols[iColumn],{"sSearch":sInput+"","bRegex":bRegex,"bSmart":bSmart,"bCaseInsensitive":bCaseInsensitive});_fnFilterComplete(oSettings,oSettings.oPreviousSearch,1)}};this.fnGetData=function(mRow,iCol){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);
if(mRow!==undefined){var iRow=mRow;if(typeof mRow==="object"){var sNode=mRow.nodeName.toLowerCase();if(sNode==="tr")iRow=_fnNodeToDataIndex(oSettings,mRow);else if(sNode==="td"){iRow=_fnNodeToDataIndex(oSettings,mRow.parentNode);iCol=_fnNodeToColumnIndex(oSettings,iRow,mRow)}}if(iCol!==undefined)return _fnGetCellData(oSettings,iRow,iCol,"");return oSettings.aoData[iRow]!==undefined?oSettings.aoData[iRow]._aData:null}return _fnGetDataMaster(oSettings)};this.fnGetNodes=function(iRow){var oSettings=
_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(iRow!==undefined)return oSettings.aoData[iRow]!==undefined?oSettings.aoData[iRow].nTr:null;return _fnGetTrNodes(oSettings)};this.fnGetPosition=function(nNode){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var sNodeName=nNode.nodeName.toUpperCase();if(sNodeName=="TR")return _fnNodeToDataIndex(oSettings,nNode);else if(sNodeName=="TD"||sNodeName=="TH"){var iDataIndex=_fnNodeToDataIndex(oSettings,nNode.parentNode);var iColumnIndex=
_fnNodeToColumnIndex(oSettings,iDataIndex,nNode);return[iDataIndex,_fnColumnIndexToVisible(oSettings,iColumnIndex),iColumnIndex]}return null};this.fnIsOpen=function(nTr){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var aoOpenRows=oSettings.aoOpenRows;for(var i=0;i<oSettings.aoOpenRows.length;i++)if(oSettings.aoOpenRows[i].nParent==nTr)return true;return false};this.fnOpen=function(nTr,mHtml,sClass){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var nTableRows=
_fnGetTrNodes(oSettings);if($.inArray(nTr,nTableRows)===-1)return;this.fnClose(nTr);var nNewRow=document.createElement("tr");var nNewCell=document.createElement("td");nNewRow.appendChild(nNewCell);nNewCell.className=sClass;nNewCell.colSpan=_fnVisbleColumns(oSettings);if(typeof mHtml==="string")nNewCell.innerHTML=mHtml;else $(nNewCell).html(mHtml);var nTrs=$("tr",oSettings.nTBody);if($.inArray(nTr,nTrs)!=-1)$(nNewRow).insertAfter(nTr);oSettings.aoOpenRows.push({"nTr":nNewRow,"nParent":nTr});return nNewRow};
this.fnCallFooterCallback=function(){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnCallbackFire(oSettings,"aoFooterCallback","footer",[$(oSettings.nTFoot).children("tr")[0],_fnGetDataMaster(oSettings),oSettings._iDisplayStart,oSettings.fnDisplayEnd(),oSettings.aiDisplay])};this.fnOpenCustom=function(nTr,jqObject,sClass){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var nTableRows=_fnGetTrNodes(oSettings);if($.inArray(nTr,nTableRows)===-1)return;this.fnClose(nTr);
var nNewRow=document.createElement("tr");var nNewCell=document.createElement("td");nNewRow.appendChild(nNewCell);nNewCell.className=sClass;nNewRow.className="detailsRow";nNewCell.colSpan=_fnVisbleColumns(oSettings);jQuery(nNewCell).append(jqObject.detach());var nTrs=$("tr",oSettings.nTBody);if($.inArray(nTr,nTrs)!=-1)$(nNewRow).insertAfter(nTr);oSettings.aoOpenRows.push({"nTr":nNewRow,"nParent":nTr});return nNewRow};this.fnPageChange=function(mAction,bRedraw){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);
_fnPageChange(oSettings,mAction);_fnCalculateEnd(oSettings);if(bRedraw===undefined||bRedraw)_fnDraw(oSettings)};this.fnSetColumnVis=function(iCol,bShow,bRedraw){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var i,iLen;var aoColumns=oSettings.aoColumns;var aoData=oSettings.aoData;var nTd,bAppend,iBefore;if(aoColumns[iCol].bVisible==bShow)return;if(bShow){var iInsert=0;for(i=0;i<iCol;i++)if(aoColumns[i].bVisible)iInsert++;bAppend=iInsert>=_fnVisbleColumns(oSettings);if(!bAppend)for(i=
iCol;i<aoColumns.length;i++)if(aoColumns[i].bVisible){iBefore=i;break}for(i=0,iLen=aoData.length;i<iLen;i++)if(aoData[i].nTr!==null)if(bAppend)aoData[i].nTr.appendChild(aoData[i]._anHidden[iCol]);else aoData[i].nTr.insertBefore(aoData[i]._anHidden[iCol],_fnGetTdNodes(oSettings,i)[iBefore])}else for(i=0,iLen=aoData.length;i<iLen;i++)if(aoData[i].nTr!==null){nTd=_fnGetTdNodes(oSettings,i)[iCol];aoData[i]._anHidden[iCol]=nTd;nTd.parentNode.removeChild(nTd)}aoColumns[iCol].bVisible=bShow;_fnDrawHead(oSettings,
oSettings.aoHeader);if(oSettings.nTFoot)_fnDrawHead(oSettings,oSettings.aoFooter);for(i=0,iLen=oSettings.aoOpenRows.length;i<iLen;i++)oSettings.aoOpenRows[i].nTr.colSpan=_fnVisbleColumns(oSettings);if(bRedraw===undefined||bRedraw){_fnAdjustColumnSizing(oSettings);_fnDraw(oSettings)}_fnSaveState(oSettings)};this.fnSettings=function(){return _fnSettingsFromNode(this[DataTable.ext.iApiIndex])};this.fnSort=function(aaSort){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);oSettings.aaSorting=
aaSort;_fnSort(oSettings)};this.fnSortListener=function(nNode,iColumn,fnCallback){_fnSortAttachListener(_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),nNode,iColumn,fnCallback)};this.fnUpdate=function(mData,mRow,iColumn,bRedraw,bAction){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var i,iLen,sDisplay;var iRow=typeof mRow==="object"?_fnNodeToDataIndex(oSettings,mRow):mRow;if(oSettings.__fnUpdateDeep===undefined&&$.isArray(mData)&&typeof mData==="object"){oSettings.aoData[iRow]._aData=
mData.slice();oSettings.__fnUpdateDeep=true;for(i=0;i<oSettings.aoColumns.length;i++)this.fnUpdate(_fnGetCellData(oSettings,iRow,i),iRow,i,false,false);oSettings.__fnUpdateDeep=undefined}else if(oSettings.__fnUpdateDeep===undefined&&mData!==null&&typeof mData==="object"&&iColumn==null){oSettings.aoData[iRow]._aData=$.extend(true,{},mData);oSettings.__fnUpdateDeep=true;for(i=0;i<oSettings.aoColumns.length;i++)this.fnUpdate(_fnGetCellData(oSettings,iRow,i),iRow,i,false,false);oSettings.__fnUpdateDeep=
undefined}else{_fnSetCellData(oSettings,iRow,iColumn,mData);sDisplay=_fnGetCellData(oSettings,iRow,iColumn,"display");var oCol=oSettings.aoColumns[iColumn];if(oCol.fnRender!==null){sDisplay=_fnRender(oSettings,iRow,iColumn);if(oCol.bUseRendered)_fnSetCellData(oSettings,iRow,iColumn,sDisplay)}if((bRedraw||bRedraw===undefined)&&oSettings.aoData[iRow].nTr!==null)jQuery(_fnGetTdNodes(oSettings,iRow)[iColumn]).append(sDisplay)}var iDisplayIndex=$.inArray(iRow,oSettings.aiDisplay);oSettings.asDataSearch[iDisplayIndex]=
_fnBuildSearchRow(oSettings,_fnGetRowData(oSettings,iRow,"filter"));if(bAction===undefined||bAction)_fnAdjustColumnSizing(oSettings);if(bRedraw===undefined||bRedraw)_fnReDraw(oSettings);return 0};this.fnVersionCheck=DataTable.ext.fnVersionCheck;function _fnExternApiFunc(sFunc){return function(){var aArgs=[_fnSettingsFromNode(this[DataTable.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return DataTable.ext.oApi[sFunc].apply(this,aArgs)}}this.oApi={"_fnExternApiFunc":_fnExternApiFunc,
"_fnInitialise":_fnInitialise,"_fnInitComplete":_fnInitComplete,"_fnLanguageCompat":_fnLanguageCompat,"_fnAddColumn":_fnAddColumn,"_fnColumnOptions":_fnColumnOptions,"_fnAddData":_fnAddData,"_fnCreateTr":_fnCreateTr,"_fnGatherData":_fnGatherData,"_fnBuildHead":_fnBuildHead,"_fnDrawHead":_fnDrawHead,"_fnDraw":_fnDraw,"_fnReDraw":_fnReDraw,"_fnAjaxUpdate":_fnAjaxUpdate,"_fnAjaxParameters":_fnAjaxParameters,"_fnAjaxUpdateDraw":_fnAjaxUpdateDraw,"_fnServerParams":_fnServerParams,"_fnAddOptionsHtml":_fnAddOptionsHtml,
"_fnFeatureHtmlTable":_fnFeatureHtmlTable,"_fnScrollDraw":_fnScrollDraw,"_fnAdjustColumnSizing":_fnAdjustColumnSizing,"_fnFeatureHtmlFilter":_fnFeatureHtmlFilter,"_fnFilterComplete":_fnFilterComplete,"_fnFilterCustom":_fnFilterCustom,"_fnFilterColumn":_fnFilterColumn,"_fnFilter":_fnFilter,"_fnBuildSearchArray":_fnBuildSearchArray,"_fnBuildSearchRow":_fnBuildSearchRow,"_fnFilterCreateSearch":_fnFilterCreateSearch,"_fnDataToSearch":_fnDataToSearch,"_fnSort":_fnSort,"_fnSortAttachListener":_fnSortAttachListener,
"_fnSortingClasses":_fnSortingClasses,"_fnFeatureHtmlPaginate":_fnFeatureHtmlPaginate,"_fnPageChange":_fnPageChange,"_fnFeatureHtmlInfo":_fnFeatureHtmlInfo,"_fnUpdateInfo":_fnUpdateInfo,"_fnFeatureHtmlLength":_fnFeatureHtmlLength,"_fnFeatureHtmlProcessing":_fnFeatureHtmlProcessing,"_fnProcessingDisplay":_fnProcessingDisplay,"_fnVisibleToColumnIndex":_fnVisibleToColumnIndex,"_fnColumnIndexToVisible":_fnColumnIndexToVisible,"_fnNodeToDataIndex":_fnNodeToDataIndex,"_fnVisbleColumns":_fnVisbleColumns,
"_fnCalculateEnd":_fnCalculateEnd,"_fnConvertToWidth":_fnConvertToWidth,"_fnCalculateColumnWidths":_fnCalculateColumnWidths,"_fnScrollingWidthAdjust":_fnScrollingWidthAdjust,"_fnGetWidestNode":_fnGetWidestNode,"_fnGetMaxLenString":_fnGetMaxLenString,"_fnStringToCss":_fnStringToCss,"_fnDetectType":_fnDetectType,"_fnSettingsFromNode":_fnSettingsFromNode,"_fnGetDataMaster":_fnGetDataMaster,"_fnGetTrNodes":_fnGetTrNodes,"_fnGetTdNodes":_fnGetTdNodes,"_fnEscapeRegex":_fnEscapeRegex,"_fnDeleteIndex":_fnDeleteIndex,
"_fnReOrderIndex":_fnReOrderIndex,"_fnColumnOrdering":_fnColumnOrdering,"_fnLog":_fnLog,"_fnClearTable":_fnClearTable,"_fnSaveState":_fnSaveState,"_fnLoadState":_fnLoadState,"_fnCreateCookie":_fnCreateCookie,"_fnReadCookie":_fnReadCookie,"_fnDetectHeader":_fnDetectHeader,"_fnGetUniqueThs":_fnGetUniqueThs,"_fnScrollBarWidth":_fnScrollBarWidth,"_fnApplyToChildren":_fnApplyToChildren,"_fnMap":_fnMap,"_fnGetRowData":_fnGetRowData,"_fnGetCellData":_fnGetCellData,"_fnSetCellData":_fnSetCellData,"_fnGetObjectDataFn":_fnGetObjectDataFn,
"_fnSetObjectDataFn":_fnSetObjectDataFn,"_fnApplyColumnDefs":_fnApplyColumnDefs,"_fnBindAction":_fnBindAction,"_fnExtend":_fnExtend,"_fnCallbackReg":_fnCallbackReg,"_fnCallbackFire":_fnCallbackFire,"_fnJsonString":_fnJsonString,"_fnRender":_fnRender,"_fnNodeToColumnIndex":_fnNodeToColumnIndex,"_fnInfoMacros":_fnInfoMacros};$.extend(DataTable.ext.oApi,this.oApi);for(var sFunc in DataTable.ext.oApi)if(sFunc)this[sFunc]=_fnExternApiFunc(sFunc);var _that=this;return this.each(function(){var i=0,iLen,
j,jLen,k,kLen;var sId=this.getAttribute("id");var bInitHandedOff=false;var bUsePassedData=false;if(this.nodeName.toLowerCase()!="table"){_fnLog(null,0,"Attempted to initialise DataTables on a node which is not a "+"table: "+this.nodeName);return}for(i=0,iLen=DataTable.settings.length;i<iLen;i++){if(DataTable.settings[i].nTable==this)if(oInit===undefined||oInit.bRetrieve)return DataTable.settings[i].oInstance;else if(oInit.bDestroy){DataTable.settings[i].oInstance.fnDestroy();break}else{_fnLog(DataTable.settings[i],
0,"Cannot reinitialise DataTable.\n\n"+"To retrieve the DataTables object for this table, pass no arguments or see "+"the docs for bRetrieve and bDestroy");return}if(DataTable.settings[i].sTableId==this.id){DataTable.settings.splice(i,1);break}}if(sId===null||sId===""){sId="DataTables_Table_"+DataTable.ext._oExternConfig.iNextUnique++;this.id=sId}var oSettings=$.extend(true,{},DataTable.models.oSettings,{"nTable":this,"oApi":_that.oApi,"oInit":oInit,"sDestroyWidth":$(this).width(),"sInstance":sId,
"sTableId":sId});DataTable.settings.push(oSettings);oSettings.oInstance=_that.length===1?_that:$(this).dataTable();if(!oInit)oInit={};if(oInit.oLanguage)_fnLanguageCompat(oInit.oLanguage);oInit=_fnExtend($.extend(true,{},DataTable.defaults),oInit);_fnMap(oSettings.oFeatures,oInit,"bPaginate");_fnMap(oSettings.oFeatures,oInit,"bLengthChange");_fnMap(oSettings.oFeatures,oInit,"bFilter");_fnMap(oSettings.oFeatures,oInit,"bSort");_fnMap(oSettings.oFeatures,oInit,"bInfo");_fnMap(oSettings.oFeatures,oInit,
"bProcessing");_fnMap(oSettings.oFeatures,oInit,"bAutoWidth");_fnMap(oSettings.oFeatures,oInit,"bSortClasses");_fnMap(oSettings.oFeatures,oInit,"bServerSide");_fnMap(oSettings.oFeatures,oInit,"bDeferRender");_fnMap(oSettings.oScroll,oInit,"sScrollX","sX");_fnMap(oSettings.oScroll,oInit,"sScrollXInner","sXInner");_fnMap(oSettings.oScroll,oInit,"sScrollY","sY");_fnMap(oSettings.oScroll,oInit,"bScrollCollapse","bCollapse");_fnMap(oSettings.oScroll,oInit,"bScrollInfinite","bInfinite");_fnMap(oSettings.oScroll,
oInit,"iScrollLoadGap","iLoadGap");_fnMap(oSettings.oScroll,oInit,"bScrollAutoCss","bAutoCss");_fnMap(oSettings,oInit,"asStripeClasses");_fnMap(oSettings,oInit,"asStripClasses","asStripeClasses");_fnMap(oSettings,oInit,"fnServerData");_fnMap(oSettings,oInit,"fnFormatNumber");_fnMap(oSettings,oInit,"sServerMethod");_fnMap(oSettings,oInit,"aaSorting");_fnMap(oSettings,oInit,"aaSortingFixed");_fnMap(oSettings,oInit,"aLengthMenu");_fnMap(oSettings,oInit,"sPaginationType");_fnMap(oSettings,oInit,"sAjaxSource");
_fnMap(oSettings,oInit,"sAjaxDataProp");_fnMap(oSettings,oInit,"iCookieDuration");_fnMap(oSettings,oInit,"sCookiePrefix");_fnMap(oSettings,oInit,"sDom");_fnMap(oSettings,oInit,"bSortCellsTop");_fnMap(oSettings,oInit,"iTabIndex");_fnMap(oSettings,oInit,"oSearch","oPreviousSearch");_fnMap(oSettings,oInit,"aoSearchCols","aoPreSearchCols");_fnMap(oSettings,oInit,"iDisplayLength","_iDisplayLength");_fnMap(oSettings,oInit,"bJQueryUI","bJUI");_fnMap(oSettings,oInit,"fnCookieCallback");_fnMap(oSettings,oInit,
"fnStateLoad");_fnMap(oSettings,oInit,"fnStateSave");_fnMap(oSettings.oLanguage,oInit,"fnInfoCallback");_fnMap(oSettings,oInit,"aiSortingSkipRows");_fnCallbackReg(oSettings,"aoDrawCallback",oInit.fnDrawCallback,"user");_fnCallbackReg(oSettings,"aoServerParams",oInit.fnServerParams,"user");_fnCallbackReg(oSettings,"aoStateSaveParams",oInit.fnStateSaveParams,"user");_fnCallbackReg(oSettings,"aoStateLoadParams",oInit.fnStateLoadParams,"user");_fnCallbackReg(oSettings,"aoStateLoaded",oInit.fnStateLoaded,
"user");_fnCallbackReg(oSettings,"aoRowCallback",oInit.fnRowCallback,"user");_fnCallbackReg(oSettings,"aoRowCreatedCallback",oInit.fnCreatedRow,"user");_fnCallbackReg(oSettings,"aoHeaderCallback",oInit.fnHeaderCallback,"user");_fnCallbackReg(oSettings,"aoFooterCallback",oInit.fnFooterCallback,"user");_fnCallbackReg(oSettings,"aoInitComplete",oInit.fnInitComplete,"user");_fnCallbackReg(oSettings,"aoPreDrawCallback",oInit.fnPreDrawCallback,"user");if(oSettings.oFeatures.bServerSide&&oSettings.oFeatures.bSort&&
oSettings.oFeatures.bSortClasses)_fnCallbackReg(oSettings,"aoDrawCallback",_fnSortingClasses,"server_side_sort_classes");else if(oSettings.oFeatures.bDeferRender)_fnCallbackReg(oSettings,"aoDrawCallback",_fnSortingClasses,"defer_sort_classes");if(oInit.bJQueryUI){$.extend(oSettings.oClasses,DataTable.ext.oJUIClasses);if(oInit.sDom===DataTable.defaults.sDom&&DataTable.defaults.sDom==="lfrtip")oSettings.sDom='\x3c"H"lfr\x3et\x3c"F"ip\x3e'}else $.extend(oSettings.oClasses,DataTable.ext.oStdClasses);
$(this).addClass(oSettings.oClasses.sTable);if(oSettings.oScroll.sX!==""||oSettings.oScroll.sY!=="")oSettings.oScroll.iBarWidth=_fnScrollBarWidth();if(oSettings.iInitDisplayStart===undefined){oSettings.iInitDisplayStart=oInit.iDisplayStart;oSettings._iDisplayStart=oInit.iDisplayStart}if(oInit.bStateSave){oSettings.oFeatures.bStateSave=true;_fnLoadState(oSettings,oInit);_fnCallbackReg(oSettings,"aoDrawCallback",_fnSaveState,"state_save")}if(oInit.iDeferLoading!==null){oSettings.bDeferLoading=true;
var tmp=$.isArray(oInit.iDeferLoading);oSettings._iRecordsDisplay=tmp?oInit.iDeferLoading[0]:oInit.iDeferLoading;oSettings._iRecordsTotal=tmp?oInit.iDeferLoading[1]:oInit.iDeferLoading}if(oInit.aaData!==null)bUsePassedData=true;if(oInit.oLanguage.sUrl!==""){oSettings.oLanguage.sUrl=oInit.oLanguage.sUrl;$.getJSON(oSettings.oLanguage.sUrl,null,function(json){_fnLanguageCompat(json);$.extend(true,oSettings.oLanguage,oInit.oLanguage,json);_fnInitialise(oSettings)});bInitHandedOff=true}else $.extend(true,
oSettings.oLanguage,oInit.oLanguage);if(oInit.asStripeClasses===null)oSettings.asStripeClasses=[oSettings.oClasses.sStripeOdd,oSettings.oClasses.sStripeEven];var bStripeRemove=false;var anRows=$(this).children("tbody").children("tr");for(i=0,iLen=oSettings.asStripeClasses.length;i<iLen;i++)if(anRows.filter(":lt(2)").hasClass(oSettings.asStripeClasses[i])){bStripeRemove=true;break}if(bStripeRemove){oSettings.asDestroyStripes=["",""];if($(anRows[0]).hasClass(oSettings.oClasses.sStripeOdd))oSettings.asDestroyStripes[0]+=
oSettings.oClasses.sStripeOdd+" ";if($(anRows[0]).hasClass(oSettings.oClasses.sStripeEven))oSettings.asDestroyStripes[0]+=oSettings.oClasses.sStripeEven;if($(anRows[1]).hasClass(oSettings.oClasses.sStripeOdd))oSettings.asDestroyStripes[1]+=oSettings.oClasses.sStripeOdd+" ";if($(anRows[1]).hasClass(oSettings.oClasses.sStripeEven))oSettings.asDestroyStripes[1]+=oSettings.oClasses.sStripeEven;anRows.removeClass(oSettings.asStripeClasses.join(" "))}var anThs=[];var aoColumnsInit;var nThead=this.getElementsByTagName("thead");
if(nThead.length!==0){_fnDetectHeader(oSettings.aoHeader,nThead[0]);anThs=_fnGetUniqueThs(oSettings)}if(oInit.aoColumns===null){aoColumnsInit=[];for(i=0,iLen=anThs.length;i<iLen;i++)aoColumnsInit.push(null)}else aoColumnsInit=oInit.aoColumns;for(i=0,iLen=aoColumnsInit.length;i<iLen;i++){if(oInit.saved_aoColumns!==undefined&&oInit.saved_aoColumns.length==iLen){if(aoColumnsInit[i]===null)aoColumnsInit[i]={};aoColumnsInit[i].bVisible=oInit.saved_aoColumns[i].bVisible}_fnAddColumn(oSettings,anThs?anThs[i]:
null)}_fnApplyColumnDefs(oSettings,oInit.aoColumnDefs,aoColumnsInit,function(iCol,oDef){_fnColumnOptions(oSettings,iCol,oDef)});for(i=0,iLen=oSettings.aaSorting.length;i<iLen;i++){if(oSettings.aaSorting[i][0]>=oSettings.aoColumns.length)oSettings.aaSorting[i][0]=0;var oColumn=oSettings.aoColumns[oSettings.aaSorting[i][0]];if(oSettings.aaSorting[i][2]===undefined)oSettings.aaSorting[i][2]=0;if(oInit.aaSorting===undefined&&oSettings.saved_aaSorting===undefined)oSettings.aaSorting[i][1]=oColumn.asSorting[0];
for(j=0,jLen=oColumn.asSorting.length;j<jLen;j++)if(oSettings.aaSorting[i][1]==oColumn.asSorting[j]){oSettings.aaSorting[i][2]=j;break}}_fnSortingClasses(oSettings);var captions=$(this).children("caption").each(function(){this._captionSide=$(this).css("caption-side")});var thead=$(this).children("thead");if(thead.length===0){thead=[document.createElement("thead")];this.appendChild(thead[0])}oSettings.nTHead=thead[0];var tbody=$(this).children("tbody");if(tbody.length===0){tbody=[document.createElement("tbody")];
this.appendChild(tbody[0])}oSettings.nTBody=tbody[0];oSettings.nTBody.setAttribute("role","alert");oSettings.nTBody.setAttribute("aria-live","polite");oSettings.nTBody.setAttribute("aria-relevant","all");var tfoot=$(this).children("tfoot");if(tfoot.length===0&&captions.length>0&&(oSettings.oScroll.sX!==""||oSettings.oScroll.sY!=="")){tfoot=[document.createElement("tfoot")];this.appendChild(tfoot[0])}if(tfoot.length>0){oSettings.nTFoot=tfoot[0];_fnDetectHeader(oSettings.aoFooter,oSettings.nTFoot)}if(bUsePassedData)for(i=
0;i<oInit.aaData.length;i++)_fnAddData(oSettings,oInit.aaData[i]);else _fnGatherData(oSettings);oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings.bInitialised=true;if(bInitHandedOff===false)_fnInitialise(oSettings)})};DataTable.fnVersionCheck=function(sVersion){var fnZPad=function(Zpad,count){while(Zpad.length<count)Zpad+="0";return Zpad};var aThis=DataTable.ext.sVersion.split(".");var aThat=sVersion.split(".");var sThis="",sThat="";for(var i=0,iLen=aThat.length;i<iLen;i++){sThis+=fnZPad(aThis[i],
3);sThat+=fnZPad(aThat[i],3)}return parseInt(sThis,10)>=parseInt(sThat,10)};DataTable.fnIsDataTable=function(nTable){var o=DataTable.settings;for(var i=0;i<o.length;i++)if(o[i].nTable===nTable||o[i].nScrollHead===nTable||o[i].nScrollFoot===nTable)return true;return false};DataTable.fnTables=function(bVisible){var out=[];jQuery.each(DataTable.settings,function(i,o){if(!bVisible||bVisible===true&&$(o.nTable).is(":visible"))out.push(o.nTable)});return out};DataTable.version="1.9.2";DataTable.settings=
[];DataTable.models={};DataTable.models.ext={"afnFiltering":[],"afnSortData":[],"aoFeatures":[],"aTypes":[],"fnVersionCheck":DataTable.fnVersionCheck,"iApiIndex":0,"ofnSearch":{},"oApi":{},"oStdClasses":{},"oJUIClasses":{},"oPagination":{},"oSort":{},"sVersion":DataTable.version,"sErrMode":"alert","_oExternConfig":{"iNextUnique":0}};DataTable.models.oSearch={"bCaseInsensitive":true,"sSearch":"","bRegex":false,"bSmart":true};DataTable.models.oRow={"nTr":null,"_aData":[],"_aSortData":[],"_anHidden":[],
"_sRowStripe":""};DataTable.models.oColumn={"aDataSort":null,"asSorting":null,"bSearchable":null,"bSortable":null,"bUseRendered":null,"bVisible":null,"_bAutoType":true,"fnCreatedCell":null,"fnGetData":null,"fnRender":null,"fnSetData":null,"mDataProp":null,"nTh":null,"nTf":null,"sClass":null,"sContentPadding":null,"sDefaultContent":null,"sName":null,"sSortDataType":"std","sSortingClass":null,"sSortingClassJUI":null,"sTitle":null,"sType":null,"sWidth":null,"sWidthOrig":null};DataTable.defaults={"aaData":null,
"aaSorting":[[0,"asc"]],"aaSortingFixed":null,"aLengthMenu":[10,25,50,100],"aoColumns":null,"aoColumnDefs":null,"aoSearchCols":[],"asStripeClasses":null,"bAutoWidth":true,"bDeferRender":false,"bDestroy":false,"bFilter":true,"bInfo":true,"bJQueryUI":false,"bLengthChange":true,"bPaginate":true,"bProcessing":false,"bRetrieve":false,"bScrollAutoCss":true,"bScrollCollapse":false,"bScrollInfinite":false,"bServerSide":false,"bSort":true,"bSortCellsTop":false,"bSortClasses":true,"bStateSave":false,"fnCookieCallback":null,
"fnCreatedRow":null,"fnDrawCallback":null,"fnFooterCallback":null,"fnFormatNumber":function(iIn){if(iIn<1E3)return iIn;var s=iIn+"",a=s.split(""),out="",iLen=s.length;for(var i=0;i<iLen;i++){if(i%3===0&&i!==0)out=this.oLanguage.sInfoThousands+out;out=a[iLen-i-1]+out}return out},"fnHeaderCallback":null,"fnInfoCallback":null,"fnInitComplete":null,"fnPreDrawCallback":null,"fnRowCallback":null,"fnServerData":function(sUrl,aoData,fnCallback,oSettings){oSettings.jqXHR=$.ajax({"url":sUrl,"data":aoData,"success":function(json){$(oSettings.oInstance).trigger("xhr",
oSettings);fnCallback(json)},"dataType":"json","cache":false,"type":oSettings.sServerMethod,"error":function(xhr,error,thrown){if(error=="parsererror")oSettings.oApi._fnLog(oSettings,0,"DataTables warning: JSON data from "+"server could not be parsed. This is caused by a JSON formatting error.")}})},"fnServerParams":null,"fnStateLoad":function(oSettings){var sData=this.oApi._fnReadCookie(oSettings.sCookiePrefix+oSettings.sInstance);var oData;try{oData=typeof $.parseJSON==="function"?$.parseJSON(sData):
eval("("+sData+")")}catch(e){oData=null}return oData},"fnStateLoadParams":null,"fnStateLoaded":null,"fnStateSave":function(oSettings,oData){this.oApi._fnCreateCookie(oSettings.sCookiePrefix+oSettings.sInstance,this.oApi._fnJsonString(oData),oSettings.iCookieDuration,oSettings.sCookiePrefix,oSettings.fnCookieCallback)},"fnStateSaveParams":null,"iCookieDuration":7200,"iDeferLoading":null,"iDisplayLength":10,"iDisplayStart":0,"iScrollLoadGap":100,"iTabIndex":0,"oLanguage":{"oAria":{"sSortAscending":": activate to sort column ascending",
"sSortDescending":": activate to sort column descending"},"oPaginate":{"sFirst":"First","sLast":"Last","sNext":"Next","sPrevious":"Previous"},"sEmptyTable":"No data available in table","sInfo":"Showing _START_ to _END_ of _TOTAL_ entries","sInfoEmpty":"Showing 0 to 0 of 0 entries","sInfoFiltered":"(filtered from _MAX_ total entries)","sInfoPostFix":"","sInfoThousands":",","sLengthMenu":"Show _MENU_ entries","sLoadingRecords":"Loading...","sProcessing":"Processing...","sSearch":"Search:","sUrl":"",
"sZeroRecords":"No matching records found"},"oSearch":$.extend({},DataTable.models.oSearch),"sAjaxDataProp":"aaData","sAjaxSource":null,"sCookiePrefix":"SpryMedia_DataTables_","sDom":"lfrtip","sPaginationType":"two_button","sScrollX":"","sScrollXInner":"","sScrollY":"","sServerMethod":"GET"};DataTable.defaults.columns={"aDataSort":null,"asSorting":["asc","desc"],"bSearchable":true,"bSortable":true,"bUseRendered":true,"bVisible":true,"fnCreatedCell":null,"fnRender":null,"iDataSort":-1,"mDataProp":null,
"sCellType":"td","sClass":"","sContentPadding":"","sDefaultContent":null,"sName":"","sSortDataType":"std","sTitle":null,"sType":null,"sWidth":null};DataTable.models.oSettings={"oFeatures":{"bAutoWidth":null,"bDeferRender":null,"bFilter":null,"bInfo":null,"bLengthChange":null,"bPaginate":null,"bProcessing":null,"bServerSide":null,"bSort":null,"bSortClasses":null,"bStateSave":null},"oScroll":{"bAutoCss":null,"bCollapse":null,"bInfinite":null,"iBarWidth":0,"iLoadGap":null,"sX":null,"sXInner":null,"sY":null},
"oLanguage":{"fnInfoCallback":null},"aanFeatures":[],"aoData":[],"aiDisplay":[],"aiDisplayMaster":[],"aoColumns":[],"aiSortingSkipRows":[],"aoHeader":[],"aoFooter":[],"asDataSearch":[],"oPreviousSearch":{},"aoPreSearchCols":[],"aaSorting":null,"aaSortingFixed":null,"asStripeClasses":null,"asDestroyStripes":[],"sDestroyWidth":0,"aoRowCallback":[],"aoHeaderCallback":[],"aoFooterCallback":[],"aoDrawCallback":[],"aoRowCreatedCallback":[],"aoPreDrawCallback":[],"aoInitComplete":[],"aoStateSaveParams":[],
"aoStateLoadParams":[],"aoStateLoaded":[],"sTableId":"","nTable":null,"nTHead":null,"nTFoot":null,"nTBody":null,"nTableWrapper":null,"bDeferLoading":false,"bInitialised":false,"aoOpenRows":[],"sDom":null,"sPaginationType":"two_button","iCookieDuration":0,"sCookiePrefix":"","fnCookieCallback":null,"aoStateSave":[],"aoStateLoad":[],"oLoadedState":null,"sAjaxSource":null,"sAjaxDataProp":null,"bAjaxDataGet":true,"jqXHR":null,"fnServerData":null,"aoServerParams":[],"sServerMethod":null,"fnFormatNumber":null,
"aLengthMenu":null,"iDraw":0,"bDrawing":false,"iDrawError":-1,"_iDisplayLength":10,"_iDisplayStart":0,"_iDisplayEnd":10,"_iRecordsTotal":0,"_iRecordsDisplay":0,"bJUI":null,"oClasses":{},"bFiltered":false,"bSorted":false,"bSortCellsTop":null,"oInit":null,"aoDestroyCallback":[],"subtractAddLineRow":function(recordCount){if($(this.nTable).hasClass("uif-hasAddLine"))return recordCount-1;else return recordCount},"fnRecordsTotal":function(){if(this.oFeatures.bServerSide)return this.subtractAddLineRow(parseInt(this._iRecordsTotal,
10));else return this.subtractAddLineRow(this.aiDisplayMaster.length)},"fnRecordsDisplay":function(){if(this.oFeatures.bServerSide)return this.subtractAddLineRow(parseInt(this._iRecordsDisplay,10));else return this.subtractAddLineRow(this.aiDisplay.length)},"fnDisplayEnd":function(){if(this.oFeatures.bServerSide)if(this.oFeatures.bPaginate===false||this._iDisplayLength==-1)return this.subtractAddLineRow(this._iDisplayStart+this.aiDisplay.length);else return this.subtractAddLineRow(Math.min(this._iDisplayStart+
this._iDisplayLength,this._iRecordsDisplay));else return this.subtractAddLineRow(this._iDisplayEnd)},"oInstance":null,"sInstance":null,"iTabIndex":0,"nScrollHead":null,"nScrollFoot":null};DataTable.ext=$.extend(true,{},DataTable.models.ext);$.extend(DataTable.ext.oStdClasses,{"sTable":"dataTable","sPagePrevEnabled":"paginate_enabled_previous","sPagePrevDisabled":"paginate_disabled_previous","sPageNextEnabled":"paginate_enabled_next","sPageNextDisabled":"paginate_disabled_next","sPageJUINext":"","sPageJUIPrev":"",
"sPageButton":"paginate_button","sPageButtonActive":"paginate_active","sPageButtonStaticDisabled":"paginate_button paginate_button_disabled","sPageFirst":"first","sPagePrevious":"previous","sPageNext":"next","sPageLast":"last","sStripeOdd":"odd","sStripeEven":"even","sRowEmpty":"dataTables_empty","sWrapper":"dataTables_wrapper","sFilter":"dataTables_filter","sInfo":"dataTables_info","sPaging":"dataTables_paginate paging_","sLength":"dataTables_length","sProcessing":"dataTables_processing","sSortAsc":"sorting_asc",
"sSortDesc":"sorting_desc","sSortable":"sorting","sSortableAsc":"sorting_asc_disabled","sSortableDesc":"sorting_desc_disabled","sSortableNone":"sorting_disabled","sSortColumn":"sorting_","sSortJUIAsc":"","sSortJUIDesc":"","sSortJUI":"","sSortJUIAscAllowed":"","sSortJUIDescAllowed":"","sSortJUIWrapper":"","sSortIcon":"","sScrollWrapper":"dataTables_scroll","sScrollHead":"dataTables_scrollHead","sScrollHeadInner":"dataTables_scrollHeadInner","sScrollBody":"dataTables_scrollBody","sScrollFoot":"dataTables_scrollFoot",
"sScrollFootInner":"dataTables_scrollFootInner","sFooterTH":"","sJUIHeader":"","sJUIFooter":""});$.extend(DataTable.ext.oJUIClasses,DataTable.ext.oStdClasses,{"sPagePrevEnabled":"fg-button ui-button ui-state-default ui-corner-left","sPagePrevDisabled":"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled","sPageNextEnabled":"fg-button ui-button ui-state-default ui-corner-right","sPageNextDisabled":"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled","sPageJUINext":"ui-icon ui-icon-circle-arrow-e",
"sPageJUIPrev":"ui-icon ui-icon-circle-arrow-w","sPageButton":"fg-button ui-button ui-state-default","sPageButtonActive":"fg-button ui-button ui-state-default ui-state-disabled","sPageButtonStaticDisabled":"fg-button ui-button ui-state-default ui-state-disabled","sPageFirst":"first ui-corner-tl ui-corner-bl","sPageLast":"last ui-corner-tr ui-corner-br","sPaging":"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi "+"ui-buttonset-multi paging_","sSortAsc":"ui-state-default","sSortDesc":"ui-state-default",
"sSortable":"ui-state-default","sSortableAsc":"ui-state-default","sSortableDesc":"ui-state-default","sSortableNone":"ui-state-default","sSortJUIAsc":"css_right ui-icon ui-icon-triangle-1-n","sSortJUIDesc":"css_right ui-icon ui-icon-triangle-1-s","sSortJUI":"css_right ui-icon ui-icon-carat-2-n-s","sSortJUIAscAllowed":"css_right ui-icon ui-icon-carat-1-n","sSortJUIDescAllowed":"css_right ui-icon ui-icon-carat-1-s","sSortJUIWrapper":"DataTables_sort_wrapper","sSortIcon":"DataTables_sort_icon","sScrollHead":"dataTables_scrollHead ui-state-default",
"sScrollFoot":"dataTables_scrollFoot ui-state-default","sFooterTH":"ui-state-default","sJUIHeader":"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix","sJUIFooter":"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"});$.extend(DataTable.ext.oPagination,{"two_button":{"fnInit":function(oSettings,nPaging,fnCallbackDraw){var oLang=oSettings.oLanguage.oPaginate;var oClasses=oSettings.oClasses;var fnClickHandler=function(e){if(oSettings.oApi._fnPageChange(oSettings,
e.data.action))fnCallbackDraw(oSettings)};var sAppend=!oSettings.bJUI?'\x3ca class\x3d"'+oSettings.oClasses.sPagePrevDisabled+'" tabindex\x3d"'+oSettings.iTabIndex+'" role\x3d"button"\x3e'+oLang.sPrevious+"\x3c/a\x3e"+'\x3ca class\x3d"'+oSettings.oClasses.sPageNextDisabled+'" tabindex\x3d"'+oSettings.iTabIndex+'" role\x3d"button"\x3e'+oLang.sNext+"\x3c/a\x3e":'\x3ca class\x3d"'+oSettings.oClasses.sPagePrevDisabled+'" tabindex\x3d"'+oSettings.iTabIndex+'" role\x3d"button"\x3e\x3cspan class\x3d"'+oSettings.oClasses.sPageJUIPrev+
'"\x3e\x3c/span\x3e\x3c/a\x3e'+'\x3ca class\x3d"'+oSettings.oClasses.sPageNextDisabled+'" tabindex\x3d"'+oSettings.iTabIndex+'" role\x3d"button"\x3e\x3cspan class\x3d"'+oSettings.oClasses.sPageJUINext+'"\x3e\x3c/span\x3e\x3c/a\x3e';$(nPaging).append(sAppend);var els=$("a",nPaging);var nPrevious=els[0],nNext=els[1];oSettings.oApi._fnBindAction(nPrevious,{action:"previous"},fnClickHandler);oSettings.oApi._fnBindAction(nNext,{action:"next"},fnClickHandler);if(!oSettings.aanFeatures.p){nPaging.id=oSettings.sTableId+
"_paginate";nPrevious.id=oSettings.sTableId+"_previous";nNext.id=oSettings.sTableId+"_next";nPrevious.setAttribute("aria-controls",oSettings.sTableId);nNext.setAttribute("aria-controls",oSettings.sTableId)}},"fnUpdate":function(oSettings,fnCallbackDraw){if(!oSettings.aanFeatures.p)return;var oClasses=oSettings.oClasses;var an=oSettings.aanFeatures.p;for(var i=0,iLen=an.length;i<iLen;i++)if(an[i].childNodes.length!==0){an[i].childNodes[0].className=oSettings._iDisplayStart===0?oClasses.sPagePrevDisabled:
oClasses.sPagePrevEnabled;an[i].childNodes[1].className=oSettings.fnDisplayEnd()==oSettings.fnRecordsDisplay()?oClasses.sPageNextDisabled:oClasses.sPageNextEnabled}}},"iFullNumbersShowPages":5,"full_numbers":{"fnInit":function(oSettings,nPaging,fnCallbackDraw){var oLang=oSettings.oLanguage.oPaginate;var oClasses=oSettings.oClasses;var fnClickHandler=function(e){if(oSettings.oApi._fnPageChange(oSettings,e.data.action))fnCallbackDraw(oSettings)};$(nPaging).append('\x3ca  tabindex\x3d"'+oSettings.iTabIndex+
'" class\x3d"'+oClasses.sPageButton+" "+oClasses.sPageFirst+'"\x3e'+oLang.sFirst+"\x3c/a\x3e"+'\x3ca  tabindex\x3d"'+oSettings.iTabIndex+'" class\x3d"'+oClasses.sPageButton+" "+oClasses.sPagePrevious+'"\x3e'+oLang.sPrevious+"\x3c/a\x3e"+"\x3cspan\x3e\x3c/span\x3e"+'\x3ca tabindex\x3d"'+oSettings.iTabIndex+'" class\x3d"'+oClasses.sPageButton+" "+oClasses.sPageNext+'"\x3e'+oLang.sNext+"\x3c/a\x3e"+'\x3ca tabindex\x3d"'+oSettings.iTabIndex+'" class\x3d"'+oClasses.sPageButton+" "+oClasses.sPageLast+'"\x3e'+
oLang.sLast+"\x3c/a\x3e");var els=$("a",nPaging);var nFirst=els[0],nPrev=els[1],nNext=els[2],nLast=els[3];oSettings.oApi._fnBindAction(nFirst,{action:"first"},fnClickHandler);oSettings.oApi._fnBindAction(nPrev,{action:"previous"},fnClickHandler);oSettings.oApi._fnBindAction(nNext,{action:"next"},fnClickHandler);oSettings.oApi._fnBindAction(nLast,{action:"last"},fnClickHandler);if(!oSettings.aanFeatures.p){nPaging.id=oSettings.sTableId+"_paginate";nFirst.id=oSettings.sTableId+"_first";nPrev.id=oSettings.sTableId+
"_previous";nNext.id=oSettings.sTableId+"_next";nLast.id=oSettings.sTableId+"_last"}},"fnUpdate":function(oSettings,fnCallbackDraw){if(!oSettings.aanFeatures.p)return;var iPageCount=DataTable.ext.oPagination.iFullNumbersShowPages;var iPageCountHalf=Math.floor(iPageCount/2);var iPages=Math.ceil(oSettings.fnRecordsDisplay()/oSettings._iDisplayLength);if($(oSettings.nTable).hasClass("uif-hasAddLine"))iPages=Math.ceil((oSettings.fnRecordsDisplay()+1)/oSettings._iDisplayLength);var iCurrentPage=Math.ceil(oSettings._iDisplayStart/
oSettings._iDisplayLength)+1;var sList="";var iStartButton,iEndButton,i,iLen;var oClasses=oSettings.oClasses;var anButtons,anStatic,nPaginateList;var an=oSettings.aanFeatures.p;var fnBind=function(j){oSettings.oApi._fnBindAction(this,{"page":j+iStartButton-1},function(e){oSettings.oApi._fnPageChange(oSettings,e.data.page);fnCallbackDraw(oSettings);e.preventDefault()})};if(oSettings._iDisplayLength===-1){iStartButton=1;iEndButton=1;iCurrentPage=1}else if(iPages<iPageCount){iStartButton=1;iEndButton=
iPages}else if(iCurrentPage<=iPageCountHalf){iStartButton=1;iEndButton=iPageCount}else if(iCurrentPage>=iPages-iPageCountHalf){iStartButton=iPages-iPageCount+1;iEndButton=iPages}else{iStartButton=iCurrentPage-Math.ceil(iPageCount/2)+1;iEndButton=iStartButton+iPageCount-1}for(i=iStartButton;i<=iEndButton;i++)sList+=iCurrentPage!==i?'\x3ca tabindex\x3d"'+oSettings.iTabIndex+'" class\x3d"'+oClasses.sPageButton+'"\x3e'+oSettings.fnFormatNumber(i)+"\x3c/a\x3e":'\x3ca tabindex\x3d"'+oSettings.iTabIndex+
'" class\x3d"'+oClasses.sPageButtonActive+'"\x3e'+oSettings.fnFormatNumber(i)+"\x3c/a\x3e";for(i=0,iLen=an.length;i<iLen;i++){if(an[i].childNodes.length===0)continue;$("span:eq(0)",an[i]).html(sList).children("a").each(fnBind);anButtons=an[i].getElementsByTagName("a");anStatic=[anButtons[0],anButtons[1],anButtons[anButtons.length-2],anButtons[anButtons.length-1]];$(anStatic).removeClass(oClasses.sPageButton+" "+oClasses.sPageButtonActive+" "+oClasses.sPageButtonStaticDisabled);$([anStatic[0],anStatic[1]]).addClass(iCurrentPage==
1?oClasses.sPageButtonStaticDisabled:oClasses.sPageButton);$([anStatic[2],anStatic[3]]).addClass(iPages===0||iCurrentPage===iPages||oSettings._iDisplayLength===-1?oClasses.sPageButtonStaticDisabled:oClasses.sPageButton)}}}});$.extend(DataTable.ext.oSort,{"string-pre":function(a){if(typeof a!="string")a=a!==null&&a.toString?a.toString():"";return a.toLowerCase()},"string-asc":function(x,y){return x<y?-1:x>y?1:0},"string-desc":function(x,y){return x<y?1:x>y?-1:0},"html-pre":function(a){return a.replace(/<.*?>/g,
"").toLowerCase()},"html-asc":function(x,y){return x<y?-1:x>y?1:0},"html-desc":function(x,y){return x<y?1:x>y?-1:0},"date-pre":function(a){var x=Date.parse(a);if(isNaN(x)||x==="")x=Date.parse("01/01/1970 00:00:00");return x},"date-asc":function(x,y){return x-y},"date-desc":function(x,y){return y-x},"numeric-pre":function(a){return a=="-"||a===""?0:a*1},"numeric-asc":function(x,y){return x-y},"numeric-desc":function(x,y){return y-x}});$.extend(DataTable.ext.aTypes,[function(sData){if(typeof sData===
"number")return"numeric";else if(typeof sData!=="string")return null;var sValidFirstChars="0123456789-";var sValidChars="0123456789.";var Char;var bDecimal=false;Char=sData.charAt(0);if(sValidFirstChars.indexOf(Char)==-1)return null;for(var i=1;i<sData.length;i++){Char=sData.charAt(i);if(sValidChars.indexOf(Char)==-1)return null;if(Char=="."){if(bDecimal)return null;bDecimal=true}}return"numeric"},function(sData){var iParse=Date.parse(sData);if(iParse!==null&&!isNaN(iParse)||typeof sData==="string"&&
sData.length===0)return"date";return null},function(sData){if(typeof sData==="string"&&sData.indexOf("\x3c")!=-1&&sData.indexOf("\x3e")!=-1)return"html";return null}]);$.fn.DataTable=DataTable;$.fn.dataTable=DataTable;$.fn.dataTableSettings=DataTable.settings;$.fn.dataTableExt=DataTable.ext})(jQuery,window,document,undefined);
(function($){$.fn.rowGrouping=function(options){function _fnOnGrouped(){}function _fnOnGroupCreated(oGroup,sGroup,iLevel){}function _fnOnGroupCompleted(oGroup,sGroup,iLevel){}function _getMonthName(iMonth){var asMonths=["January","February","March","April","May","June","Jully","August","September","October","November","December"];return asMonths[iMonth-1]}var defaults={iGroupingColumnIndex:0,sGroupingColumnSortDirection:"",iGroupingOrderByColumnIndex:-1,sGroupingClass:"group",bHideGroupingColumn:true,
bHideGroupingOrderByColumn:true,sGroupBy:"name",sGroupLabelPrefix:"",fnGroupLabelFormat:function(label){return label},bExpandableGrouping:false,bExpandSingleGroup:false,iExpandGroupOffset:100,asExpandedGroups:null,sDateFormat:"dd/MM/yyyy",sEmptyGroupLabel:"-",bSetGroupingClassOnTR:false,iGroupingColumnIndex2:-1,sGroupingColumnSortDirection2:"",iGroupingOrderByColumnIndex2:-1,sGroupingClass2:"subgroup",bHideGroupingColumn2:true,bHideGroupingOrderByColumn2:true,sGroupBy2:"name",sGroupLabelPrefix2:"",
fnGroupLabelFormat2:function(label){return label},bExpandableGrouping2:false,fnOnGrouped:_fnOnGrouped,fnOnGroupCreated:_fnOnGroupCreated,fnOnGroupCompleted:_fnOnGroupCompleted,oHideEffect:null,oShowEffect:null,bUseFilteringForGrouping:false,bGenerateGroupTotalRows:false};return this.each(function(index,elem){var oTable=$(elem).dataTable();var aoGroups=new Array;$(this).dataTableExt.aoGroups=aoGroups;function fnCreateGroupRow(sGroupCleaned,sGroup,iColspan){var nGroup=document.createElement("tr");var nCell=
document.createElement("td");nGroup.id="group-id-"+oTable.attr("id")+"_"+sGroupCleaned;var oGroup={id:nGroup.id,key:sGroupCleaned,text:sGroup,level:0,groupItemClass:".group-item-"+sGroupCleaned,dataGroup:sGroupCleaned,aoSubgroups:new Array};if(properties.bSetGroupingClassOnTR)nGroup.className=properties.sGroupingClass+" "+sGroupCleaned;else nCell.className=properties.sGroupingClass+" "+sGroupCleaned;nCell.colSpan=iColspan;nCell.innerHTML=properties.sGroupLabelPrefix+properties.fnGroupLabelFormat(sGroup==
""?properties.sEmptyGroupLabel:sGroup,oGroup);if(properties.bExpandableGrouping){if(!_fnIsGroupCollapsed(sGroupCleaned)){nCell.className+=" expanded-group";oGroup.state="expanded"}else{nCell.className+=" collapsed-group";oGroup.state="collapsed"}nCell.className+=" group-item-expander";$(nCell).attr("data-group",oGroup.dataGroup);$(nCell).attr("data-group-level",oGroup.level);$(nCell).click(_fnOnGroupClick)}nGroup.appendChild(nCell);aoGroups[sGroupCleaned]=oGroup;oGroup.nGroup=nGroup;properties.fnOnGroupCreated(oGroup,
sGroupCleaned,1);return oGroup}function _fnCreateGroup2Row(sGroup2,sGroupLabel,iColspan,oParentGroup){var nGroup2=document.createElement("tr");nGroup2.id=oParentGroup.id+"_"+sGroup2;var nCell2=document.createElement("td");var dataGroup=oParentGroup.dataGroup+"_"+sGroup2;oGroup={id:nGroup2.id,key:sGroup2,text:sGroupLabel,level:oParentGroup.level+1,groupItemClass:".group-item-"+dataGroup,dataGroup:dataGroup,aoSubgroups:new Array};if(properties.bSetGroupingClassOnTR)nGroup2.className=properties.sGroupingClass2+
" "+sGroup2;else nCell2.className=properties.sGroupingClass2+" "+sGroup2;nCell2.colSpan=iColspan;nCell2.innerHTML=properties.sGroupLabelPrefix2+properties.fnGroupLabelFormat2(sGroupLabel==""?properties.sEmptyGroupLabel:sGroupLabel,oGroup);if(properties.bExpandableGrouping)nGroup2.className+=" group-item-"+oParentGroup.dataGroup;if(properties.bExpandableGrouping&&properties.bExpandableGrouping2){if(!_fnIsGroupCollapsed(oGroup.dataGroup)){nCell2.className+=" expanded-group";oGroup.state="expanded"}else{nCell2.className+=
" collapsed-group";oGroup.state="collapsed"}nCell2.className+=" group-item-expander";$(nCell2).attr("data-group",oGroup.dataGroup);$(nCell2).attr("data-group-level",oGroup.level);$(nCell2).click(_fnOnGroupClick)}nGroup2.appendChild(nCell2);oParentGroup.aoSubgroups[oGroup.dataGroup]=oGroup;aoGroups[oGroup.dataGroup]=oGroup;oGroup.nGroup=nGroup2;properties.fnOnGroupCreated(oGroup,sGroup2,2);return oGroup}function _fnIsGroupCollapsed(sGroup){if(aoGroups[sGroup]!=null)return aoGroups[sGroup].state=="collapsed";
else if(sGroup.indexOf("_")>-1)true;else if(bInitialGrouping&&(asExpandedGroups==null||asExpandedGroups.length==0))return false;else return $.inArray(sGroup,asExpandedGroups)==-1}function _fnGetYear(x){if(x.length<iYearIndex+iYearLength)return x;else return x.substr(iYearIndex,iYearLength)}function _fnGetGroupByName(x){return x}function _fnGetGroupByLetter(x){return x.substr(0,1)}function _fnGetGroupByYear(x){return _fnGetYear(x)}function _fnGetGroupByYearMonth(x){return x.substr(iYearIndex,iYearLength)+
" "+_getMonthName(x.substr(iMonthIndex,iMonthLength))}function _fnGetCleanedGroup(sGroup){if(sGroup==="")return"-";return sGroup.toLowerCase().replace(/[^a-zA-Z0-9\u0080-\uFFFF]+/g,"-")}function _rowGroupingRowFilter(oSettings,aData,iDataIndex){if(oSettings.nTable.id!==oTable[0].id)return true;var sColData=aData[properties.iGroupingColumnIndex];if(typeof sColData==="undefined")sColData=aData[oSettings.aoColumns[properties.iGroupingColumnIndex].mDataProp];if(_fnIsGroupCollapsed(_fnGetCleanedGroup(sColData))){if(oTable.fnIsOpen(oTable.fnGetNodes(iDataIndex))){if(properties.fnOnRowClosed!=
null)properties.fnOnRowClosed(this);oTable.fnClose(oTable.fnGetNodes(iDataIndex))}return false}return true}function fnExpandGroup(sGroup){aoGroups[sGroup].state="expanded";$("td[data-group^\x3d'"+sGroup+"']").removeClass("collapsed-group");$("td[data-group^\x3d'"+sGroup+"']").addClass("expanded-group");if(properties.bUseFilteringForGrouping){oTable.fnDraw();return}if(jQuery.inArray(sGroup,asExpandedGroups)==-1)asExpandedGroups.push(sGroup);if(properties.oHideEffect!=null)$(".group-item-"+sGroup,oTable)[properties.oShowEffect.method](properties.oShowEffect.duration,
properties.oShowEffect.easing,function(){});else $(".group-item-"+sGroup,oTable).show()}function fnCollapseGroup(sGroup){aoGroups[sGroup].state="collapsed";$("td[data-group^\x3d'"+sGroup+"']").removeClass("expanded-group");$("td[data-group^\x3d'"+sGroup+"']").addClass("collapsed-group");if(properties.bUseFilteringForGrouping){oTable.fnDraw();return}$(".group-item-"+sGroup).each(function(){if(oTable.fnIsOpen(this)){if(properties.fnOnRowClosed!=null)properties.fnOnRowClosed(this);oTable.fnClose(this)}});
if(properties.oHideEffect!=null)$(".group-item-"+sGroup,oTable)[properties.oHideEffect.method](properties.oHideEffect.duration,properties.oHideEffect.easing,function(){});else $(".group-item-"+sGroup,oTable).hide()}function _fnOnGroupClick(e){var sGroup=$(this).attr("data-group");var iGroupLevel=$(this).attr("data-group-level");var bIsExpanded=!_fnIsGroupCollapsed(sGroup);if(properties.bExpandSingleGroup){if(!bIsExpanded){var sCurrentGroup=$("td.expanded-group").attr("data-group");fnCollapseGroup(sCurrentGroup);
fnExpandGroup(sGroup);if(properties.iExpandGroupOffset!=-1){var position=$("#group-id-"+oTable.attr("id")+"-"+sGroup).offset().top-properties.iExpandGroupOffset;window.scroll(0,position)}else{var position=oTable.offset().top;window.scroll(0,position)}}}else if(bIsExpanded)fnCollapseGroup(sGroup);else fnExpandGroup(sGroup);e.preventDefault()}function _fnDrawCallBackWithGrouping(oSettings){if(oTable.fnSettings().oFeatures.bServerSide)bInitialGrouping=true;var bUseSecondaryGrouping=false;if(properties.iGroupingColumnIndex2!=
-1)bUseSecondaryGrouping=true;if(oSettings.aiDisplayMaster.length==0)return;var nTrs=$("tbody tr",oTable);var iColspan=0;for(var iColIndex=0;iColIndex<oSettings.aoColumns.length;iColIndex++)if(oSettings.aoColumns[iColIndex].bVisible)iColspan+=1;var sLastGroup=null;var sLastGroup2=null;if(oSettings.aiDisplay.length>0){for(var i=0;i<nTrs.length;i++){var iDisplayIndex=oSettings._iDisplayStart+i;if(oTable.fnSettings().oFeatures.bServerSide)iDisplayIndex=i;var sGroupData="";var sGroup=null;var sGroupData2=
"";var sGroup2=null;sGroupData=this.fnGetData(nTrs[i],properties.iGroupingColumnIndex);var sGroup=sGroupData;if(properties.sGroupBy!="year")sGroup=fnGetGroup(sGroupData);if(bUseSecondaryGrouping){sGroupData2=oSettings.aoData[oSettings.aiDisplay[iDisplayIndex]]._aData[properties.iGroupingColumnIndex2];if(sGroupData2==undefined)sGroupData2=oSettings.aoData[oSettings.aiDisplay[iDisplayIndex]]._aData[oSettings.aoColumns[properties.iGroupingColumnIndex2].mDataProp];if(properties.sGroupBy2!="year")sGroup2=
fnGetGroup(sGroupData2)}if(sLastGroup==null||_fnGetCleanedGroup(sGroup)!=_fnGetCleanedGroup(sLastGroup)){var sGroupCleaned=_fnGetCleanedGroup(sGroup);if(sLastGroup!=null)properties.fnOnGroupCompleted(aoGroups[_fnGetCleanedGroup(sLastGroup)]);if(properties.bAddAllGroupsAsExpanded&&jQuery.inArray(sGroupCleaned,asExpandedGroups)==-1)asExpandedGroups.push(sGroupCleaned);var oGroup=fnCreateGroupRow(sGroupCleaned,sGroup,iColspan);var nGroup=oGroup.nGroup;if(i!=0&&properties.bGenerateGroupTotalRows){var groupValue=
_fnGetCleanedGroup(sLastGroup);var totalTr=jQuery("\x3ctr class\x3d'uif-groupTotalRow' data-groupvalue\x3d'"+groupValue+"'\x3e\x3c/tr\x3e");for(var j=0;j<iColspan;j++)totalTr.append("\x3ctd\x3e\x3c/td\x3e");jQuery(nTrs[i]).before(totalTr)}if(nTrs[i].parentNode!=null)nTrs[i].parentNode.insertBefore(nGroup,nTrs[i]);else $(nTrs[i]).before(nGroup);$(nTrs[i]).attr("data-group",oGroup.dataGroup);sLastGroup=sGroup;sLastGroup2=null}if(properties.bExpandableGrouping){$(nTrs[i]).addClass("group-item-"+sGroupCleaned);
if(_fnIsGroupCollapsed(sGroupCleaned)&&!properties.bUseFilteringForGrouping)$(nTrs[i]).hide()}if(bUseSecondaryGrouping){if(sLastGroup2==null||_fnGetCleanedGroup(sGroup2)!=_fnGetCleanedGroup(sLastGroup2)){var sGroup2Id=_fnGetCleanedGroup(sGroup)+"-"+_fnGetCleanedGroup(sGroup2);var oGroup2=_fnCreateGroup2Row(sGroup2Id,sGroup2,iColspan,aoGroups[sGroupCleaned]);var nGroup2=oGroup2.nGroup;nTrs[i].parentNode.insertBefore(nGroup2,nTrs[i]);sLastGroup2=sGroup2}$(nTrs[i]).attr("data-group",oGroup2.dataGroup).addClass("group-item-"+
oGroup2.dataGroup)}}if(properties.bGenerateGroupTotalRows){var groupValue=_fnGetCleanedGroup(sLastGroup);var totalTr=jQuery("\x3ctr class\x3d'uif-groupTotalRow' data-groupvalue\x3d'"+groupValue+"'\x3e\x3c/tr\x3e");for(var j=0;j<iColspan;j++)totalTr.append("\x3ctd\x3e\x3c/td\x3e");$("tbody",oTable).append(totalTr);oTable.fnCallFooterCallback()}}if(sLastGroup!=null)properties.fnOnGroupCompleted(aoGroups[_fnGetCleanedGroup(sLastGroup)]);properties.fnOnGrouped(aoGroups);bInitialGrouping=false}var iYearIndex=
6;var iYearLength=4;var asExpandedGroups=new Array;var bInitialGrouping=true;var properties=$.extend(defaults,options);if(properties.iGroupingOrderByColumnIndex==-1){properties.bCustomColumnOrdering=false;properties.iGroupingOrderByColumnIndex=properties.iGroupingColumnIndex}else properties.bCustomColumnOrdering=true;if(properties.sGroupingColumnSortDirection=="")if(properties.sGroupBy=="year")properties.sGroupingColumnSortDirection="desc";else properties.sGroupingColumnSortDirection="asc";if(properties.iGroupingOrderByColumnIndex2==
-1){properties.bCustomColumnOrdering2=false;properties.iGroupingOrderByColumnIndex2=properties.iGroupingColumnIndex2}else properties.bCustomColumnOrdering2=true;if(properties.sGroupingColumnSortDirection2=="")if(properties.sGroupBy2=="year")properties.sGroupingColumnSortDirection2="desc";else properties.sGroupingColumnSortDirection2="asc";iYearIndex=properties.sDateFormat.toLowerCase().indexOf("yy");iYearLength=properties.sDateFormat.toLowerCase().lastIndexOf("y")-properties.sDateFormat.toLowerCase().indexOf("y")+
1;iMonthIndex=properties.sDateFormat.toLowerCase().indexOf("mm");iMonthLength=properties.sDateFormat.toLowerCase().lastIndexOf("m")-properties.sDateFormat.toLowerCase().indexOf("m")+1;var fnGetGroup=_fnGetGroupByName;switch(properties.sGroupBy){case "letter":fnGetGroup=_fnGetGroupByLetter;break;case "year":fnGetGroup=_fnGetGroupByYear;break;case "month":fnGetGroup=_fnGetGroupByYearMonth;break;default:fnGetGroup=_fnGetGroupByName;break}if(properties.asExpandedGroups!=null)if(properties.asExpandedGroups==
"NONE"){properties.asExpandedGroups=[];asExpandedGroups=properties.asExpandedGroups;bInitialGrouping=false}else if(properties.asExpandedGroups=="ALL")properties.bAddAllGroupsAsExpanded=true;else if(properties.asExpandedGroups.constructor==String){var currentGroup=properties.asExpandedGroups;properties.asExpandedGroups=new Array;properties.asExpandedGroups.push(_fnGetCleanedGroup(currentGroup));asExpandedGroups=properties.asExpandedGroups;bInitialGrouping=false}else{if(properties.asExpandedGroups.constructor==
Array){for(var i=0;i<properties.asExpandedGroups.length;i++){asExpandedGroups.push(_fnGetCleanedGroup(properties.asExpandedGroups[i]));if(properties.bExpandSingleGroup)break}bInitialGrouping=false}}else{properties.asExpandedGroups=new Array;properties.bAddAllGroupsAsExpanded=true}if(properties.bExpandSingleGroup){var nTrs=$("tbody tr",oTable);sGroupData=oTable.fnGetData(nTrs[0],properties.iGroupingColumnIndex);var sGroup=sGroupData;if(properties.sGroupBy!="year")sGroup=fnGetGroup(sGroupData);var sGroupCleaned=
_fnGetCleanedGroup(sGroup);properties.asExpandedGroups=new Array;properties.asExpandedGroups.push(sGroupCleaned)}oTable.fnSetColumnVis(properties.iGroupingColumnIndex,!properties.bHideGroupingColumn);if(properties.bCustomColumnOrdering)oTable.fnSetColumnVis(properties.iGroupingOrderByColumnIndex,!properties.bHideGroupingOrderByColumn);if(properties.iGroupingColumnIndex2!=-1)oTable.fnSetColumnVis(properties.iGroupingColumnIndex2,!properties.bHideGroupingColumn2);if(properties.bCustomColumnOrdering2)oTable.fnSetColumnVis(properties.iGroupingOrderByColumnIndex2,
!properties.bHideGroupingOrderByColumn2);oTable.fnSettings().aoDrawCallback.push({"fn":_fnDrawCallBackWithGrouping,"sName":"fnRowGrouping"});var aaSortingFixed=new Array;aaSortingFixed.push([properties.iGroupingOrderByColumnIndex,properties.sGroupingColumnSortDirection]);if(properties.iGroupingColumnIndex2!=-1)aaSortingFixed.push([properties.iGroupingOrderByColumnIndex2,properties.sGroupingColumnSortDirection2]);oTable.fnSettings().aaSortingFixed=aaSortingFixed;switch(properties.sGroupBy){case "name":break;
case "letter":oTable.fnSettings().aoColumns[properties.iGroupingOrderByColumnIndex].sSortDataType="rg-letter";$.fn.dataTableExt.afnSortData["rg-letter"]=function(oSettings,iColumn){var aData=[];$("td:eq("+iColumn+")",oSettings.oApi._fnGetTrNodes(oSettings)).each(function(){aData.push(_fnGetGroupByLetter(this.innerHTML))});return aData};break;case "year":oTable.fnSettings().aoColumns[properties.iGroupingOrderByColumnIndex].sSortDataType="rg-date";$.fn.dataTableExt.afnSortData["rg-date"]=function(oSettings,
iColumn){var aData=[];var nTrs=oSettings.oApi._fnGetTrNodes(oSettings);for(i=0;i<nTrs.length;i++)aData.push(_fnGetYear(oTable.fnGetData(nTrs[i],iColumn)));return aData};break;default:break}if(properties.bUseFilteringForGrouping)$.fn.dataTableExt.afnFiltering.push(_rowGroupingRowFilter);oTable.fnDraw()})}})(jQuery);var TableTools;
(function($,window,document){TableTools=function(oDT,oOpts){if(!this.CLASS||this.CLASS!="TableTools")alert("Warning: TableTools must be initialised with the keyword 'new'");this.s={"that":this,"dt":null,"print":{"saveStart":-1,"saveLength":-1,"saveScroll":-1,"funcEnd":function(){}},"buttonCounter":0,"select":{"type":"","selected":[],"preRowSelect":null,"postSelected":null,"postDeselected":null,"all":false},"custom":{},"swfPath":"","buttonSet":[],"master":false};this.dom={"container":null,"table":null,
"print":{"hidden":[],"message":null},"collection":{"collection":null,"background":null}};this.fnSettings=function(){return this.s};if(typeof oOpts=="undefined")oOpts={};this.s.dt=oDT.fnSettings();this._fnConstruct(oOpts);return this};TableTools.prototype={"fnGetSelected":function(){var masterS=this._fnGetMasterSettings();return masterS.select.selected},"fnIsSelected":function(n){var selected=this.fnGetSelected();for(var i=0,iLen=selected.length;i<iLen;i++)if(n==selected[i])return true;return false},
"fnSelectAll":function(){var masterS=this._fnGetMasterSettings();masterS.that._fnRowSelectAll()},"fnSelectNone":function(){var masterS=this._fnGetMasterSettings();masterS.that._fnRowDeselectAll()},"fnGetTitle":function(oConfig){var sTitle="";if(typeof oConfig.sTitle!="undefined"&&oConfig.sTitle!=="")sTitle=oConfig.sTitle;else{var anTitle=document.getElementsByTagName("title");if(anTitle.length>0)sTitle=anTitle[0].innerHTML}if("\u00a1".toString().length<4)return sTitle.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,
"");else return sTitle.replace(/[^a-zA-Z0-9_\.,\-_ !\(\)]/g,"")},"fnCalcColRatios":function(oConfig){var aoCols=this.s.dt.aoColumns,aColumnsInc=this._fnColumnTargets(oConfig.mColumns),aColWidths=[],iWidth=0,iTotal=0,i,iLen;for(i=0,iLen=aColumnsInc.length;i<iLen;i++)if(aColumnsInc[i]){iWidth=aoCols[i].nTh.offsetWidth;iTotal+=iWidth;aColWidths.push(iWidth)}for(i=0,iLen=aColWidths.length;i<iLen;i++)aColWidths[i]=aColWidths[i]/iTotal;return aColWidths.join("\t")},"fnGetTableData":function(oConfig){if(this.s.dt)return this._fnGetDataTablesData(oConfig)},
"fnSetText":function(clip,text){this._fnFlashSetText(clip,text)},"_fnConstruct":function(oOpts){this._fnCustomiseSettings(oOpts);this.dom.container=document.createElement("div");this.dom.container.style.position="relative";this.dom.container.className=!this.s.dt.bJUI?"DTTT_container":"DTTT_container ui-buttonset ui-buttonset-multi";if(this.s.select.type!="none")this._fnRowSelectConfig();this._fnButtonDefinations(this.s.buttonSet,this.dom.container)},"_fnCustomiseSettings":function(oOpts){if(typeof this.s.dt._TableToolsInit==
"undefined"){this.s.master=true;this.s.dt._TableToolsInit=true}this.dom.table=this.s.dt.nTable;this.s.custom=$.extend({},TableTools.DEFAULTS,oOpts);this.s.swfPath=this.s.custom.sSwfPath;if(typeof ZeroClipboard!="undefined")ZeroClipboard.moviePath=this.s.swfPath;this.s.select.type=this.s.custom.sRowSelect;this.s.select.preRowSelect=this.s.custom.fnPreRowSelect;this.s.select.postSelected=this.s.custom.fnRowSelected;this.s.select.postDeselected=this.s.custom.fnRowDeselected;this.s.buttonSet=this.s.custom.aButtons},
"_fnButtonDefinations":function(buttonSet,wrapper){var buttonDef;for(var i=0,iLen=buttonSet.length;i<iLen;i++){if(typeof buttonSet[i]=="string"){if(typeof TableTools.BUTTONS[buttonSet[i]]=="undefined"){alert("TableTools: Warning - unknown button type: "+buttonSet[i]);continue}buttonDef=$.extend({},TableTools.BUTTONS[buttonSet[i]],true)}else{if(typeof TableTools.BUTTONS[buttonSet[i].sExtends]=="undefined"){alert("TableTools: Warning - unknown button type: "+buttonSet[i].sExtends);continue}var o=$.extend({},
TableTools.BUTTONS[buttonSet[i].sExtends],true);buttonDef=$.extend(o,buttonSet[i],true)}if(this.s.dt.bJUI){buttonDef.sButtonClass+=" ui-button ui-state-default";buttonDef.sButtonClassHover+=" ui-button ui-state-default ui-state-hover"}wrapper.appendChild(this._fnCreateButton(buttonDef))}},"_fnCreateButton":function(oConfig){var nButton=this._fnButtonBase(oConfig);if(oConfig.sAction=="print")this._fnPrintConfig(nButton,oConfig);else if(oConfig.sAction.match(/flash/))this._fnFlashConfig(nButton,oConfig);
else if(oConfig.sAction=="text")this._fnTextConfig(nButton,oConfig);else if(oConfig.sAction=="collection"){this._fnTextConfig(nButton,oConfig);this._fnCollectionConfig(nButton,oConfig)}return nButton},"_fnButtonBase":function(o){var nButton=document.createElement("button"),nSpan=document.createElement("span"),masterS=this._fnGetMasterSettings();nButton.className="DTTT_button "+o.sButtonClass;nButton.setAttribute("id","ToolTables_"+this.s.dt.sInstance+"_"+masterS.buttonCounter);nButton.appendChild(nSpan);
nSpan.innerHTML=o.sButtonText;masterS.buttonCounter++;return nButton},"_fnGetMasterSettings":function(){if(this.s.master)return this.s;else{var instances=TableTools._aInstances;for(var i=0,iLen=instances.length;i<iLen;i++)if(this.dom.table==instances[i].s.dt.nTable)return instances[i].s}},"_fnCollectionConfig":function(nButton,oConfig){var nHidden=document.createElement("div");nHidden.style.display="none";nHidden.className=!this.s.dt.bJUI?"DTTT_collection":"DTTT_collection ui-buttonset ui-buttonset-multi";
oConfig._collection=nHidden;this._fnButtonDefinations(oConfig.aButtons,nHidden)},"_fnCollectionShow":function(nButton,oConfig){var that=this,oPos=$(nButton).offset(),nHidden=oConfig._collection,iDivX=oPos.left,iDivY=oPos.top+$(nButton).outerHeight(),iWinHeight=$(window).height(),iDocHeight=$(document).height(),iWinWidth=$(window).width(),iDocWidth=$(document).width();nHidden.style.position="absolute";nHidden.style.left=iDivX+"px";nHidden.style.top=iDivY+"px";nHidden.style.display="block";$(nHidden).css("opacity",
0);var nBackground=document.createElement("div");nBackground.style.position="absolute";nBackground.style.left="0px";nBackground.style.top="0px";nBackground.style.height=(iWinHeight>iDocHeight?iWinHeight:iDocHeight)+"px";nBackground.style.width=(iWinWidth>iDocWidth?iWinWidth:iDocWidth)+"px";nBackground.className="DTTT_collection_background";$(nBackground).css("opacity",0);document.body.appendChild(nBackground);document.body.appendChild(nHidden);var iDivWidth=$(nHidden).outerWidth();var iDivHeight=
$(nHidden).outerHeight();if(iDivX+iDivWidth>iDocWidth)nHidden.style.left=iDocWidth-iDivWidth+"px";if(iDivY+iDivHeight>iDocHeight)nHidden.style.top=iDivY-iDivHeight-$(nButton).outerHeight()+"px";this.dom.collection.collection=nHidden;this.dom.collection.background=nBackground;setTimeout(function(){$(nHidden).animate({"opacity":1},500);$(nBackground).animate({"opacity":.25},500)},10);$(nBackground).click(function(){that._fnCollectionHide.call(that,null,null)})},"_fnCollectionHide":function(nButton,
oConfig){if(oConfig!==null&&oConfig.sExtends=="collection")return;if(this.dom.collection.collection!==null){$(this.dom.collection.collection).animate({"opacity":0},500,function(e){this.style.display="none"});$(this.dom.collection.background).animate({"opacity":0},500,function(e){this.parentNode.removeChild(this)});this.dom.collection.collection=null;this.dom.collection.background=null}},"_fnRowSelectConfig":function(){if(this.s.master){var that=this,i,iLen,aoOpenRows=this.s.dt.aoOpenRows;$(that.s.dt.nTable).addClass("DTTT_selectable");
$("tr",that.s.dt.nTBody).live("click",function(e){if(this.parentNode!=that.s.dt.nTBody)return;for(i=0,iLen=aoOpenRows.length;i<iLen;i++)if(this==aoOpenRows[i].nTr)return;if(that.s.select.preRowSelect!==null&&!that.s.select.preRowSelect.call(that,e))return;if(that.s.select.type=="single")that._fnRowSelectSingle.call(that,this);else that._fnRowSelectMulti.call(that,this)});that.s.dt.aoDrawCallback.push({"fn":function(){if(that.s.select.all&&that.s.dt.oFeatures.bServerSide)that.fnSelectAll()},"sName":"TableTools_select"})}},
"_fnRowSelectSingle":function(nNode){if(this.s.master){if($("td",nNode).hasClass(this.s.dt.oClasses.sRowEmpty))return;if($(nNode).hasClass("DTTT_selected"))this._fnRowDeselect(nNode);else{if(this.s.select.selected.length!==0)this._fnRowDeselectAll();this.s.select.selected.push(nNode);$(nNode).addClass("DTTT_selected");if(this.s.select.postSelected!==null)this.s.select.postSelected.call(this,nNode)}TableTools._fnEventDispatch(this,"select",nNode)}},"_fnRowSelectMulti":function(nNode){if(this.s.master){if($("td",
nNode).hasClass(this.s.dt.oClasses.sRowEmpty))return;if($(nNode).hasClass("DTTT_selected"))this._fnRowDeselect(nNode);else{this.s.select.selected.push(nNode);$(nNode).addClass("DTTT_selected");if(this.s.select.postSelected!==null)this.s.select.postSelected.call(this,nNode)}TableTools._fnEventDispatch(this,"select",nNode)}},"_fnRowSelectAll":function(){if(this.s.master){var n;for(var i=0,iLen=this.s.dt.aiDisplayMaster.length;i<iLen;i++){n=this.s.dt.aoData[this.s.dt.aiDisplayMaster[i]].nTr;if(!$(n).hasClass("DTTT_selected")){this.s.select.selected.push(n);
$(n).addClass("DTTT_selected")}}this.s.select.all=true;TableTools._fnEventDispatch(this,"select",null)}},"_fnRowDeselectAll":function(){if(this.s.master){for(var i=this.s.select.selected.length-1;i>=0;i--)this._fnRowDeselect(i);this.s.select.all=false;TableTools._fnEventDispatch(this,"select",null)}},"_fnRowDeselect":function(i){if(typeof i.nodeName!="undefined")i=$.inArray(i,this.s.select.selected);var nNode=this.s.select.selected[i];$(nNode).removeClass("DTTT_selected");this.s.select.selected.splice(i,
1);if(this.s.select.postDeselected!==null)this.s.select.postDeselected.call(this,nNode);this.s.select.all=false},"_fnTextConfig":function(nButton,oConfig){var that=this;if(oConfig.fnInit!==null)oConfig.fnInit.call(this,nButton,oConfig);if(oConfig.sToolTip!="")nButton.title=oConfig.sToolTip;$(nButton).hover(function(){$(nButton).removeClass(oConfig.sButtonClass).addClass(oConfig.sButtonClassHover);if(oConfig.fnMouseover!==null)oConfig.fnMouseover.call(this,nButton,oConfig,null)},function(){$(nButton).removeClass(oConfig.sButtonClassHover).addClass(oConfig.sButtonClass);
if(oConfig.fnMouseout!==null)oConfig.fnMouseout.call(this,nButton,oConfig,null)});if(oConfig.fnSelect!==null)TableTools._fnEventListen(this,"select",function(n){oConfig.fnSelect.call(that,nButton,oConfig,n)});$(nButton).click(function(e){e.preventDefault();if(oConfig.fnClick!==null)oConfig.fnClick.call(that,nButton,oConfig,null);if(oConfig.fnComplete!==null)oConfig.fnComplete.call(that,nButton,oConfig,null,null);that._fnCollectionHide(nButton,oConfig)})},"_fnFlashConfig":function(nButton,oConfig){var that=
this;var flash=new ZeroClipboard.Client;if(oConfig.fnInit!==null)oConfig.fnInit.call(this,nButton,oConfig);flash.setHandCursor(true);if(oConfig.sAction=="flash_save"){flash.setAction("save");flash.setCharSet(oConfig.sCharSet=="utf16le"?"UTF16LE":"UTF8");flash.setBomInc(oConfig.bBomInc);flash.setFileName(oConfig.sFileName.replace("*",this.fnGetTitle(oConfig)))}else if(oConfig.sAction=="flash_pdf"){flash.setAction("pdf");flash.setFileName(oConfig.sFileName.replace("*",this.fnGetTitle(oConfig)))}else flash.setAction("copy");
flash.addEventListener("mouseOver",function(client){$(nButton).removeClass(oConfig.sButtonClass).addClass(oConfig.sButtonClassHover);if(oConfig.fnMouseover!==null)oConfig.fnMouseover.call(that,nButton,oConfig,flash)});flash.addEventListener("mouseOut",function(client){$(nButton).removeClass(oConfig.sButtonClassHover).addClass(oConfig.sButtonClass);if(oConfig.fnMouseout!==null)oConfig.fnMouseout.call(that,nButton,oConfig,flash)});flash.addEventListener("mouseDown",function(client){if(oConfig.fnClick!==
null)oConfig.fnClick.call(that,nButton,oConfig,flash)});flash.addEventListener("complete",function(client,text){if(oConfig.fnComplete!==null)oConfig.fnComplete.call(that,nButton,oConfig,flash,text);that._fnCollectionHide(nButton,oConfig)});this._fnFlashGlue(flash,nButton,oConfig.sToolTip)},"_fnFlashGlue":function(flash,node,text){var that=this;var id=node.getAttribute("id");if(document.getElementById(id))flash.glue(node,text);else setTimeout(function(){that._fnFlashGlue(flash,node,text)},100)},"_fnFlashSetText":function(clip,
sData){var asData=this._fnChunkData(sData,8192);clip.clearText();for(var i=0,iLen=asData.length;i<iLen;i++)clip.appendText(asData[i])},"_fnColumnTargets":function(mColumns){var aColumns=[];var dt=this.s.dt;if(typeof mColumns=="object"){for(i=0,iLen=dt.aoColumns.length;i<iLen;i++)aColumns.push(false);for(i=0,iLen=mColumns.length;i<iLen;i++)aColumns[mColumns[i]]=true}else if(mColumns=="visible")for(i=0,iLen=dt.aoColumns.length;i<iLen;i++)aColumns.push(dt.aoColumns[i].bVisible?true:false);else if(mColumns==
"hidden")for(i=0,iLen=dt.aoColumns.length;i<iLen;i++)aColumns.push(dt.aoColumns[i].bVisible?false:true);else for(i=0,iLen=dt.aoColumns.length;i<iLen;i++)aColumns.push(true);return aColumns},"_fnNewline":function(oConfig){if(oConfig.sNewLine=="auto")return navigator.userAgent.match(/Windows/)?"\r\n":"\n";else return oConfig.sNewLine},"_fnGetDataTablesData":function(oConfig){var i,iLen,j,jLen;var sData="",sLoopData="";var dt=this.s.dt;var regex=new RegExp(oConfig.sFieldBoundary,"g");var aColumnsInc=
this._fnColumnTargets(oConfig.mColumns);var sNewline=this._fnNewline(oConfig);if(oConfig.bHeader){for(i=0,iLen=dt.aoColumns.length;i<iLen;i++)if(aColumnsInc[i]){sLoopData=dt.aoColumns[i].sTitle.replace(/\n/g," ").replace(/<.*?>/g,"");sLoopData=this._fnHtmlDecode(sLoopData);sData+=this._fnBoundData(sLoopData,oConfig.sFieldBoundary,regex)+oConfig.sFieldSeperator}sData=sData.slice(0,oConfig.sFieldSeperator.length*-1);sData+=sNewline}for(j=0,jLen=dt.aiDisplay.length;j<jLen;j++){for(i=0,iLen=dt.aoColumns.length;i<
iLen;i++)if(aColumnsInc[i]){var mTypeData=dt.aoData[dt.aiDisplay[j]]._aData[i];if(typeof mTypeData=="string"){sLoopData=mTypeData.replace(/\n/g," ");sLoopData=sLoopData.replace(/<img.*?\s+alt\s*=\s*(?:"([^"]+)"|'([^']+)'|([^\s>]+)).*?>/gi,"$1$2$3");sLoopData=sLoopData.replace(/<.*?>/g,"")}else sLoopData=mTypeData+"";sLoopData=sLoopData.replace(/^\s+/,"").replace(/\s+$/,"");sLoopData=this._fnHtmlDecode(sLoopData);sData+=this._fnBoundData(sLoopData,oConfig.sFieldBoundary,regex)+oConfig.sFieldSeperator}sData=
sData.slice(0,oConfig.sFieldSeperator.length*-1);sData+=sNewline}sData.slice(0,-1);if(oConfig.bFooter){for(i=0,iLen=dt.aoColumns.length;i<iLen;i++)if(aColumnsInc[i]&&dt.aoColumns[i].nTf!==null){sLoopData=dt.aoColumns[i].nTf.innerHTML.replace(/\n/g," ").replace(/<.*?>/g,"");sLoopData=this._fnHtmlDecode(sLoopData);sData+=this._fnBoundData(sLoopData,oConfig.sFieldBoundary,regex)+oConfig.sFieldSeperator}sData=sData.slice(0,oConfig.sFieldSeperator.length*-1)}_sLastData=sData;return sData},"_fnBoundData":function(sData,
sBoundary,regex){if(sBoundary==="")return sData;else return sBoundary+sData.replace(regex,"\\"+sBoundary)+sBoundary},"_fnChunkData":function(sData,iSize){var asReturn=[];var iStrlen=sData.length;for(var i=0;i<iStrlen;i+=iSize)if(i+iSize<iStrlen)asReturn.push(sData.substring(i,i+iSize));else asReturn.push(sData.substring(i,iStrlen));return asReturn},"_fnHtmlDecode":function(sData){if(sData.indexOf("\x26")==-1)return sData;var aData=this._fnChunkData(sData,2048),n=document.createElement("div"),i,iLen,
iIndex,sReturn="",sInner;for(i=0,iLen=aData.length;i<iLen;i++){iIndex=aData[i].lastIndexOf("\x26");if(iIndex!=-1&&aData[i].length>=8&&iIndex>aData[i].length-8){sInner=aData[i].substr(iIndex);aData[i]=aData[i].substr(0,iIndex)}n.innerHTML=aData[i];sReturn+=n.childNodes[0].nodeValue}return sReturn},"_fnPrintConfig":function(nButton,oConfig){var that=this;if(oConfig.fnInit!==null)oConfig.fnInit.call(this,nButton,oConfig);$(nButton).hover(function(){$(nButton).removeClass(oConfig.sButtonClass).addClass(oConfig.sButtonClassHover)},
function(){$(nButton).removeClass(oConfig.sButtonClassHover).addClass(oConfig.sButtonClass)});if(oConfig.fnSelect!==null)TableTools._fnEventListen(this,"select",function(n){oConfig.fnSelect.call(that,nButton,oConfig,n)});$(nButton).click(function(e){e.preventDefault();that._fnPrintStart.call(that,e,oConfig);if(oConfig.fnClick!==null)oConfig.fnClick.call(that,nButton,oConfig,null);if(oConfig.fnComplete!==null)oConfig.fnComplete.call(that,nButton,oConfig,null,null);that._fnCollectionHide(nButton,oConfig)})},
"_fnPrintStart":function(e,oConfig){var that=this;var oSetDT=this.s.dt;this._fnPrintHideNodes(oSetDT.nTable);this.s.print.saveStart=oSetDT._iDisplayStart;this.s.print.saveLength=oSetDT._iDisplayLength;if(oConfig.bShowAll){oSetDT._iDisplayStart=0;oSetDT._iDisplayLength=-1;oSetDT.oApi._fnCalculateEnd(oSetDT);oSetDT.oApi._fnDraw(oSetDT)}if(oSetDT.oScroll.sX!==""||oSetDT.oScroll.sY!=="")this._fnPrintScrollStart(oSetDT);var anFeature=oSetDT.aanFeatures;for(var cFeature in anFeature)if(cFeature!="i"&&cFeature!=
"t"&&cFeature.length==1)for(var i=0,iLen=anFeature[cFeature].length;i<iLen;i++){this.dom.print.hidden.push({"node":anFeature[cFeature][i],"display":"block"});anFeature[cFeature][i].style.display="none"}$(document.body).addClass("DTTT_Print");if(oConfig.sInfo!==""){var nInfo=document.createElement("div");nInfo.className="DTTT_print_info";nInfo.innerHTML=oConfig.sInfo;document.body.appendChild(nInfo);setTimeout(function(){$(nInfo).fadeOut("normal",function(){document.body.removeChild(nInfo)})},2E3)}if(oConfig.sMessage!==
""){this.dom.print.message=document.createElement("div");this.dom.print.message.className="DTTT_PrintMessage";this.dom.print.message.innerHTML=oConfig.sMessage;document.body.insertBefore(this.dom.print.message,document.body.childNodes[0])}this.s.print.saveScroll=$(window).scrollTop();window.scrollTo(0,0);this.s.print.funcEnd=function(e){that._fnPrintEnd.call(that,e)};$(document).bind("keydown",null,this.s.print.funcEnd)},"_fnPrintEnd":function(e){if(e.keyCode==27){e.preventDefault();var that=this;
var oSetDT=this.s.dt;var oSetPrint=this.s.print;var oDomPrint=this.dom.print;this._fnPrintShowNodes();if(oSetDT.oScroll.sX!==""||oSetDT.oScroll.sY!=="")this._fnPrintScrollEnd();window.scrollTo(0,oSetPrint.saveScroll);if(oDomPrint.message!==null){document.body.removeChild(oDomPrint.message);oDomPrint.message=null}$(document.body).removeClass("DTTT_Print");oSetDT._iDisplayStart=oSetPrint.saveStart;oSetDT._iDisplayLength=oSetPrint.saveLength;oSetDT.oApi._fnCalculateEnd(oSetDT);oSetDT.oApi._fnDraw(oSetDT);
$(document).unbind("keydown",this.s.print.funcEnd);this.s.print.funcEnd=null}},"_fnPrintScrollStart":function(){var oSetDT=this.s.dt,nScrollHeadInner=oSetDT.nScrollHead.getElementsByTagName("div")[0],nScrollHeadTable=nScrollHeadInner.getElementsByTagName("table")[0],nScrollBody=oSetDT.nTable.parentNode;var nTheadSize=oSetDT.nTable.getElementsByTagName("thead");if(nTheadSize.length>0)oSetDT.nTable.removeChild(nTheadSize[0]);if(oSetDT.nTFoot!==null){var nTfootSize=oSetDT.nTable.getElementsByTagName("tfoot");
if(nTfootSize.length>0)oSetDT.nTable.removeChild(nTfootSize[0])}nTheadSize=oSetDT.nTHead.cloneNode(true);oSetDT.nTable.insertBefore(nTheadSize,oSetDT.nTable.childNodes[0]);if(oSetDT.nTFoot!==null){nTfootSize=oSetDT.nTFoot.cloneNode(true);oSetDT.nTable.insertBefore(nTfootSize,oSetDT.nTable.childNodes[1])}if(oSetDT.oScroll.sX!==""){oSetDT.nTable.style.width=$(oSetDT.nTable).outerWidth()+"px";nScrollBody.style.width=$(oSetDT.nTable).outerWidth()+"px";nScrollBody.style.overflow="visible"}if(oSetDT.oScroll.sY!==
""){nScrollBody.style.height=$(oSetDT.nTable).outerHeight()+"px";nScrollBody.style.overflow="visible"}},"_fnPrintScrollEnd":function(){var oSetDT=this.s.dt,nScrollBody=oSetDT.nTable.parentNode;if(oSetDT.oScroll.sX!==""){nScrollBody.style.width=oSetDT.oApi._fnStringToCss(oSetDT.oScroll.sX);nScrollBody.style.overflow="auto"}if(oSetDT.oScroll.sY!==""){nScrollBody.style.height=oSetDT.oApi._fnStringToCss(oSetDT.oScroll.sY);nScrollBody.style.overflow="auto"}},"_fnPrintShowNodes":function(){var anHidden=
this.dom.print.hidden;for(var i=0,iLen=anHidden.length;i<iLen;i++)anHidden[i].node.style.display=anHidden[i].display;anHidden.splice(0,anHidden.length)},"_fnPrintHideNodes":function(nNode){var anHidden=this.dom.print.hidden;var nParent=nNode.parentNode;var nChildren=nParent.childNodes;for(var i=0,iLen=nChildren.length;i<iLen;i++)if(nChildren[i]!=nNode&&nChildren[i].nodeType==1){var sDisplay=$(nChildren[i]).css("display");if(sDisplay!="none"){anHidden.push({"node":nChildren[i],"display":sDisplay});
nChildren[i].style.display="none"}}if(nParent.nodeName!="BODY")this._fnPrintHideNodes(nParent)}};TableTools._aInstances=[];TableTools._aListeners=[];TableTools.fnGetMasters=function(){var a=[];for(var i=0,iLen=TableTools._aInstances.length;i<iLen;i++)if(TableTools._aInstances[i].s.master)a.push(TableTools._aInstances[i].s);return a};TableTools.fnGetInstance=function(node){if(typeof node!="object")node=document.getElementById(node);for(var i=0,iLen=TableTools._aInstances.length;i<iLen;i++)if(TableTools._aInstances[i].s.master&&
TableTools._aInstances[i].dom.table==node)return TableTools._aInstances[i];return null};TableTools._fnEventListen=function(that,type,fn){TableTools._aListeners.push({"that":that,"type":type,"fn":fn})};TableTools._fnEventDispatch=function(that,type,node){var listeners=TableTools._aListeners;for(var i=0,iLen=listeners.length;i<iLen;i++)if(that.dom.table==listeners[i].that.dom.table&&listeners[i].type==type)listeners[i].fn(node)};TableTools.BUTTONS={"csv":{"sAction":"flash_save","sCharSet":"utf8","bBomInc":false,
"sFileName":"*.csv","sFieldBoundary":"'","sFieldSeperator":",","sNewLine":"auto","sTitle":"","sToolTip":"","sButtonClass":"DTTT_button_csv","sButtonClassHover":"DTTT_button_csv_hover","sButtonText":"CSV","mColumns":"all","bHeader":true,"bFooter":true,"fnMouseover":null,"fnMouseout":null,"fnClick":function(nButton,oConfig,flash){this.fnSetText(flash,this.fnGetTableData(oConfig))},"fnSelect":null,"fnComplete":null,"fnInit":null},"xls":{"sAction":"flash_save","sCharSet":"utf16le","bBomInc":true,"sFileName":"*.csv",
"sFieldBoundary":"","sFieldSeperator":"\t","sNewLine":"auto","sTitle":"","sToolTip":"","sButtonClass":"DTTT_button_xls","sButtonClassHover":"DTTT_button_xls_hover","sButtonText":"Excel","mColumns":"all","bHeader":true,"bFooter":true,"fnMouseover":null,"fnMouseout":null,"fnClick":function(nButton,oConfig,flash){this.fnSetText(flash,this.fnGetTableData(oConfig))},"fnSelect":null,"fnComplete":null,"fnInit":null},"copy":{"sAction":"flash_copy","sFieldBoundary":"","sFieldSeperator":"\t","sNewLine":"auto",
"sToolTip":"","sButtonClass":"DTTT_button_copy","sButtonClassHover":"DTTT_button_copy_hover","sButtonText":"Copy","mColumns":"all","bHeader":true,"bFooter":true,"fnMouseover":null,"fnMouseout":null,"fnClick":function(nButton,oConfig,flash){this.fnSetText(flash,this.fnGetTableData(oConfig))},"fnSelect":null,"fnComplete":function(nButton,oConfig,flash,text){var len=text.split("\n").length-1,plural=len==1?"":"s";alert("Copied "+len+" row"+plural+" to the clipboard")},"fnInit":null},"pdf":{"sAction":"flash_pdf",
"sFieldBoundary":"","sFieldSeperator":"\t","sNewLine":"\n","sFileName":"*.pdf","sToolTip":"","sTitle":"","sButtonClass":"DTTT_button_pdf","sButtonClassHover":"DTTT_button_pdf_hover","sButtonText":"PDF","mColumns":"all","bHeader":true,"bFooter":true,"fnMouseover":null,"fnMouseout":null,"fnClick":function(nButton,oConfig,flash){this.fnSetText(flash,"title:"+this.fnGetTitle(oConfig)+"\n"+"colWidth:"+this.fnCalcColRatios(oConfig)+"\n"+"--/TableToolsOpts--\n"+this.fnGetTableData(oConfig))},"fnSelect":null,
"fnComplete":null,"fnInit":null},"print":{"sAction":"print","sInfo":"\x3ch6\x3ePrint view\x3c/h6\x3e\x3cp\x3ePlease use your browser's print function to "+"print this table. Press escape when finished.","sMessage":"","bShowAll":true,"sToolTip":"View print view","sButtonClass":"DTTT_button_print","sButtonClassHover":"DTTT_button_print_hover","sButtonText":"Print","fnMouseover":null,"fnMouseout":null,"fnClick":null,"fnSelect":null,"fnComplete":null,"fnInit":null},"text":{"sAction":"text","sToolTip":"",
"sButtonClass":"DTTT_button_text","sButtonClassHover":"DTTT_button_text_hover","sButtonText":"Text button","mColumns":"all","bHeader":true,"bFooter":true,"fnMouseover":null,"fnMouseout":null,"fnClick":null,"fnSelect":null,"fnComplete":null,"fnInit":null},"select":{"sAction":"text","sToolTip":"","sButtonClass":"DTTT_button_text","sButtonClassHover":"DTTT_button_text_hover","sButtonText":"Select button","mColumns":"all","bHeader":true,"bFooter":true,"fnMouseover":null,"fnMouseout":null,"fnClick":null,
"fnSelect":function(nButton,oConfig){if(this.fnGetSelected().length!==0)$(nButton).removeClass("DTTT_disabled");else $(nButton).addClass("DTTT_disabled")},"fnComplete":null,"fnInit":function(nButton,oConfig){$(nButton).addClass("DTTT_disabled")}},"select_single":{"sAction":"text","sToolTip":"","sButtonClass":"DTTT_button_text","sButtonClassHover":"DTTT_button_text_hover","sButtonText":"Select button","mColumns":"all","bHeader":true,"bFooter":true,"fnMouseover":null,"fnMouseout":null,"fnClick":null,
"fnSelect":function(nButton,oConfig){var iSelected=this.fnGetSelected().length;if(iSelected==1)$(nButton).removeClass("DTTT_disabled");else $(nButton).addClass("DTTT_disabled")},"fnComplete":null,"fnInit":function(nButton,oConfig){$(nButton).addClass("DTTT_disabled")}},"select_all":{"sAction":"text","sToolTip":"","sButtonClass":"DTTT_button_text","sButtonClassHover":"DTTT_button_text_hover","sButtonText":"Select all","mColumns":"all","bHeader":true,"bFooter":true,"fnMouseover":null,"fnMouseout":null,
"fnClick":function(nButton,oConfig){this.fnSelectAll()},"fnSelect":function(nButton,oConfig){if(this.fnGetSelected().length==this.s.dt.fnRecordsDisplay())$(nButton).addClass("DTTT_disabled");else $(nButton).removeClass("DTTT_disabled")},"fnComplete":null,"fnInit":null},"select_none":{"sAction":"text","sToolTip":"","sButtonClass":"DTTT_button_text","sButtonClassHover":"DTTT_button_text_hover","sButtonText":"Deselect all","mColumns":"all","bHeader":true,"bFooter":true,"fnMouseover":null,"fnMouseout":null,
"fnClick":function(nButton,oConfig){this.fnSelectNone()},"fnSelect":function(nButton,oConfig){if(this.fnGetSelected().length!==0)$(nButton).removeClass("DTTT_disabled");else $(nButton).addClass("DTTT_disabled")},"fnComplete":null,"fnInit":function(nButton,oConfig){$(nButton).addClass("DTTT_disabled")}},"ajax":{"sAction":"text","sFieldBoundary":"","sFieldSeperator":"\t","sAjaxUrl":"/xhr.php","sToolTip":"","sButtonClass":"DTTT_button_text","sButtonClassHover":"DTTT_button_text_hover","sButtonText":"Ajax button",
"mColumns":"all","bHeader":true,"bFooter":true,"fnMouseover":null,"fnMouseout":null,"fnClick":function(nButton,oConfig){var sData=this.fnGetTableData(oConfig);$.ajax({"url":oConfig.sAjaxUrl,"data":[{"name":"tableData","value":sData}],"success":oConfig.fnAjaxComplete,"dataType":"json","type":"POST","cache":false,"error":function(){alert("Error detected when sending table data to server")}})},"fnSelect":null,"fnComplete":null,"fnInit":null,"fnAjaxComplete":function(json){alert("Ajax complete")}},"collection":{"sAction":"collection",
"sToolTip":"","sButtonClass":"DTTT_button_collection","sButtonClassHover":"DTTT_button_collection_hover","sButtonText":"Collection","fnMouseover":null,"fnMouseout":null,"fnClick":function(nButton,oConfig){this._fnCollectionShow(nButton,oConfig)},"fnSelect":null,"fnComplete":null,"fnInit":null}};TableTools.DEFAULTS={"sSwfPath":"media/swf/copy_cvs_xls_pdf.swf","sRowSelect":"none","fnPreRowSelect":null,"fnRowSelected":null,"fnRowDeselected":null,"aButtons":["copy","csv","xls","pdf","print"]};TableTools.prototype.CLASS=
"TableTools";TableTools.VERSION="2.0.0";TableTools.prototype.VERSION=TableTools.VERSION;if(typeof $.fn.dataTable=="function"&&typeof $.fn.dataTableExt.fnVersionCheck=="function"&&$.fn.dataTableExt.fnVersionCheck("1.7.0"))$.fn.dataTableExt.aoFeatures.push({"fnInit":function(oDTSettings){var oOpts=typeof oDTSettings.oInit.oTableTools!="undefined"?oDTSettings.oInit.oTableTools:{};var oTT=new TableTools(oDTSettings.oInstance,oOpts);TableTools._aInstances.push(oTT);return oTT.dom.container},"cFeature":"T",
"sFeature":"TableTools"});else alert("Warning: TableTools 2 requires DataTables 1.7 or greater - www.datatables.net/download")})(jQuery,window,document);
var ZeroClipboard={version:"1.0.4-mod",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,$:function(thingy){if(typeof thingy=="string")thingy=document.getElementById(thingy);if(!thingy.addClass){thingy.hide=function(){this.style.display="none"};thingy.show=function(){this.style.display=""};thingy.addClass=function(name){this.removeClass(name);this.className+=" "+name};thingy.removeClass=function(name){this.className=this.className.replace(new RegExp("\\s*"+name+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,
"")};thingy.hasClass=function(name){return!!this.className.match(new RegExp("\\s*"+name+"\\s*"))}}return thingy},setMoviePath:function(path){this.moviePath=path},dispatch:function(id,eventName,args){var client=this.clients[id];if(client)client.receiveEvent(eventName,args)},register:function(id,client){this.clients[id]=client},getDOMObjectPosition:function(obj){var info={left:0,top:0,width:obj.width?obj.width:obj.offsetWidth,height:obj.height?obj.height:obj.offsetHeight};if(obj.style.width!="")info.width=
obj.style.width.replace("px","");if(obj.style.height!="")info.height=obj.style.height.replace("px","");while(obj){info.left+=obj.offsetLeft;info.top+=obj.offsetTop;obj=obj.offsetParent}return info},Client:function(elem){this.handlers={};this.id=ZeroClipboard.nextId++;this.movieId="ZeroClipboardMovie_"+this.id;ZeroClipboard.register(this.id,this);if(elem)this.glue(elem)}};
ZeroClipboard.Client.prototype={id:0,ready:false,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:true,cssEffects:true,handlers:null,loadingTimer:null,glue:function(elem,title){this.domElement=ZeroClipboard.$(elem);var zIndex=99;if(this.domElement.style.zIndex)zIndex=parseInt(this.domElement.style.zIndex)+1;var box=ZeroClipboard.getDOMObjectPosition(this.domElement);this.div=document.createElement("div");var style=this.div.style;style.position="absolute";style.left=this.domElement.offsetLeft+
"px";style.top=this.domElement.offsetTop+"px";style.width=box.width+"px";style.height=box.height+"px";style.zIndex=zIndex;if(typeof title!="undefined"&&title!="")this.div.title=title;this.domElement.parentNode.appendChild(this.div);this.div.innerHTML=this.getHTML(box.width,box.height);this.loadingTimer=setTimeout(function(){throw"Unable to load SWF file - please check the SWF path";},1E4)},getHTML:function(width,height){var html="";var flashvars="id\x3d"+this.id+"\x26width\x3d"+width+"\x26height\x3d"+
height;if(navigator.userAgent.match(/MSIE/)){var protocol=location.href.match(/^https/i)?"https://":"http://";html+='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase\x3d"'+protocol+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version\x3d10,0,0,0" width\x3d"'+width+'" height\x3d"'+height+'" id\x3d"'+this.movieId+'" align\x3d"middle"\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"always" /\x3e\x3cparam name\x3d"allowFullScreen" value\x3d"false" /\x3e\x3cparam name\x3d"movie" value\x3d"'+
ZeroClipboard.moviePath+'" /\x3e\x3cparam name\x3d"loop" value\x3d"false" /\x3e\x3cparam name\x3d"menu" value\x3d"false" /\x3e\x3cparam name\x3d"quality" value\x3d"best" /\x3e\x3cparam name\x3d"bgcolor" value\x3d"#ffffff" /\x3e\x3cparam name\x3d"flashvars" value\x3d"'+flashvars+'"/\x3e\x3cparam name\x3d"wmode" value\x3d"transparent"/\x3e\x3c/object\x3e'}else html+='\x3cembed id\x3d"'+this.movieId+'" src\x3d"'+ZeroClipboard.moviePath+'" loop\x3d"false" menu\x3d"false" quality\x3d"best" bgcolor\x3d"#ffffff" width\x3d"'+
width+'" height\x3d"'+height+'" name\x3d"'+this.movieId+'" align\x3d"middle" allowScriptAccess\x3d"always" allowFullScreen\x3d"false" type\x3d"application/x-shockwave-flash" pluginspage\x3d"http://www.macromedia.com/go/getflashplayer" flashvars\x3d"'+flashvars+'" wmode\x3d"transparent" /\x3e';return html},hide:function(){if(this.div)this.div.style.left="-2000px"},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide();this.div.innerHTML="";var body=document.getElementsByTagName("body")[0];
try{body.removeChild(this.div)}catch(e){}this.domElement=null;this.div=null}},reposition:function(elem){if(elem){this.domElement=ZeroClipboard.$(elem);if(!this.domElement)this.hide()}if(this.domElement&&this.div){var box=ZeroClipboard.getDOMObjectPosition(this.domElement);var style=this.div.style;style.left=""+box.left+"px";style.top=""+box.top+"px"}},clearText:function(){this.clipText="";if(this.ready)this.movie.clearText()},appendText:function(newText){this.clipText+=newText;if(this.ready)this.movie.appendText(newText)},
setText:function(newText){this.clipText=newText;if(this.ready)this.movie.setText(newText)},setCharSet:function(charSet){this.charSet=charSet;if(this.ready)this.movie.setCharSet(charSet)},setBomInc:function(bomInc){this.incBom=bomInc;if(this.ready)this.movie.setBomInc(bomInc)},setFileName:function(newText){this.fileName=newText;if(this.ready)this.movie.setFileName(newText)},setAction:function(newText){this.action=newText;if(this.ready)this.movie.setAction(newText)},addEventListener:function(eventName,
func){eventName=eventName.toString().toLowerCase().replace(/^on/,"");if(!this.handlers[eventName])this.handlers[eventName]=[];this.handlers[eventName].push(func)},setHandCursor:function(enabled){this.handCursorEnabled=enabled;if(this.ready)this.movie.setHandCursor(enabled)},setCSSEffects:function(enabled){this.cssEffects=!!enabled},receiveEvent:function(eventName,args){eventName=eventName.toString().toLowerCase().replace(/^on/,"");if(this.loadingTimer!==null){clearTimeout(this.loadingTimer);this.loadingTimer=
null}switch(eventName){case "load":this.movie=document.getElementById(this.movieId);if(!this.movie){var self=this;setTimeout(function(){self.receiveEvent("load",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var self=this;setTimeout(function(){self.receiveEvent("load",null)},100);this.ready=true;return}this.ready=true;this.movie.clearText();this.movie.appendText(this.clipText);this.movie.setFileName(this.fileName);this.movie.setAction(this.action);
this.movie.setCharSet(this.charSet);this.movie.setBomInc(this.incBom);this.movie.setHandCursor(this.handCursorEnabled);break;case "mouseover":if(this.domElement&&this.cssEffects)if(this.recoverActive)this.domElement.addClass("active");break;case "mouseout":if(this.domElement&&this.cssEffects){this.recoverActive=false;if(this.domElement.hasClass("active")){this.domElement.removeClass("active");this.recoverActive=true}}break;case "mousedown":if(this.domElement&&this.cssEffects)this.domElement.addClass("active");
break;case "mouseup":if(this.domElement&&this.cssEffects){this.domElement.removeClass("active");this.recoverActive=false}break}if(this.handlers[eventName])for(var idx=0,len=this.handlers[eventName].length;idx<len;idx++){var func=this.handlers[eventName][idx];if(typeof func=="function")func(this,args);else if(typeof func=="object"&&func.length==2)func[0][func[1]](this,args);else if(typeof func=="string")window[func](this,args)}}};"use strict";
(function(){if(jQuery&&jQuery.jstree)return;var is_ie6=false,is_ie7=false,is_ff2=false;(function($){$.vakata={};$.vakata.css={get_css:function(rule_name,delete_flag,sheet){rule_name=rule_name.toLowerCase();var css_rules=sheet.cssRules||sheet.rules,j=0;do{if(css_rules.length&&j>css_rules.length+5)return false;if(css_rules[j].selectorText&&css_rules[j].selectorText.toLowerCase()==rule_name)if(delete_flag===true){if(sheet.removeRule)sheet.removeRule(j);if(sheet.deleteRule)sheet.deleteRule(j);return true}else return css_rules[j]}while(css_rules[++j]);
return false},add_css:function(rule_name,sheet){if($.jstree.css.get_css(rule_name,false,sheet))return false;if(sheet.insertRule)sheet.insertRule(rule_name+" { }",0);else sheet.addRule(rule_name,null,0);return $.vakata.css.get_css(rule_name)},remove_css:function(rule_name,sheet){return $.vakata.css.get_css(rule_name,true,sheet)},add_sheet:function(opts){var tmp=false,is_new=true;if(opts.str){if(opts.title)tmp=$("style[id\x3d'"+opts.title+"-stylesheet']")[0];if(tmp)is_new=false;else{tmp=document.createElement("style");
tmp.setAttribute("type","text/css");if(opts.title)tmp.setAttribute("id",opts.title+"-stylesheet")}if(tmp.styleSheet)if(is_new){document.getElementsByTagName("head")[0].appendChild(tmp);tmp.styleSheet.cssText=opts.str}else tmp.styleSheet.cssText=tmp.styleSheet.cssText+" "+opts.str;else{tmp.appendChild(document.createTextNode(opts.str));document.getElementsByTagName("head")[0].appendChild(tmp)}return tmp.sheet||tmp.styleSheet}if(opts.url)if(document.createStyleSheet)try{tmp=document.createStyleSheet(opts.url)}catch(e){}else{tmp=
document.createElement("link");tmp.rel="stylesheet";tmp.type="text/css";tmp.media="all";tmp.href=opts.url;document.getElementsByTagName("head")[0].appendChild(tmp);return tmp.styleSheet}}};var instances=[],focused_instance=-1,plugins={},prepared_move={};$.fn.jstree=function(settings){var isMethodCall=typeof settings=="string",args=Array.prototype.slice.call(arguments,1),returnValue=this;if(isMethodCall){if(settings.substring(0,1)=="_")return returnValue;this.each(function(){var instance=instances[$.data(this,
"jstree_instance_id")],methodValue=instance&&$.isFunction(instance[settings])?instance[settings].apply(instance,args):instance;if(typeof methodValue!=="undefined"&&(settings.indexOf("is_")===0||methodValue!==true&&methodValue!==false)){returnValue=methodValue;return false}})}else this.each(function(){var instance_id=$.data(this,"jstree_instance_id"),a=[],b=settings?$.extend({},true,settings):{},c=$(this),s=false,t=[];a=a.concat(args);if(c.data("jstree"))a.push(c.data("jstree"));b=a.length?$.extend.apply(null,
[true,b].concat(a)):b;if(typeof instance_id!=="undefined"&&instances[instance_id])instances[instance_id].destroy();instance_id=parseInt(instances.push({}),10)-1;$.data(this,"jstree_instance_id",instance_id);b.plugins=$.isArray(b.plugins)?b.plugins:$.jstree.defaults.plugins.slice();b.plugins.unshift("core");b.plugins=b.plugins.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",");s=$.extend(true,{},$.jstree.defaults,b);s.plugins=b.plugins;$.each(plugins,
function(i,val){if($.inArray(i,s.plugins)===-1){s[i]=null;delete s[i]}else t.push(i)});s.plugins=t;instances[instance_id]=new $.jstree._instance(instance_id,$(this).addClass("jstree jstree-"+instance_id),s);$.each(instances[instance_id]._get_settings().plugins,function(i,val){instances[instance_id].data[val]={}});$.each(instances[instance_id]._get_settings().plugins,function(i,val){if(plugins[val])plugins[val].__init.apply(instances[instance_id])});setTimeout(function(){if(instances[instance_id])instances[instance_id].init()},
0)});return returnValue};$.jstree={defaults:{plugins:[]},_focused:function(){return instances[focused_instance]||null},_reference:function(needle){if(instances[needle])return instances[needle];var o=$(needle);if(!o.length&&typeof needle==="string")o=$("#"+needle);if(!o.length)return null;return instances[o.closest(".jstree").data("jstree_instance_id")]||null},_instance:function(index,container,settings){this.data={core:{}};this.get_settings=function(){return $.extend(true,{},settings)};this._get_settings=
function(){return settings};this.get_index=function(){return index};this.get_container=function(){return container};this.get_container_ul=function(){return container.children("ul:eq(0)")};this._set_settings=function(s){settings=$.extend(true,{},settings,s)}},_fn:{},plugin:function(pname,pdata){pdata=$.extend({},{__init:$.noop,__destroy:$.noop,_fn:{},defaults:false},pdata);plugins[pname]=pdata;$.jstree.defaults[pname]=pdata.defaults;$.each(pdata._fn,function(i,val){val.plugin=pname;val.old=$.jstree._fn[i];
$.jstree._fn[i]=function(){var rslt,func=val,args=Array.prototype.slice.call(arguments),evnt=new $.Event("before.jstree"),rlbk=false;if(this.data.core.locked===true&&i!=="unlock"&&i!=="is_locked")return;do{if(func&&func.plugin&&$.inArray(func.plugin,this._get_settings().plugins)!==-1)break;func=func.old}while(func);if(!func)return;if(i.indexOf("_")===0)rslt=func.apply(this,args);else{rslt=this.get_container().triggerHandler(evnt,{"func":i,"inst":this,"args":args,"plugin":func.plugin});if(rslt===false)return;
if(typeof rslt!=="undefined")args=rslt;rslt=func.apply($.extend({},this,{__callback:function(data){this.get_container().triggerHandler(i+".jstree",{"inst":this,"args":args,"rslt":data,"rlbk":rlbk})},__rollback:function(){rlbk=this.get_rollback();return rlbk},__call_old:function(replace_arguments){return func.old.apply(this,replace_arguments?Array.prototype.slice.call(arguments,1):args)}}),args)}return rslt};$.jstree._fn[i].old=val.old;$.jstree._fn[i].plugin=pname})},rollback:function(rb){if(rb){if(!$.isArray(rb))rb=
[rb];$.each(rb,function(i,val){instances[val.i].set_rollback(val.h,val.d)})}}};$.jstree._fn=$.jstree._instance.prototype={};$(function(){var u=navigator.userAgent.toLowerCase(),v=(u.match(/.+?(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],css_string=""+".jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } "+".jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } "+".jstree-rtl li { margin-left:0; margin-right:18px; } "+
".jstree \x3e ul \x3e li { margin-left:0px; } "+".jstree-rtl \x3e ul \x3e li { margin-right:0px; } "+".jstree ins { display:inline-block; text-decoration:none; width:18px; height:18px; margin:0 0 0 0; padding:0; } "+".jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; text-decoration:none; padding:1px 2px; margin:0; } "+".jstree a:focus { outline: none; } "+".jstree a \x3e ins { height:16px; width:16px; } "+".jstree a \x3e .jstree-icon { margin-right:3px; } "+
".jstree-rtl a \x3e .jstree-icon { margin-left:3px; margin-right:0; } "+"li.jstree-open \x3e ul { display:block; } "+"li.jstree-closed \x3e ul { display:none; } ";if(/msie/.test(u)&&parseInt(v,10)==6){is_ie6=true;try{document.execCommand("BackgroundImageCache",false,true)}catch(err){}css_string+=""+".jstree li { height:18px; margin-left:0; margin-right:0; } "+".jstree li li { margin-left:18px; } "+".jstree-rtl li li { margin-left:0px; margin-right:18px; } "+"li.jstree-open ul { display:block; } "+
"li.jstree-closed ul { display:none !important; } "+".jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } "+".jstree li a ins { height:16px; width:16px; margin-right:3px; } "+".jstree-rtl li a ins { margin-right:0px; margin-left:3px; } "}if(/msie/.test(u)&&parseInt(v,10)==7){is_ie7=true;css_string+=".jstree li a { border-width:0 !important; padding:0px 2px !important; } "}if(!/compatible/.test(u)&&/mozilla/.test(u)&&parseFloat(v,10)<1.9){is_ff2=true;css_string+=
""+".jstree ins { display:-moz-inline-box; } "+".jstree li { line-height:12px; } "+".jstree a { display:-moz-inline-box; } "+".jstree .jstree-no-icons .jstree-checkbox { display:-moz-inline-stack !important; } "}$.vakata.css.add_sheet({str:css_string,title:"jstree"})});$.jstree.plugin("core",{__init:function(){this.data.core.locked=false;this.data.core.to_open=this.get_settings().core.initially_open;this.data.core.to_load=this.get_settings().core.initially_load},defaults:{html_titles:false,animation:500,
initially_open:[],initially_load:[],open_parents:true,notify_plugins:true,rtl:false,load_open:false,strings:{loading:"Loading ...",new_node:"New node",multiple_selection:"Multiple selection"}},_fn:{init:function(){this.set_focus();if(this._get_settings().core.rtl)this.get_container().addClass("jstree-rtl").css("direction","rtl");this.get_container().html("\x3cul\x3e\x3cli class\x3d'jstree-last jstree-leaf'\x3e\x3cins\x3e\x26#160;\x3c/ins\x3e\x3ca class\x3d'jstree-loading' href\x3d'#'\x3e\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e"+
this._get_string("loading")+"\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e");this.data.core.li_height=this.get_container_ul().find("li.jstree-closed, li.jstree-leaf").eq(0).height()||18;this.get_container().delegate("li \x3e ins","click.jstree",$.proxy(function(event){var trgt=$(event.target);this.toggle_node(trgt)},this)).bind("mousedown.jstree",$.proxy(function(){this.set_focus()},this)).bind("dblclick.jstree",function(event){var sel;if(document.selection&&document.selection.empty)document.selection.empty();
else if(window.getSelection){sel=window.getSelection();try{sel.removeAllRanges();sel.collapse()}catch(err){}}});if(this._get_settings().core.notify_plugins)this.get_container().bind("load_node.jstree",$.proxy(function(e,data){var o=this._get_node(data.rslt.obj),t=this;if(o===-1)o=this.get_container_ul();if(!o.length)return;o.find("li").each(function(){var th=$(this);if(th.data("jstree"))$.each(th.data("jstree"),function(plugin,values){if(t.data[plugin]&&$.isFunction(t["_"+plugin+"_notify"]))t["_"+
plugin+"_notify"].call(t,th,values)})})},this));if(this._get_settings().core.load_open)this.get_container().bind("load_node.jstree",$.proxy(function(e,data){var o=this._get_node(data.rslt.obj),t=this;if(o===-1)o=this.get_container_ul();if(!o.length)return;o.find("li.jstree-open:not(:has(ul))").each(function(){t.load_node(this,$.noop,$.noop)})},this));this.__callback();this.load_node(-1,function(){this.loaded();this.reload_nodes()})},destroy:function(){var i,n=this.get_index(),s=this._get_settings(),
_this=this;$.each(s.plugins,function(i,val){try{plugins[val].__destroy.apply(_this)}catch(err){}});this.__callback();if(this.is_focused())for(i in instances)if(instances.hasOwnProperty(i)&&i!=n){instances[i].set_focus();break}if(n===focused_instance)focused_instance=-1;this.get_container().unbind(".jstree").undelegate(".jstree").removeData("jstree_instance_id").find("[class^\x3d'jstree']").andSelf().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")});$(document).unbind(".jstree-"+
n).undelegate(".jstree-"+n);instances[n]=null;delete instances[n]},_core_notify:function(n,data){if(data.opened)this.open_node(n,false,true)},lock:function(){this.data.core.locked=true;this.get_container().children("ul").addClass("jstree-locked").css("opacity","0.7");this.__callback({})},unlock:function(){this.data.core.locked=false;this.get_container().children("ul").removeClass("jstree-locked").css("opacity","1");this.__callback({})},is_locked:function(){return this.data.core.locked},save_opened:function(){var _this=
this;this.data.core.to_open=[];this.get_container_ul().find("li.jstree-open").each(function(){if(this.id)_this.data.core.to_open.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))});this.__callback(_this.data.core.to_open)},save_loaded:function(){},reload_nodes:function(is_callback){var _this=this,done=true,current=[],remaining=[];if(!is_callback){this.data.core.reopen=false;this.data.core.refreshing=
true;this.data.core.to_open=$.map($.makeArray(this.data.core.to_open),function(n){return"#"+n.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});this.data.core.to_load=$.map($.makeArray(this.data.core.to_load),function(n){return"#"+n.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});if(this.data.core.to_open.length)this.data.core.to_load=
this.data.core.to_load.concat(this.data.core.to_open)}if(this.data.core.to_load.length){$.each(this.data.core.to_load,function(i,val){if(val=="#")return true;if($(val).length)current.push(val);else remaining.push(val)});if(current.length){this.data.core.to_load=remaining;$.each(current,function(i,val){if(!_this._is_loaded(val)){_this.load_node(val,function(){_this.reload_nodes(true)},function(){_this.reload_nodes(true)});done=false}})}}if(this.data.core.to_open.length)$.each(this.data.core.to_open,
function(i,val){_this.open_node(val,false,true)});if(done){if(this.data.core.reopen)clearTimeout(this.data.core.reopen);this.data.core.reopen=setTimeout(function(){_this.__callback({},_this)},50);this.data.core.refreshing=false;this.reopen()}},reopen:function(){var _this=this;if(this.data.core.to_open.length)$.each(this.data.core.to_open,function(i,val){_this.open_node(val,false,true)});this.__callback({})},refresh:function(obj){var _this=this;this.save_opened();if(!obj)obj=-1;obj=this._get_node(obj);
if(!obj)obj=-1;if(obj!==-1)obj.children("UL").remove();else this.get_container_ul().empty();this.load_node(obj,function(){_this.__callback({"obj":obj});_this.reload_nodes()})},loaded:function(){this.__callback()},set_focus:function(){if(this.is_focused())return;var f=$.jstree._focused();if(f)f.unset_focus();this.get_container().addClass("jstree-focused");focused_instance=this.get_index();this.__callback()},is_focused:function(){return focused_instance==this.get_index()},unset_focus:function(){if(this.is_focused()){this.get_container().removeClass("jstree-focused");
focused_instance=-1}this.__callback()},_get_node:function(obj){var $obj=$(obj,this.get_container());if($obj.is(".jstree")||obj==-1)return-1;$obj=$obj.closest("li",this.get_container());return $obj.length?$obj:false},_get_next:function(obj,strict){obj=this._get_node(obj);if(obj===-1)return this.get_container().find("\x3e ul \x3e li:first-child");if(!obj.length)return false;if(strict)return obj.nextAll("li").size()>0?obj.nextAll("li:eq(0)"):false;if(obj.hasClass("jstree-open"))return obj.find("li:eq(0)");
else if(obj.nextAll("li").size()>0)return obj.nextAll("li:eq(0)");else return obj.parentsUntil(".jstree","li").next("li").eq(0)},_get_prev:function(obj,strict){obj=this._get_node(obj);if(obj===-1)return this.get_container().find("\x3e ul \x3e li:last-child");if(!obj.length)return false;if(strict)return obj.prevAll("li").length>0?obj.prevAll("li:eq(0)"):false;if(obj.prev("li").length){obj=obj.prev("li").eq(0);while(obj.hasClass("jstree-open"))obj=obj.children("ul:eq(0)").children("li:last");return obj}else{var o=
obj.parentsUntil(".jstree","li:eq(0)");return o.length?o:false}},_get_parent:function(obj){obj=this._get_node(obj);if(obj==-1||!obj.length)return false;var o=obj.parentsUntil(".jstree","li:eq(0)");return o.length?o:-1},_get_children:function(obj){obj=this._get_node(obj);if(obj===-1)return this.get_container().children("ul:eq(0)").children("li");if(!obj.length)return false;return obj.children("ul:eq(0)").children("li")},get_path:function(obj,id_mode){var p=[],_this=this;obj=this._get_node(obj);if(obj===
-1||!obj||!obj.length)return false;obj.parentsUntil(".jstree","li").each(function(){p.push(id_mode?this.id:_this.get_text(this))});p.reverse();p.push(id_mode?obj.attr("id"):this.get_text(obj));return p},_get_string:function(key){return this._get_settings().core.strings[key]||key},is_open:function(obj){obj=this._get_node(obj);return obj&&obj!==-1&&obj.hasClass("jstree-open")},is_closed:function(obj){obj=this._get_node(obj);return obj&&obj!==-1&&obj.hasClass("jstree-closed")},is_leaf:function(obj){obj=
this._get_node(obj);return obj&&obj!==-1&&obj.hasClass("jstree-leaf")},correct_state:function(obj){obj=this._get_node(obj);if(!obj||obj===-1)return false;obj.removeClass("jstree-closed jstree-open").addClass("jstree-leaf").children("ul").remove();this.__callback({"obj":obj})},open_node:function(obj,callback,skip_animation){obj=this._get_node(obj);if(!obj.length)return false;if(!obj.hasClass("jstree-closed")){if(callback)callback.call();return false}var s=skip_animation||is_ie6?0:this._get_settings().core.animation,
t=this;if(!this._is_loaded(obj)){obj.children("a").addClass("jstree-loading");this.load_node(obj,function(){t.open_node(obj,callback,skip_animation)},callback)}else{if(this._get_settings().core.open_parents)obj.parentsUntil(".jstree",".jstree-closed").each(function(){t.open_node(this,false,true)});if(s)obj.children("ul").css("display","none");obj.removeClass("jstree-closed").addClass("jstree-open").children("a").removeClass("jstree-loading");if(s)obj.children("ul").stop(true,true).slideDown(s,function(){this.style.display=
"";t.after_open(obj)});else t.after_open(obj);this.__callback({"obj":obj});if(callback)callback.call()}},after_open:function(obj){this.__callback({"obj":obj})},close_node:function(obj,skip_animation){obj=this._get_node(obj);var s=skip_animation||is_ie6?0:this._get_settings().core.animation,t=this;if(!obj.length||!obj.hasClass("jstree-open"))return false;if(s)obj.children("ul").attr("style","display:block !important");obj.removeClass("jstree-open").addClass("jstree-closed");if(s)obj.children("ul").stop(true,
true).slideUp(s,function(){this.style.display="";t.after_close(obj)});else t.after_close(obj);this.__callback({"obj":obj})},after_close:function(obj){this.__callback({"obj":obj})},toggle_node:function(obj){obj=this._get_node(obj);if(obj.hasClass("jstree-closed"))return this.open_node(obj);if(obj.hasClass("jstree-open"))return this.close_node(obj)},open_all:function(obj,do_animation,original_obj){obj=obj?this._get_node(obj):-1;if(!obj||obj===-1)obj=this.get_container_ul();if(original_obj)obj=obj.find("li.jstree-closed");
else{original_obj=obj;if(obj.is(".jstree-closed"))obj=obj.find("li.jstree-closed").andSelf();else obj=obj.find("li.jstree-closed")}var _this=this;obj.each(function(){var __this=this;if(!_this._is_loaded(this))_this.open_node(this,function(){_this.open_all(__this,do_animation,original_obj)},!do_animation);else _this.open_node(this,false,!do_animation)});if(original_obj.find("li.jstree-closed").length===0)this.__callback({"obj":original_obj})},close_all:function(obj,do_animation){var _this=this;obj=
obj?this._get_node(obj):this.get_container();if(!obj||obj===-1)obj=this.get_container_ul();obj.find("li.jstree-open").andSelf().each(function(){_this.close_node(this,!do_animation)});this.__callback({"obj":obj})},clean_node:function(obj){obj=obj&&obj!=-1?$(obj):this.get_container_ul();obj=obj.is("li")?obj.find("li").andSelf():obj.find("li");obj.removeClass("jstree-last").filter("li:last-child").addClass("jstree-last").end().filter(":has(li)").not(".jstree-open").removeClass("jstree-leaf").addClass("jstree-closed");
obj.not(".jstree-open, .jstree-closed").addClass("jstree-leaf").children("ul").remove();this.__callback({"obj":obj})},get_rollback:function(){this.__callback();return{i:this.get_index(),h:this.get_container().children("ul").clone(true),d:this.data}},set_rollback:function(html,data){this.get_container().empty().append(html);this.data=data;this.__callback()},load_node:function(obj,s_call,e_call){this.__callback({"obj":obj})},_is_loaded:function(obj){return true},create_node:function(obj,position,js,
callback,is_loaded){obj=this._get_node(obj);position=typeof position==="undefined"?"last":position;var d=$("\x3cli /\x3e"),s=this._get_settings().core,tmp;if(obj!==-1&&!obj.length)return false;if(!is_loaded&&!this._is_loaded(obj)){this.load_node(obj,function(){this.create_node(obj,position,js,callback,true)});return false}this.__rollback();if(typeof js==="string")js={"data":js};if(!js)js={};if(js.attr)d.attr(js.attr);if(js.metadata)d.data(js.metadata);if(js.state)d.addClass("jstree-"+js.state);if(!js.data)js.data=
this._get_string("new_node");if(!$.isArray(js.data)){tmp=js.data;js.data=[];js.data.push(tmp)}$.each(js.data,function(i,m){tmp=$("\x3ca /\x3e");if($.isFunction(m))m=m.call(this,js);if(typeof m=="string")tmp.attr("href","#")[s.html_titles?"html":"text"](m);else{if(!m.attr)m.attr={};if(!m.attr.href)m.attr.href="#";tmp.attr(m.attr)[s.html_titles?"html":"text"](m.title);if(m.language)tmp.addClass(m.language)}tmp.prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e");if(!m.icon&&js.icon)m.icon=
js.icon;if(m.icon)if(m.icon.indexOf("/")===-1)tmp.children("ins").addClass(m.icon);else tmp.children("ins").css("background","url('"+m.icon+"') center center no-repeat");d.append(tmp)});d.prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e");if(obj===-1){obj=this.get_container();if(position==="before")position="first";if(position==="after")position="last"}switch(position){case "before":obj.before(d);tmp=this._get_parent(obj);break;case "after":obj.after(d);tmp=this._get_parent(obj);break;
case "inside":case "first":if(!obj.children("ul").length)obj.append("\x3cul /\x3e");obj.children("ul").prepend(d);tmp=obj;break;case "last":if(!obj.children("ul").length)obj.append("\x3cul /\x3e");obj.children("ul").append(d);tmp=obj;break;default:if(!obj.children("ul").length)obj.append("\x3cul /\x3e");if(!position)position=0;tmp=obj.children("ul").children("li").eq(position);if(tmp.length)tmp.before(d);else obj.children("ul").append(d);tmp=obj;break}if(tmp===-1||tmp.get(0)===this.get_container().get(0))tmp=
-1;this.clean_node(tmp);this.__callback({"obj":d,"parent":tmp});if(callback)callback.call(this,d);return d},get_text:function(obj){obj=this._get_node(obj);if(!obj.length)return false;var s=this._get_settings().core.html_titles;obj=obj.children("a:eq(0)");if(s){obj=obj.clone();obj.children("INS").remove();return obj.html()}else{obj=obj.contents().filter(function(){return this.nodeType==3})[0];return obj.nodeValue}},set_text:function(obj,val){obj=this._get_node(obj);if(!obj.length)return false;obj=
obj.children("a:eq(0)");if(this._get_settings().core.html_titles){var tmp=obj.children("INS").clone();obj.html(val).prepend(tmp);this.__callback({"obj":obj,"name":val});return true}else{obj=obj.contents().filter(function(){return this.nodeType==3})[0];this.__callback({"obj":obj,"name":val});return obj.nodeValue=val}},rename_node:function(obj,val){obj=this._get_node(obj);this.__rollback();if(obj&&obj.length&&this.set_text.apply(this,Array.prototype.slice.call(arguments)))this.__callback({"obj":obj,
"name":val})},delete_node:function(obj){obj=this._get_node(obj);if(!obj.length)return false;this.__rollback();var p=this._get_parent(obj),prev=$([]),t=this;obj.each(function(){prev=prev.add(t._get_prev(this))});obj=obj.detach();if(p!==-1&&p.find("\x3e ul \x3e li").length===0)p.removeClass("jstree-open jstree-closed").addClass("jstree-leaf");this.clean_node(p);this.__callback({"obj":obj,"prev":prev,"parent":p});return obj},prepare_move:function(o,r,pos,cb,is_cb){var p={};p.ot=$.jstree._reference(o)||
this;p.o=p.ot._get_node(o);p.r=r===-1?-1:this._get_node(r);p.p=typeof pos==="undefined"||pos===false?"last":pos;if(!is_cb&&prepared_move.o&&prepared_move.o[0]===p.o[0]&&prepared_move.r[0]===p.r[0]&&prepared_move.p===p.p){this.__callback(prepared_move);if(cb)cb.call(this,prepared_move);return}p.ot=$.jstree._reference(p.o)||this;p.rt=$.jstree._reference(p.r)||this;if(p.r===-1||!p.r){p.cr=-1;switch(p.p){case "first":case "before":case "inside":p.cp=0;break;case "after":case "last":p.cp=p.rt.get_container().find(" \x3e ul \x3e li").length;
break;default:p.cp=p.p;break}}else{if(!/^(before|after)$/.test(p.p)&&!this._is_loaded(p.r))return this.load_node(p.r,function(){this.prepare_move(o,r,pos,cb,true)});switch(p.p){case "before":p.cp=p.r.index();p.cr=p.rt._get_parent(p.r);break;case "after":p.cp=p.r.index()+1;p.cr=p.rt._get_parent(p.r);break;case "inside":case "first":p.cp=0;p.cr=p.r;break;case "last":p.cp=p.r.find(" \x3e ul \x3e li").length;p.cr=p.r;break;default:p.cp=p.p;p.cr=p.r;break}}p.np=p.cr==-1?p.rt.get_container():p.cr;p.op=
p.ot._get_parent(p.o);p.cop=p.o.index();if(p.op===-1)p.op=p.ot?p.ot.get_container():this.get_container();if(!/^(before|after)$/.test(p.p)&&p.op&&p.np&&p.op[0]===p.np[0]&&p.o.index()<p.cp)p.cp++;p.or=p.np.find(" \x3e ul \x3e li:nth-child("+(p.cp+1)+")");prepared_move=p;this.__callback(prepared_move);if(cb)cb.call(this,prepared_move)},check_move:function(){var obj=prepared_move,ret=true,r=obj.r===-1?this.get_container():obj.r;if(!obj||!obj.o||obj.or[0]===obj.o[0])return false;if(obj.op&&obj.np&&obj.op[0]===
obj.np[0]&&obj.cp-1===obj.o.index())return false;obj.o.each(function(){if(r.parentsUntil(".jstree","li").andSelf().index(this)!==-1){ret=false;return false}});return ret},move_node:function(obj,ref,position,is_copy,is_prepared,skip_check){if(!is_prepared)return this.prepare_move(obj,ref,position,function(p){this.move_node(p,false,false,is_copy,true,skip_check)});if(is_copy)prepared_move.cy=true;if(!skip_check&&!this.check_move())return false;this.__rollback();var o=false;if(is_copy){o=obj.o.clone(true);
o.find("*[id]").andSelf().each(function(){if(this.id)this.id="copy_"+this.id})}else o=obj.o;if(obj.or.length)obj.or.before(o);else{if(!obj.np.children("ul").length)$("\x3cul /\x3e").appendTo(obj.np);obj.np.children("ul:eq(0)").append(o)}try{obj.ot.clean_node(obj.op);obj.rt.clean_node(obj.np);if(!obj.op.find("\x3e ul \x3e li").length)obj.op.removeClass("jstree-open jstree-closed").addClass("jstree-leaf").children("ul").remove()}catch(e){}if(is_copy){prepared_move.cy=true;prepared_move.oc=o}this.__callback(prepared_move);
return prepared_move},_get_move:function(){return prepared_move}}})})(jQuery);(function($){var scrollbar_width,e1,e2;$(function(){if(/msie/.test(navigator.userAgent.toLowerCase())){e1=$('\x3ctextarea cols\x3d"10" rows\x3d"2"\x3e\x3c/textarea\x3e').css({position:"absolute",top:-1E3,left:0}).appendTo("body");e2=$('\x3ctextarea cols\x3d"10" rows\x3d"2" style\x3d"overflow: hidden;"\x3e\x3c/textarea\x3e').css({position:"absolute",top:-1E3,left:0}).appendTo("body");scrollbar_width=e1.width()-e2.width();
e1.add(e2).remove()}else{e1=$("\x3cdiv /\x3e").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1E3,left:0}).prependTo("body").append("\x3cdiv /\x3e").find("div").css({width:"100%",height:200});scrollbar_width=100-e1.width();e1.parent().remove()}});$.jstree.plugin("ui",{__init:function(){this.data.ui.selected=$();this.data.ui.last_selected=false;this.data.ui.hovered=null;this.data.ui.to_select=this.get_settings().ui.initially_select;this.get_container().delegate("a","click.jstree",
$.proxy(function(event){event.preventDefault();event.currentTarget.blur();if(!$(event.currentTarget).hasClass("jstree-loading"))this.select_node(event.currentTarget,true,event)},this)).delegate("a","mouseenter.jstree",$.proxy(function(event){if(!$(event.currentTarget).hasClass("jstree-loading"))this.hover_node(event.target)},this)).delegate("a","mouseleave.jstree",$.proxy(function(event){if(!$(event.currentTarget).hasClass("jstree-loading"))this.dehover_node(event.target)},this)).bind("reopen.jstree",
$.proxy(function(){this.reselect()},this)).bind("get_rollback.jstree",$.proxy(function(){this.dehover_node();this.save_selected()},this)).bind("set_rollback.jstree",$.proxy(function(){this.reselect()},this)).bind("close_node.jstree",$.proxy(function(event,data){var s=this._get_settings().ui,obj=this._get_node(data.rslt.obj),clk=obj&&obj.length?obj.children("ul").find("a.jstree-clicked"):$(),_this=this;if(s.selected_parent_close===false||!clk.length)return;clk.each(function(){_this.deselect_node(this);
if(s.selected_parent_close==="select_parent")_this.select_node(obj)})},this)).bind("delete_node.jstree",$.proxy(function(event,data){var s=this._get_settings().ui.select_prev_on_delete,obj=this._get_node(data.rslt.obj),clk=obj&&obj.length?obj.find("a.jstree-clicked"):[],_this=this;clk.each(function(){_this.deselect_node(this)});if(s&&clk.length)data.rslt.prev.each(function(){if(this.parentNode){_this.select_node(this);return false}})},this)).bind("move_node.jstree",$.proxy(function(event,data){if(data.rslt.cy)data.rslt.oc.find("a.jstree-clicked").removeClass("jstree-clicked")},
this))},defaults:{select_limit:-1,select_multiple_modifier:"ctrl",select_range_modifier:"shift",selected_parent_close:"select_parent",selected_parent_open:true,select_prev_on_delete:true,disable_selecting_children:false,initially_select:[]},_fn:{_get_node:function(obj,allow_multiple){if(typeof obj==="undefined"||obj===null)return allow_multiple?this.data.ui.selected:this.data.ui.last_selected;var $obj=$(obj,this.get_container());if($obj.is(".jstree")||obj==-1)return-1;$obj=$obj.closest("li",this.get_container());
return $obj.length?$obj:false},_ui_notify:function(n,data){if(data.selected)this.select_node(n,false)},save_selected:function(){var _this=this;this.data.ui.to_select=[];this.data.ui.selected.each(function(){if(this.id)_this.data.ui.to_select.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))});this.__callback(this.data.ui.to_select)},reselect:function(){var _this=this,s=this.data.ui.to_select;s=$.map($.makeArray(s),
function(n){return"#"+n.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});$.each(s,function(i,val){if(val&&val!=="#")_this.select_node(val)});this.data.ui.selected=this.data.ui.selected.filter(function(){return this.parentNode});this.__callback()},refresh:function(obj){this.save_selected();return this.__call_old()},hover_node:function(obj){obj=this._get_node(obj);if(!obj.length)return false;if(!obj.hasClass("jstree-hovered"))this.dehover_node();
this.data.ui.hovered=obj.children("a").addClass("jstree-hovered").parent();this._fix_scroll(obj);this.__callback({"obj":obj})},dehover_node:function(){var obj=this.data.ui.hovered,p;if(!obj||!obj.length)return false;p=obj.children("a").removeClass("jstree-hovered").parent();if(this.data.ui.hovered[0]===p[0])this.data.ui.hovered=null;this.__callback({"obj":obj})},select_node:function(obj,check,e){obj=this._get_node(obj);if(obj==-1||!obj||!obj.length)return false;var s=this._get_settings().ui,is_multiple=
s.select_multiple_modifier=="on"||s.select_multiple_modifier!==false&&e&&e[s.select_multiple_modifier+"Key"],is_range=s.select_range_modifier!==false&&e&&e[s.select_range_modifier+"Key"]&&this.data.ui.last_selected&&this.data.ui.last_selected[0]!==obj[0]&&this.data.ui.last_selected.parent()[0]===obj.parent()[0],is_selected=this.is_selected(obj),proceed=true,t=this;if(check){if(s.disable_selecting_children&&is_multiple&&(obj.parentsUntil(".jstree","li").children("a.jstree-clicked").length||obj.children("ul").find("a.jstree-clicked:eq(0)").length))return false;
proceed=false;switch(!0){case is_range:this.data.ui.last_selected.addClass("jstree-last-selected");obj=obj[obj.index()<this.data.ui.last_selected.index()?"nextUntil":"prevUntil"](".jstree-last-selected").andSelf();if(s.select_limit==-1||obj.length<s.select_limit){this.data.ui.last_selected.removeClass("jstree-last-selected");this.data.ui.selected.each(function(){if(this!==t.data.ui.last_selected[0])t.deselect_node(this)});is_selected=false;proceed=true}else proceed=false;break;case is_selected&&!is_multiple:this.deselect_all();
is_selected=false;proceed=true;break;case !is_selected&&!is_multiple:if(s.select_limit==-1||s.select_limit>0){this.deselect_all();proceed=true}break;case is_selected&&is_multiple:this.deselect_node(obj);break;case !is_selected&&is_multiple:if(s.select_limit==-1||this.data.ui.selected.length+1<=s.select_limit)proceed=true;break}}if(proceed&&!is_selected){if(!is_range)this.data.ui.last_selected=obj;obj.children("a").addClass("jstree-clicked");if(s.selected_parent_open)obj.parents(".jstree-closed").each(function(){t.open_node(this,
false,true)});this.data.ui.selected=this.data.ui.selected.add(obj);this._fix_scroll(obj.eq(0));this.__callback({"obj":obj,"e":e})}},_fix_scroll:function(obj){var c=this.get_container()[0],t;if(c.scrollHeight>c.offsetHeight){obj=this._get_node(obj);if(!obj||obj===-1||!obj.length||!obj.is(":visible"))return;t=obj.offset().top-this.get_container().offset().top;if(t<0)c.scrollTop=c.scrollTop+t-1;if(t+this.data.core.li_height+(c.scrollWidth>c.offsetWidth?scrollbar_width:0)>c.offsetHeight)c.scrollTop=c.scrollTop+
(t-c.offsetHeight+this.data.core.li_height+1+(c.scrollWidth>c.offsetWidth?scrollbar_width:0))}},deselect_node:function(obj){obj=this._get_node(obj);if(!obj.length)return false;if(this.is_selected(obj)){obj.children("a").removeClass("jstree-clicked");this.data.ui.selected=this.data.ui.selected.not(obj);if(this.data.ui.last_selected.get(0)===obj.get(0))this.data.ui.last_selected=this.data.ui.selected.eq(0);this.__callback({"obj":obj})}},toggle_select:function(obj){obj=this._get_node(obj);if(!obj.length)return false;
if(this.is_selected(obj))this.deselect_node(obj);else this.select_node(obj)},is_selected:function(obj){return this.data.ui.selected.index(this._get_node(obj))>=0},get_selected:function(context){return context?$(context).find("a.jstree-clicked").parent():this.data.ui.selected},deselect_all:function(context){var ret=context?$(context).find("a.jstree-clicked").parent():this.get_container().find("a.jstree-clicked").parent();ret.children("a.jstree-clicked").removeClass("jstree-clicked");this.data.ui.selected=
$([]);this.data.ui.last_selected=false;this.__callback({"obj":ret})}}});$.jstree.defaults.plugins.push("ui")})(jQuery);(function($){$.jstree.plugin("crrm",{__init:function(){this.get_container().bind("move_node.jstree",$.proxy(function(e,data){if(this._get_settings().crrm.move.open_onmove){var t=this;data.rslt.np.parentsUntil(".jstree").andSelf().filter(".jstree-closed").each(function(){t.open_node(this,false,true)})}},this))},defaults:{input_width_limit:200,move:{always_copy:false,open_onmove:true,
default_position:"last",check_move:function(m){return true}}},_fn:{_show_input:function(obj,callback){obj=this._get_node(obj);var rtl=this._get_settings().core.rtl,w=this._get_settings().crrm.input_width_limit,w1=obj.children("ins").width(),w2=obj.find("\x3e a:visible \x3e ins").width()*obj.find("\x3e a:visible \x3e ins").length,t=this.get_text(obj),h1=$("\x3cdiv /\x3e",{css:{"position":"absolute","top":"-200px","left":rtl?"0px":"-1000px","visibility":"hidden"}}).appendTo("body"),h2=obj.css("position",
"relative").append($("\x3cinput /\x3e",{"value":t,"class":"jstree-rename-input","css":{"padding":"0","border":"1px solid silver","position":"absolute","left":rtl?"auto":w1+w2+4+"px","right":rtl?w1+w2+4+"px":"auto","top":"0px","height":this.data.core.li_height-2+"px","lineHeight":this.data.core.li_height-2+"px","width":"150px"},"blur":$.proxy(function(){var i=obj.children(".jstree-rename-input"),v=i.val();if(v==="")v=t;h1.remove();i.remove();this.set_text(obj,t);this.rename_node(obj,v);callback.call(this,
obj,v,t);obj.css("position","")},this),"keyup":function(event){var key=event.keyCode||event.which;if(key==27){this.value=t;this.blur();return}else if(key==13){this.blur();return}else h2.width(Math.min(h1.text("pW"+this.value).width(),w))},"keypress":function(event){var key=event.keyCode||event.which;if(key==13)return false}})).children(".jstree-rename-input");this.set_text(obj,"");h1.css({fontFamily:h2.css("fontFamily")||"",fontSize:h2.css("fontSize")||"",fontWeight:h2.css("fontWeight")||"",fontStyle:h2.css("fontStyle")||
"",fontStretch:h2.css("fontStretch")||"",fontVariant:h2.css("fontVariant")||"",letterSpacing:h2.css("letterSpacing")||"",wordSpacing:h2.css("wordSpacing")||""});h2.width(Math.min(h1.text("pW"+h2[0].value).width(),w))[0].select()},rename:function(obj){obj=this._get_node(obj);this.__rollback();var f=this.__callback;this._show_input(obj,function(obj,new_name,old_name){f.call(this,{"obj":obj,"new_name":new_name,"old_name":old_name})})},create:function(obj,position,js,callback,skip_rename){var t,_this=
this;obj=this._get_node(obj);if(!obj)obj=-1;this.__rollback();t=this.create_node(obj,position,js,function(t){var p=this._get_parent(t),pos=$(t).index();if(callback)callback.call(this,t);if(p.length&&p.hasClass("jstree-closed"))this.open_node(p,false,true);if(!skip_rename)this._show_input(t,function(obj,new_name,old_name){_this.__callback({"obj":obj,"name":new_name,"parent":p,"position":pos})});else _this.__callback({"obj":t,"name":this.get_text(t),"parent":p,"position":pos})});return t},remove:function(obj){obj=
this._get_node(obj,true);var p=this._get_parent(obj),prev=this._get_prev(obj);this.__rollback();obj=this.delete_node(obj);if(obj!==false)this.__callback({"obj":obj,"prev":prev,"parent":p})},check_move:function(){if(!this.__call_old())return false;var s=this._get_settings().crrm.move;if(!s.check_move.call(this,this._get_move()))return false;return true},move_node:function(obj,ref,position,is_copy,is_prepared,skip_check){var s=this._get_settings().crrm.move;if(!is_prepared){if(typeof position==="undefined")position=
s.default_position;if(position==="inside"&&!s.default_position.match(/^(before|after)$/))position=s.default_position;return this.__call_old(true,obj,ref,position,is_copy,false,skip_check)}if(s.always_copy===true||s.always_copy==="multitree"&&obj.rt.get_index()!==obj.ot.get_index())is_copy=true;this.__call_old(true,obj,ref,position,is_copy,true,skip_check)},cut:function(obj){obj=this._get_node(obj,true);if(!obj||!obj.length)return false;this.data.crrm.cp_nodes=false;this.data.crrm.ct_nodes=obj;this.__callback({"obj":obj})},
copy:function(obj){obj=this._get_node(obj,true);if(!obj||!obj.length)return false;this.data.crrm.ct_nodes=false;this.data.crrm.cp_nodes=obj;this.__callback({"obj":obj})},paste:function(obj){obj=this._get_node(obj);if(!obj||!obj.length)return false;var nodes=this.data.crrm.ct_nodes?this.data.crrm.ct_nodes:this.data.crrm.cp_nodes;if(!this.data.crrm.ct_nodes&&!this.data.crrm.cp_nodes)return false;if(this.data.crrm.ct_nodes){this.move_node(this.data.crrm.ct_nodes,obj);this.data.crrm.ct_nodes=false}if(this.data.crrm.cp_nodes)this.move_node(this.data.crrm.cp_nodes,
obj,false,true);this.__callback({"obj":obj,"nodes":nodes})}}})})(jQuery);(function($){var themes_loaded=[];$.jstree._themes=false;$.jstree.plugin("themes",{__init:function(){this.get_container().bind("init.jstree",$.proxy(function(){var s=this._get_settings().themes;this.data.themes.dots=s.dots;this.data.themes.icons=s.icons;this.set_theme(s.theme,s.url)},this)).bind("loaded.jstree",$.proxy(function(){if(!this.data.themes.dots)this.hide_dots();else this.show_dots();if(!this.data.themes.icons)this.hide_icons();
else this.show_icons()},this))},defaults:{theme:"default",url:false,dots:true,icons:true},_fn:{set_theme:function(theme_name,theme_url){if(!theme_name)return false;if(!theme_url)theme_url=$.jstree._themes+theme_name+"/style.css";if($.inArray(theme_url,themes_loaded)==-1){$.vakata.css.add_sheet({"url":theme_url});themes_loaded.push(theme_url)}if(this.data.themes.theme!=theme_name){this.get_container().removeClass("jstree-"+this.data.themes.theme);this.data.themes.theme=theme_name}this.get_container().addClass("jstree-"+
theme_name);if(!this.data.themes.dots)this.hide_dots();else this.show_dots();if(!this.data.themes.icons)this.hide_icons();else this.show_icons();this.__callback()},get_theme:function(){return this.data.themes.theme},show_dots:function(){this.data.themes.dots=true;this.get_container().children("ul").removeClass("jstree-no-dots")},hide_dots:function(){this.data.themes.dots=false;this.get_container().children("ul").addClass("jstree-no-dots")},toggle_dots:function(){if(this.data.themes.dots)this.hide_dots();
else this.show_dots()},show_icons:function(){this.data.themes.icons=true;this.get_container().children("ul").removeClass("jstree-no-icons")},hide_icons:function(){this.data.themes.icons=false;this.get_container().children("ul").addClass("jstree-no-icons")},toggle_icons:function(){if(this.data.themes.icons)this.hide_icons();else this.show_icons()}}});$(function(){if($.jstree._themes===false)$.jstree._themes=getConfigParam(kradVariables.APPLICATION_URL)+"/plugins/jstree/themes/";if($.jstree._themes===
false)$.jstree._themes="themes/"});$.jstree.defaults.plugins.push("themes")})(jQuery);(function($){var bound=[];function exec(i,event){var f=$.jstree._focused(),tmp;if(f&&f.data&&f.data.hotkeys&&f.data.hotkeys.enabled){tmp=f._get_settings().hotkeys[i];if(tmp)return tmp.call(f,event)}}$.jstree.plugin("hotkeys",{__init:function(){if(typeof $.hotkeys==="undefined")throw"jsTree hotkeys: jQuery hotkeys plugin not included.";if(!this.data.ui)throw"jsTree hotkeys: jsTree UI plugin not included.";$.each(this._get_settings().hotkeys,
function(i,v){if(v!==false&&$.inArray(i,bound)==-1){$(document).bind("keydown",i,function(event){return exec(i,event)});bound.push(i)}});this.get_container().bind("lock.jstree",$.proxy(function(){if(this.data.hotkeys.enabled){this.data.hotkeys.enabled=false;this.data.hotkeys.revert=true}},this)).bind("unlock.jstree",$.proxy(function(){if(this.data.hotkeys.revert)this.data.hotkeys.enabled=true},this));this.enable_hotkeys()},defaults:{"up":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||
-1;this.hover_node(this._get_prev(o));return false},"ctrl+up":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_prev(o));return false},"shift+up":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_prev(o));return false},"down":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_next(o));return false},"ctrl+down":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||
-1;this.hover_node(this._get_next(o));return false},"shift+down":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_next(o));return false},"left":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o)if(o.hasClass("jstree-open"))this.close_node(o);else this.hover_node(this._get_prev(o));return false},"ctrl+left":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o)if(o.hasClass("jstree-open"))this.close_node(o);else this.hover_node(this._get_prev(o));
return false},"shift+left":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o)if(o.hasClass("jstree-open"))this.close_node(o);else this.hover_node(this._get_prev(o));return false},"right":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o&&o.length)if(o.hasClass("jstree-closed"))this.open_node(o);else this.hover_node(this._get_next(o));return false},"ctrl+right":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o&&o.length)if(o.hasClass("jstree-closed"))this.open_node(o);
else this.hover_node(this._get_next(o));return false},"shift+right":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o&&o.length)if(o.hasClass("jstree-closed"))this.open_node(o);else this.hover_node(this._get_next(o));return false},"space":function(){if(this.data.ui.hovered)this.data.ui.hovered.children("a:eq(0)").click();return false},"ctrl+space":function(event){event.type="click";if(this.data.ui.hovered)this.data.ui.hovered.children("a:eq(0)").trigger(event);return false},"shift+space":function(event){event.type=
"click";if(this.data.ui.hovered)this.data.ui.hovered.children("a:eq(0)").trigger(event);return false},"f2":function(){this.rename(this.data.ui.hovered||this.data.ui.last_selected)},"del":function(){this.remove(this.data.ui.hovered||this._get_node(null))}},_fn:{enable_hotkeys:function(){this.data.hotkeys.enabled=true},disable_hotkeys:function(){this.data.hotkeys.enabled=false}}})})(jQuery);(function($){$.jstree.plugin("json_data",{__init:function(){var s=this._get_settings().json_data;if(s.progressive_unload)this.get_container().bind("after_close.jstree",
function(e,data){data.rslt.obj.children("ul").remove()})},defaults:{data:false,ajax:false,correct_state:true,progressive_render:false,progressive_unload:false},_fn:{load_node:function(obj,s_call,e_call){var _this=this;this.load_node_json(obj,function(){_this.__callback({"obj":_this._get_node(obj)});s_call.call(this)},e_call)},_is_loaded:function(obj){var s=this._get_settings().json_data;obj=this._get_node(obj);return obj==-1||!obj||!s.ajax&&!s.progressive_render&&!$.isFunction(s.data)||obj.is(".jstree-open, .jstree-leaf")||
obj.children("ul").children("li").length>0},refresh:function(obj){obj=this._get_node(obj);var s=this._get_settings().json_data;if(obj&&obj!==-1&&s.progressive_unload&&($.isFunction(s.data)||!!s.ajax))obj.removeData("jstree_children");return this.__call_old()},load_node_json:function(obj,s_call,e_call){var s=this.get_settings().json_data,d,error_func=function(){},success_func=function(){};obj=this._get_node(obj);if(obj&&obj!==-1&&(s.progressive_render||s.progressive_unload)&&!obj.is(".jstree-open, .jstree-leaf")&&
obj.children("ul").children("li").length===0&&obj.data("jstree_children")){d=this._parse_json(obj.data("jstree_children"),obj);if(d){obj.append(d);if(!s.progressive_unload)obj.removeData("jstree_children")}this.clean_node(obj);if(s_call)s_call.call(this);return}if(obj&&obj!==-1)if(obj.data("jstree_is_loading"))return;else obj.data("jstree_is_loading",true);switch(!0){case !s.data&&!s.ajax:throw"Neither data nor ajax settings supplied.";case $.isFunction(s.data):s.data.call(this,obj,$.proxy(function(d){d=
this._parse_json(d,obj);if(!d){if(obj===-1||!obj){if(s.correct_state)this.get_container().children("ul").empty()}else{obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(s.correct_state)this.correct_state(obj)}if(e_call)e_call.call(this)}else{if(obj===-1||!obj)this.get_container().children("ul").empty().append(d.children());else{obj.append(d).children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading")}this.clean_node(obj);
if(s_call)s_call.call(this)}},this));break;case !!s.data&&!s.ajax||!!s.data&&!!s.ajax&&(!obj||obj===-1):if(!obj||obj==-1){d=this._parse_json(s.data,obj);if(d){this.get_container().children("ul").empty().append(d.children());this.clean_node()}else if(s.correct_state)this.get_container().children("ul").empty()}if(s_call)s_call.call(this);break;case !s.data&&!!s.ajax||!!s.data&&!!s.ajax&&obj&&obj!==-1:error_func=function(x,t,e){var ef=this.get_settings().json_data.ajax.error;if(ef)ef.call(this,x,t,e);
if(obj!=-1&&obj.length){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(t==="success"&&s.correct_state)this.correct_state(obj)}else if(t==="success"&&s.correct_state)this.get_container().children("ul").empty();if(e_call)e_call.call(this)};success_func=function(d,t,x){var sf=this.get_settings().json_data.ajax.success;if(sf)d=sf.call(this,d,t,x)||d;if(d===""||d&&d.toString&&d.toString().replace(/^[\s\n]+$/,"")===""||!$.isArray(d)&&!$.isPlainObject(d))return error_func.call(this,
x,t,"");d=this._parse_json(d,obj);if(d){if(obj===-1||!obj)this.get_container().children("ul").empty().append(d.children());else{obj.append(d).children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading")}this.clean_node(obj);if(s_call)s_call.call(this)}else if(obj===-1||!obj){if(s.correct_state){this.get_container().children("ul").empty();if(s_call)s_call.call(this)}}else{obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");
if(s.correct_state){this.correct_state(obj);if(s_call)s_call.call(this)}}};s.ajax.context=this;s.ajax.error=error_func;s.ajax.success=success_func;if(!s.ajax.dataType)s.ajax.dataType="json";if($.isFunction(s.ajax.url))s.ajax.url=s.ajax.url.call(this,obj);if($.isFunction(s.ajax.data))s.ajax.data=s.ajax.data.call(this,obj);$.ajax(s.ajax);break}},_parse_json:function(js,obj,is_callback){var d=false,p=this._get_settings(),s=p.json_data,t=p.core.html_titles,tmp,i,j,ul1,ul2;if(!js)return d;if(s.progressive_unload&&
obj&&obj!==-1)obj.data("jstree_children",d);if($.isArray(js)){d=$();if(!js.length)return false;for(i=0,j=js.length;i<j;i++){tmp=this._parse_json(js[i],obj,true);if(tmp.length)d=d.add(tmp)}}else{if(typeof js=="string")js={data:js};if(!js.data&&js.data!=="")return d;d=$("\x3cli /\x3e");if(js.attr)d.attr(js.attr);if(js.metadata)d.data(js.metadata);if(js.state)d.addClass("jstree-"+js.state);if(!$.isArray(js.data)){tmp=js.data;js.data=[];js.data.push(tmp)}$.each(js.data,function(i,m){tmp=$("\x3ca /\x3e");
if($.isFunction(m))m=m.call(this,js);if(typeof m=="string")tmp.attr("href","#")[t?"html":"text"](m);else{if(!m.attr)m.attr={};if(!m.attr.href)m.attr.href="#";tmp.attr(m.attr)[t?"html":"text"](m.title);if(m.language)tmp.addClass(m.language)}tmp.prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e");if(!m.icon&&js.icon)m.icon=js.icon;if(m.icon)if(m.icon.indexOf("/")===-1)tmp.children("ins").addClass(m.icon);else tmp.children("ins").css("background","url('"+m.icon+"') center center no-repeat");
d.append(tmp)});d.prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e");if(js.children)if(s.progressive_render&&js.state!=="open")d.addClass("jstree-closed").data("jstree_children",js.children);else{if(s.progressive_unload)d.data("jstree_children",js.children);if($.isArray(js.children)&&js.children.length){tmp=this._parse_json(js.children,obj,true);if(tmp.length){ul2=$("\x3cul /\x3e");ul2.append(tmp);d.append(ul2)}}}}if(!is_callback){ul1=$("\x3cul /\x3e");ul1.append(d);d=ul1}return d},
get_json:function(obj,li_attr,a_attr,is_callback){var result=[],s=this._get_settings(),_this=this,tmp1,tmp2,li,a,t,lang;obj=this._get_node(obj);if(!obj||obj===-1)obj=this.get_container().find("\x3e ul \x3e li");li_attr=$.isArray(li_attr)?li_attr:["id","class"];if(!is_callback&&this.data.types)li_attr.push(s.types.type_attr);a_attr=$.isArray(a_attr)?a_attr:[];obj.each(function(){li=$(this);tmp1={data:[]};if(li_attr.length)tmp1.attr={};$.each(li_attr,function(i,v){tmp2=li.attr(v);if(tmp2&&tmp2.length&&
tmp2.replace(/jstree[^ ]*/ig,"").length)tmp1.attr[v]=(" "+tmp2).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"")});if(li.hasClass("jstree-open"))tmp1.state="open";if(li.hasClass("jstree-closed"))tmp1.state="closed";if(li.data())tmp1.metadata=li.data();a=li.children("a");a.each(function(){t=$(this);if(a_attr.length||$.inArray("languages",s.plugins)!==-1||t.children("ins").get(0).style.backgroundImage.length||t.children("ins").get(0).className&&t.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,
"").length){lang=false;if($.inArray("languages",s.plugins)!==-1&&$.isArray(s.languages)&&s.languages.length)$.each(s.languages,function(l,lv){if(t.hasClass(lv)){lang=lv;return false}});tmp2={attr:{},title:_this.get_text(t,lang)};$.each(a_attr,function(k,z){tmp2.attr[z]=(" "+(t.attr(z)||"")).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"")});if($.inArray("languages",s.plugins)!==-1&&$.isArray(s.languages)&&s.languages.length)$.each(s.languages,function(k,z){if(t.hasClass(z)){tmp2.language=
z;return true}});if(t.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length)tmp2.icon=t.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"");if(t.children("ins").get(0).style.backgroundImage.length)tmp2.icon=t.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","")}else tmp2=_this.get_text(t);if(a.length>1)tmp1.data.push(tmp2);else tmp1.data=tmp2});li=li.find("\x3e ul \x3e li");
if(li.length)tmp1.children=_this.get_json(li,li_attr,a_attr,true);result.push(tmp1)});return result}}})})(jQuery);(function($){$.jstree.plugin("languages",{__init:function(){this._load_css()},defaults:[],_fn:{set_lang:function(i){var langs=this._get_settings().languages,st=false,selector=".jstree-"+this.get_index()+" a";if(!$.isArray(langs)||langs.length===0)return false;if($.inArray(i,langs)==-1)if(!!langs[i])i=langs[i];else return false;if(i==this.data.languages.current_language)return true;st=
$.vakata.css.get_css(selector+"."+this.data.languages.current_language,false,this.data.languages.language_css);if(st!==false)st.style.display="none";st=$.vakata.css.get_css(selector+"."+i,false,this.data.languages.language_css);if(st!==false)st.style.display="";this.data.languages.current_language=i;this.__callback(i);return true},get_lang:function(){return this.data.languages.current_language},_get_string:function(key,lang){var langs=this._get_settings().languages,s=this._get_settings().core.strings;
if($.isArray(langs)&&langs.length)lang=lang&&$.inArray(lang,langs)!=-1?lang:this.data.languages.current_language;if(s[lang]&&s[lang][key])return s[lang][key];if(s[key])return s[key];return key},get_text:function(obj,lang){obj=this._get_node(obj)||this.data.ui.last_selected;if(!obj.size())return false;var langs=this._get_settings().languages,s=this._get_settings().core.html_titles;if($.isArray(langs)&&langs.length){lang=lang&&$.inArray(lang,langs)!=-1?lang:this.data.languages.current_language;obj=
obj.children("a."+lang)}else obj=obj.children("a:eq(0)");if(s){obj=obj.clone();obj.children("INS").remove();return obj.html()}else{obj=obj.contents().filter(function(){return this.nodeType==3})[0];return obj.nodeValue}},set_text:function(obj,val,lang){obj=this._get_node(obj)||this.data.ui.last_selected;if(!obj.size())return false;var langs=this._get_settings().languages,s=this._get_settings().core.html_titles,tmp;if($.isArray(langs)&&langs.length){lang=lang&&$.inArray(lang,langs)!=-1?lang:this.data.languages.current_language;
obj=obj.children("a."+lang)}else obj=obj.children("a:eq(0)");if(s){tmp=obj.children("INS").clone();obj.html(val).prepend(tmp);this.__callback({"obj":obj,"name":val,"lang":lang});return true}else{obj=obj.contents().filter(function(){return this.nodeType==3})[0];this.__callback({"obj":obj,"name":val,"lang":lang});return obj.nodeValue=val}},_load_css:function(){var langs=this._get_settings().languages,str="/* languages css */",selector=".jstree-"+this.get_index()+" a",ln;if($.isArray(langs)&&langs.length){this.data.languages.current_language=
langs[0];for(ln=0;ln<langs.length;ln++){str+=selector+"."+langs[ln]+" {";if(langs[ln]!=this.data.languages.current_language)str+=" display:none; ";str+=" } "}this.data.languages.language_css=$.vakata.css.add_sheet({"str":str,"title":"jstree-languages"})}},create_node:function(obj,position,js,callback){var t=this.__call_old(true,obj,position,js,function(t){var langs=this._get_settings().languages,a=t.children("a"),ln;if($.isArray(langs)&&langs.length){for(ln=0;ln<langs.length;ln++)if(!a.is("."+langs[ln]))t.append(a.eq(0).clone().removeClass(langs.join(" ")).addClass(langs[ln]));
a.not("."+langs.join(", .")).remove()}if(callback)callback.call(this,t)});return t}}})})(jQuery);(function($){$.jstree.plugin("cookies",{__init:function(){if(typeof $.cookie==="undefined")throw"jsTree cookie: jQuery cookie plugin not included.";var s=this._get_settings().cookies,tmp;if(!!s.save_loaded){tmp=$.cookie(s.save_loaded);if(tmp&&tmp.length)this.data.core.to_load=tmp.split(",")}if(!!s.save_opened){tmp=$.cookie(s.save_opened);if(tmp&&tmp.length)this.data.core.to_open=tmp.split(",")}if(!!s.save_selected){tmp=
$.cookie(s.save_selected);if(tmp&&tmp.length&&this.data.ui)this.data.ui.to_select=tmp.split(",")}this.get_container().one((this.data.ui?"reselect":"reopen")+".jstree",$.proxy(function(){this.get_container().bind("open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree",$.proxy(function(e){if(this._get_settings().cookies.auto_save)this.save_cookie((e.handleObj.namespace+e.handleObj.type).replace("jstree",""))},this))},this))},defaults:{save_loaded:"jstree_load",save_opened:"jstree_open",
save_selected:"jstree_select",auto_save:true,cookie_options:{}},_fn:{save_cookie:function(c){if(this.data.core.refreshing)return;var s=this._get_settings().cookies;if(!c){if(s.save_loaded){this.save_loaded();$.cookie(s.save_loaded,this.data.core.to_load.join(","),s.cookie_options)}if(s.save_opened){this.save_opened();$.cookie(s.save_opened,this.data.core.to_open.join(","),s.cookie_options)}if(s.save_selected&&this.data.ui){this.save_selected();$.cookie(s.save_selected,this.data.ui.to_select.join(","),
s.cookie_options)}return}switch(c){case "open_node":case "close_node":if(!!s.save_opened){this.save_opened();$.cookie(s.save_opened,this.data.core.to_open.join(","),s.cookie_options)}if(!!s.save_loaded){this.save_loaded();$.cookie(s.save_loaded,this.data.core.to_load.join(","),s.cookie_options)}break;case "select_node":case "deselect_node":if(!!s.save_selected&&this.data.ui){this.save_selected();$.cookie(s.save_selected,this.data.ui.to_select.join(","),s.cookie_options)}break}}}})})(jQuery);(function($){$.jstree.plugin("sort",
{__init:function(){this.get_container().bind("load_node.jstree",$.proxy(function(e,data){var obj=this._get_node(data.rslt.obj);obj=obj===-1?this.get_container().children("ul"):obj.children("ul");this.sort(obj)},this)).bind("rename_node.jstree create_node.jstree create.jstree",$.proxy(function(e,data){this.sort(data.rslt.obj.parent())},this)).bind("move_node.jstree",$.proxy(function(e,data){var m=data.rslt.np==-1?this.get_container():data.rslt.np;this.sort(m.children("ul"))},this))},defaults:function(a,
b){return this.get_text(a)>this.get_text(b)?1:-1},_fn:{sort:function(obj){var s=this._get_settings().sort,t=this;obj.append($.makeArray(obj.children("li")).sort($.proxy(s,t)));obj.find("\x3e li \x3e ul").each(function(){t.sort($(this))});this.clean_node(obj)}}})})(jQuery);(function($){var o=false,r=false,m=false,ml=false,sli=false,sti=false,dir1=false,dir2=false,last_pos=false;$.vakata.dnd={is_down:false,is_drag:false,helper:false,scroll_spd:10,init_x:0,init_y:0,threshold:5,helper_left:5,helper_top:10,
user_data:{},drag_start:function(e,data,html){if($.vakata.dnd.is_drag)$.vakata.drag_stop({});try{e.currentTarget.unselectable="on";e.currentTarget.onselectstart=function(){return false};if(e.currentTarget.style)e.currentTarget.style.MozUserSelect="none"}catch(err){}$.vakata.dnd.init_x=e.pageX;$.vakata.dnd.init_y=e.pageY;$.vakata.dnd.user_data=data;$.vakata.dnd.is_down=true;$.vakata.dnd.helper=$("\x3cdiv id\x3d'vakata-dragged' /\x3e").html(html);$(document).bind("mousemove",$.vakata.dnd.drag);$(document).bind("mouseup",
$.vakata.dnd.drag_stop);return false},drag:function(e){if(!$.vakata.dnd.is_down)return;if(!$.vakata.dnd.is_drag)if(Math.abs(e.pageX-$.vakata.dnd.init_x)>5||Math.abs(e.pageY-$.vakata.dnd.init_y)>5){$.vakata.dnd.helper.appendTo("body");$.vakata.dnd.is_drag=true;$(document).triggerHandler("drag_start.vakata",{"event":e,"data":$.vakata.dnd.user_data})}else return;if(e.type==="mousemove"){var d=$(document),t=d.scrollTop(),l=d.scrollLeft();if(e.pageY-t<20){if(sti&&dir1==="down"){clearInterval(sti);sti=
false}if(!sti){dir1="up";sti=setInterval(function(){$(document).scrollTop($(document).scrollTop()-$.vakata.dnd.scroll_spd)},150)}}else if(sti&&dir1==="up"){clearInterval(sti);sti=false}if($(window).height()-(e.pageY-t)<20){if(sti&&dir1==="up"){clearInterval(sti);sti=false}if(!sti){dir1="down";sti=setInterval(function(){$(document).scrollTop($(document).scrollTop()+$.vakata.dnd.scroll_spd)},150)}}else if(sti&&dir1==="down"){clearInterval(sti);sti=false}if(e.pageX-l<20){if(sli&&dir2==="right"){clearInterval(sli);
sli=false}if(!sli){dir2="left";sli=setInterval(function(){$(document).scrollLeft($(document).scrollLeft()-$.vakata.dnd.scroll_spd)},150)}}else if(sli&&dir2==="left"){clearInterval(sli);sli=false}if($(window).width()-(e.pageX-l)<20){if(sli&&dir2==="left"){clearInterval(sli);sli=false}if(!sli){dir2="right";sli=setInterval(function(){$(document).scrollLeft($(document).scrollLeft()+$.vakata.dnd.scroll_spd)},150)}}else if(sli&&dir2==="right"){clearInterval(sli);sli=false}}$.vakata.dnd.helper.css({left:e.pageX+
$.vakata.dnd.helper_left+"px",top:e.pageY+$.vakata.dnd.helper_top+"px"});$(document).triggerHandler("drag.vakata",{"event":e,"data":$.vakata.dnd.user_data})},drag_stop:function(e){if(sli)clearInterval(sli);if(sti)clearInterval(sti);$(document).unbind("mousemove",$.vakata.dnd.drag);$(document).unbind("mouseup",$.vakata.dnd.drag_stop);$(document).triggerHandler("drag_stop.vakata",{"event":e,"data":$.vakata.dnd.user_data});$.vakata.dnd.helper.remove();$.vakata.dnd.init_x=0;$.vakata.dnd.init_y=0;$.vakata.dnd.user_data=
{};$.vakata.dnd.is_down=false;$.vakata.dnd.is_drag=false}};$(function(){var css_string="#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } ";$.vakata.css.add_sheet({str:css_string,title:"vakata"})});$.jstree.plugin("dnd",{__init:function(){this.data.dnd={active:false,after:false,inside:false,before:false,off:false,prepared:false,w:0,to1:false,to2:false,cof:false,cw:false,ch:false,i1:false,i2:false,mto:false};
this.get_container().bind("mouseenter.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){if(this.data.themes){m.attr("class","jstree-"+this.data.themes.theme);if(ml)ml.attr("class","jstree-"+this.data.themes.theme);$.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)}if(e.currentTarget===e.target&&$.vakata.dnd.user_data.obj&&$($.vakata.dnd.user_data.obj).length&&$($.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==e.target){var tr=
$.jstree._reference(e.target),dc;if(tr.data.dnd.foreign){dc=tr._get_settings().dnd.drag_check.call(this,{"o":o,"r":tr.get_container(),is_root:true});if(dc===true||dc.inside===true||dc.before===true||dc.after===true)$.vakata.dnd.helper.children("ins").attr("class","jstree-ok")}else{tr.prepare_move(o,tr.get_container(),"last");if(tr.check_move())$.vakata.dnd.helper.children("ins").attr("class","jstree-ok")}}}},this)).bind("mouseup.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree&&
e.currentTarget===e.target&&$.vakata.dnd.user_data.obj&&$($.vakata.dnd.user_data.obj).length&&$($.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==e.target){var tr=$.jstree._reference(e.currentTarget),dc;if(tr.data.dnd.foreign){dc=tr._get_settings().dnd.drag_check.call(this,{"o":o,"r":tr.get_container(),is_root:true});if(dc===true||dc.inside===true||dc.before===true||dc.after===true)tr._get_settings().dnd.drag_finish.call(this,{"o":o,"r":tr.get_container(),is_root:true})}else tr.move_node(o,
tr.get_container(),"last",e[tr._get_settings().dnd.copy_modifier+"Key"])}},this)).bind("mouseleave.jstree",$.proxy(function(e){if(e.relatedTarget&&e.relatedTarget.id&&e.relatedTarget.id==="jstree-marker-line")return false;if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){if(this.data.dnd.i1)clearInterval(this.data.dnd.i1);if(this.data.dnd.i2)clearInterval(this.data.dnd.i2);if(this.data.dnd.to1)clearTimeout(this.data.dnd.to1);if(this.data.dnd.to2)clearTimeout(this.data.dnd.to2);if($.vakata.dnd.helper.children("ins").hasClass("jstree-ok"))$.vakata.dnd.helper.children("ins").attr("class",
"jstree-invalid")}},this)).bind("mousemove.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){var cnt=this.get_container()[0];if(e.pageX+24>this.data.dnd.cof.left+this.data.dnd.cw){if(this.data.dnd.i1)clearInterval(this.data.dnd.i1);this.data.dnd.i1=setInterval($.proxy(function(){this.scrollLeft+=$.vakata.dnd.scroll_spd},cnt),100)}else if(e.pageX-24<this.data.dnd.cof.left){if(this.data.dnd.i1)clearInterval(this.data.dnd.i1);this.data.dnd.i1=setInterval($.proxy(function(){this.scrollLeft-=
$.vakata.dnd.scroll_spd},cnt),100)}else if(this.data.dnd.i1)clearInterval(this.data.dnd.i1);if(e.pageY+24>this.data.dnd.cof.top+this.data.dnd.ch){if(this.data.dnd.i2)clearInterval(this.data.dnd.i2);this.data.dnd.i2=setInterval($.proxy(function(){this.scrollTop+=$.vakata.dnd.scroll_spd},cnt),100)}else if(e.pageY-24<this.data.dnd.cof.top){if(this.data.dnd.i2)clearInterval(this.data.dnd.i2);this.data.dnd.i2=setInterval($.proxy(function(){this.scrollTop-=$.vakata.dnd.scroll_spd},cnt),100)}else if(this.data.dnd.i2)clearInterval(this.data.dnd.i2)}},
this)).bind("scroll.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree&&m&&ml){m.hide();ml.hide()}},this)).delegate("a","mousedown.jstree",$.proxy(function(e){if(e.which===1){this.start_drag(e.currentTarget,e);return false}},this)).delegate("a","mouseenter.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree)this.dnd_enter(e.currentTarget)},this)).delegate("a","mousemove.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){if(!r||
!r.length||r.children("a")[0]!==e.currentTarget)this.dnd_enter(e.currentTarget);if(typeof this.data.dnd.off.top==="undefined")this.data.dnd.off=$(e.target).offset();this.data.dnd.w=(e.pageY-(this.data.dnd.off.top||0))%this.data.core.li_height;if(this.data.dnd.w<0)this.data.dnd.w+=this.data.core.li_height;this.dnd_show()}},this)).delegate("a","mouseleave.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){if(e.relatedTarget&&e.relatedTarget.id&&e.relatedTarget.id===
"jstree-marker-line")return false;if(m)m.hide();if(ml)ml.hide();this.data.dnd.mto=setTimeout(function(t){return function(){t.dnd_leave(e)}}(this),0)}},this)).delegate("a","mouseup.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree)this.dnd_finish(e)},this));$(document).bind("drag_stop.vakata",$.proxy(function(){if(this.data.dnd.to1)clearTimeout(this.data.dnd.to1);if(this.data.dnd.to2)clearTimeout(this.data.dnd.to2);if(this.data.dnd.i1)clearInterval(this.data.dnd.i1);
if(this.data.dnd.i2)clearInterval(this.data.dnd.i2);this.data.dnd.after=false;this.data.dnd.before=false;this.data.dnd.inside=false;this.data.dnd.off=false;this.data.dnd.prepared=false;this.data.dnd.w=false;this.data.dnd.to1=false;this.data.dnd.to2=false;this.data.dnd.i1=false;this.data.dnd.i2=false;this.data.dnd.active=false;this.data.dnd.foreign=false;if(m)m.css({"top":"-2000px"});if(ml)ml.css({"top":"-2000px"})},this)).bind("drag_start.vakata",$.proxy(function(e,data){if(data.data.jstree){var et=
$(data.event.target);if(et.closest(".jstree").hasClass("jstree-"+this.get_index()))this.dnd_enter(et)}},this));var s=this._get_settings().dnd;if(s.drag_target)$(document).delegate(s.drag_target,"mousedown.jstree-"+this.get_index(),$.proxy(function(e){o=e.target;$.vakata.dnd.drag_start(e,{jstree:true,obj:e.target},"\x3cins class\x3d'jstree-icon'\x3e\x3c/ins\x3e"+$(e.target).text());if(this.data.themes){if(m)m.attr("class","jstree-"+this.data.themes.theme);if(ml)ml.attr("class","jstree-"+this.data.themes.theme);
$.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)}$.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");var cnt=this.get_container();this.data.dnd.cof=cnt.offset();this.data.dnd.cw=parseInt(cnt.width(),10);this.data.dnd.ch=parseInt(cnt.height(),10);this.data.dnd.foreign=true;e.preventDefault()},this));if(s.drop_target)$(document).delegate(s.drop_target,"mouseenter.jstree-"+this.get_index(),$.proxy(function(e){if(this.data.dnd.active&&this._get_settings().dnd.drop_check.call(this,
{"o":o,"r":$(e.target),"e":e}))$.vakata.dnd.helper.children("ins").attr("class","jstree-ok")},this)).delegate(s.drop_target,"mouseleave.jstree-"+this.get_index(),$.proxy(function(e){if(this.data.dnd.active)$.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")},this)).delegate(s.drop_target,"mouseup.jstree-"+this.get_index(),$.proxy(function(e){if(this.data.dnd.active&&$.vakata.dnd.helper.children("ins").hasClass("jstree-ok"))this._get_settings().dnd.drop_finish.call(this,{"o":o,"r":$(e.target),
"e":e})},this))},defaults:{copy_modifier:"ctrl",check_timeout:100,open_timeout:500,drop_target:".jstree-drop",drop_check:function(data){return true},drop_finish:$.noop,drag_target:".jstree-draggable",drag_finish:$.noop,drag_check:function(data){return{after:false,before:false,inside:true}}},_fn:{dnd_prepare:function(){if(!r||!r.length)return;this.data.dnd.off=r.offset();if(this._get_settings().core.rtl)this.data.dnd.off.right=this.data.dnd.off.left+r.width();if(this.data.dnd.foreign){var a=this._get_settings().dnd.drag_check.call(this,
{"o":o,"r":r});this.data.dnd.after=a.after;this.data.dnd.before=a.before;this.data.dnd.inside=a.inside;this.data.dnd.prepared=true;return this.dnd_show()}this.prepare_move(o,r,"before");this.data.dnd.before=this.check_move();this.prepare_move(o,r,"after");this.data.dnd.after=this.check_move();if(this._is_loaded(r)){this.prepare_move(o,r,"inside");this.data.dnd.inside=this.check_move()}else this.data.dnd.inside=false;this.data.dnd.prepared=true;return this.dnd_show()},dnd_show:function(){if(!this.data.dnd.prepared)return;
var o=["before","inside","after"],r=false,rtl=this._get_settings().core.rtl,pos;if(this.data.dnd.w<this.data.core.li_height/3)o=["before","inside","after"];else if(this.data.dnd.w<=this.data.core.li_height*2/3)o=this.data.dnd.w<this.data.core.li_height/2?["inside","before","after"]:["inside","after","before"];else o=["after","inside","before"];$.each(o,$.proxy(function(i,val){if(this.data.dnd[val]){$.vakata.dnd.helper.children("ins").attr("class","jstree-ok");r=val;return false}},this));if(r===false)$.vakata.dnd.helper.children("ins").attr("class",
"jstree-invalid");pos=rtl?this.data.dnd.off.right-18:this.data.dnd.off.left+10;switch(r){case "before":m.css({"left":pos+"px","top":this.data.dnd.off.top-6+"px"}).show();if(ml)ml.css({"left":pos+8+"px","top":this.data.dnd.off.top-1+"px"}).show();break;case "after":m.css({"left":pos+"px","top":this.data.dnd.off.top+this.data.core.li_height-6+"px"}).show();if(ml)ml.css({"left":pos+8+"px","top":this.data.dnd.off.top+this.data.core.li_height-1+"px"}).show();break;case "inside":m.css({"left":pos+(rtl?
-4:4)+"px","top":this.data.dnd.off.top+this.data.core.li_height/2-5+"px"}).show();if(ml)ml.hide();break;default:m.hide();if(ml)ml.hide();break}last_pos=r;return r},dnd_open:function(){this.data.dnd.to2=false;this.open_node(r,$.proxy(this.dnd_prepare,this),true)},dnd_finish:function(e){if(this.data.dnd.foreign){if(this.data.dnd.after||this.data.dnd.before||this.data.dnd.inside)this._get_settings().dnd.drag_finish.call(this,{"o":o,"r":r,"p":last_pos})}else{this.dnd_prepare();this.move_node(o,r,last_pos,
e[this._get_settings().dnd.copy_modifier+"Key"])}o=false;r=false;m.hide();if(ml)ml.hide()},dnd_enter:function(obj){if(this.data.dnd.mto){clearTimeout(this.data.dnd.mto);this.data.dnd.mto=false}var s=this._get_settings().dnd;this.data.dnd.prepared=false;r=this._get_node(obj);if(s.check_timeout){if(this.data.dnd.to1)clearTimeout(this.data.dnd.to1);this.data.dnd.to1=setTimeout($.proxy(this.dnd_prepare,this),s.check_timeout)}else this.dnd_prepare();if(s.open_timeout){if(this.data.dnd.to2)clearTimeout(this.data.dnd.to2);
if(r&&r.length&&r.hasClass("jstree-closed"))this.data.dnd.to2=setTimeout($.proxy(this.dnd_open,this),s.open_timeout)}else if(r&&r.length&&r.hasClass("jstree-closed"))this.dnd_open()},dnd_leave:function(e){this.data.dnd.after=false;this.data.dnd.before=false;this.data.dnd.inside=false;$.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");m.hide();if(ml)ml.hide();if(r&&r[0]===e.target.parentNode){if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1);this.data.dnd.to1=false}if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2);
this.data.dnd.to2=false}}},start_drag:function(obj,e){o=this._get_node(obj);if(this.data.ui&&this.is_selected(o))o=this._get_node(null,true);var dt=o.length>1?this._get_string("multiple_selection"):this.get_text(o),cnt=this.get_container();if(!this._get_settings().core.html_titles)dt=dt.replace(/</ig,"\x26lt;").replace(/>/ig,"\x26gt;");$.vakata.dnd.drag_start(e,{jstree:true,obj:o},"\x3cins class\x3d'jstree-icon'\x3e\x3c/ins\x3e"+dt);if(this.data.themes){if(m)m.attr("class","jstree-"+this.data.themes.theme);
if(ml)ml.attr("class","jstree-"+this.data.themes.theme);$.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)}this.data.dnd.cof=cnt.offset();this.data.dnd.cw=parseInt(cnt.width(),10);this.data.dnd.ch=parseInt(cnt.height(),10);this.data.dnd.active=true}}});$(function(){var css_string=""+"#vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px; "+" -moz-border-radius:4px; border-radius:4px; -webkit-border-radius:4px; "+
"} "+"#vakata-dragged .jstree-ok { background:green; } "+"#vakata-dragged .jstree-invalid { background:red; } "+"#jstree-marker { padding:0; margin:0; font-size:12px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10001; background-repeat:no-repeat; display:none; background-color:transparent; text-shadow:1px 1px 1px white; color:black; line-height:10px; } "+"#jstree-marker-line { padding:0; margin:0; line-height:0%; font-size:1px; overflow:hidden; height:1px; width:100px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:#456c43; "+
" cursor:pointer; border:1px solid #eeeeee; border-left:0; -moz-box-shadow: 0px 0px 2px #666; -webkit-box-shadow: 0px 0px 2px #666; box-shadow: 0px 0px 2px #666; "+" -moz-border-radius:1px; border-radius:1px; -webkit-border-radius:1px; "+"}"+"";$.vakata.css.add_sheet({str:css_string,title:"jstree"});m=$("\x3cdiv /\x3e").attr({id:"jstree-marker"}).hide().html("\x26raquo;").bind("mouseleave mouseenter",function(e){m.hide();ml.hide();e.preventDefault();e.stopImmediatePropagation();return false}).appendTo("body");
ml=$("\x3cdiv /\x3e").attr({id:"jstree-marker-line"}).hide().bind("mouseup",function(e){if(r&&r.length){r.children("a").trigger(e);e.preventDefault();e.stopImmediatePropagation();return false}}).bind("mouseleave",function(e){var rt=$(e.relatedTarget);if(rt.is(".jstree")||rt.closest(".jstree").length===0)if(r&&r.length){r.children("a").trigger(e);m.hide();ml.hide();e.preventDefault();e.stopImmediatePropagation();return false}}).appendTo("body");$(document).bind("drag_start.vakata",function(e,data){if(data.data.jstree){m.show();
if(ml)ml.show()}});$(document).bind("drag_stop.vakata",function(e,data){if(data.data.jstree){m.hide();if(ml)ml.hide()}})})})(jQuery);(function($){$.jstree.plugin("checkbox",{__init:function(){this.data.checkbox.noui=this._get_settings().checkbox.override_ui;if(this.data.ui&&this.data.checkbox.noui){this.select_node=this.deselect_node=this.deselect_all=$.noop;this.get_selected=this.get_checked}this.get_container().bind("open_node.jstree create_node.jstree clean_node.jstree refresh.jstree",$.proxy(function(e,
data){this._prepare_checkboxes(data.rslt.obj)},this)).bind("loaded.jstree",$.proxy(function(e){this._prepare_checkboxes()},this)).delegate(this.data.ui&&this.data.checkbox.noui?"a":"ins.jstree-checkbox","click.jstree",$.proxy(function(e){e.preventDefault();if(this._get_node(e.target).hasClass("jstree-checked"))this.uncheck_node(e.target);else this.check_node(e.target);if(this.data.ui&&this.data.checkbox.noui){this.save_selected();if(this.data.cookies)this.save_cookie("select_node")}else{e.stopImmediatePropagation();
return false}},this))},defaults:{override_ui:false,two_state:false,real_checkboxes:false,checked_parent_open:true,real_checkboxes_names:function(n){return["check_"+(n[0].id||Math.ceil(Math.random()*1E4)),1]}},__destroy:function(){this.get_container().find("input.jstree-real-checkbox").removeClass("jstree-real-checkbox").end().find("ins.jstree-checkbox").remove()},_fn:{_checkbox_notify:function(n,data){if(data.checked)this.check_node(n,false)},_prepare_checkboxes:function(obj){obj=!obj||obj==-1?this.get_container().find("\x3e ul \x3e li"):
this._get_node(obj);if(obj===false)return;var c,_this=this,t,ts=this._get_settings().checkbox.two_state,rc=this._get_settings().checkbox.real_checkboxes,rcn=this._get_settings().checkbox.real_checkboxes_names;obj.each(function(){t=$(this);c=t.is("li")&&(t.hasClass("jstree-checked")||rc&&t.children(":checked").length)?"jstree-checked":"jstree-unchecked";t.find("li").andSelf().each(function(){var $t=$(this),nm;$t.children("a"+(_this.data.languages?"":":eq(0)")).not(":has(.jstree-checkbox)").prepend("\x3cins class\x3d'jstree-checkbox'\x3e\x26#160;\x3c/ins\x3e").parent().not(".jstree-checked, .jstree-unchecked").addClass(ts?
"jstree-unchecked":c);if(rc)if(!$t.children(":checkbox").length){nm=rcn.call(_this,$t);$t.prepend("\x3cinput type\x3d'checkbox' class\x3d'jstree-real-checkbox' id\x3d'"+nm[0]+"' name\x3d'"+nm[0]+"' value\x3d'"+nm[1]+"' /\x3e")}else $t.children(":checkbox").addClass("jstree-real-checkbox");if(!ts){if(c==="jstree-checked"||$t.hasClass("jstree-checked")||$t.children(":checked").length)$t.find("li").andSelf().addClass("jstree-checked").children(":checkbox").prop("checked",true)}else if($t.hasClass("jstree-checked")||
$t.children(":checked").length)$t.addClass("jstree-checked").children(":checkbox").prop("checked",true)})});if(!ts)obj.find(".jstree-checked").parent().parent().each(function(){_this._repair_state(this)})},change_state:function(obj,state){obj=this._get_node(obj);var coll=false,rc=this._get_settings().checkbox.real_checkboxes;if(!obj||obj===-1)return false;state=state===false||state===true?state:obj.hasClass("jstree-checked");if(this._get_settings().checkbox.two_state)if(state){obj.removeClass("jstree-checked").addClass("jstree-unchecked");
if(rc)obj.children(":checkbox").prop("checked",false)}else{obj.removeClass("jstree-unchecked").addClass("jstree-checked");if(rc)obj.children(":checkbox").prop("checked",true)}else{if(state){coll=obj.find("li").andSelf();if(!coll.filter(".jstree-checked, .jstree-undetermined").length)return false;coll.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");if(rc)coll.children(":checkbox").prop("checked",false)}else{coll=obj.find("li").andSelf();if(!coll.filter(".jstree-unchecked, .jstree-undetermined").length)return false;
coll.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked");if(rc)coll.children(":checkbox").prop("checked",true);if(this.data.ui)this.data.ui.last_selected=obj;this.data.checkbox.last_selected=obj}obj.parentsUntil(".jstree","li").each(function(){var $this=$(this);if(state)if($this.children("ul").children("li.jstree-checked, li.jstree-undetermined").length){$this.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined");
if(rc)$this.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",false);return false}else{$this.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");if(rc)$this.children(":checkbox").prop("checked",false)}else if($this.children("ul").children("li.jstree-unchecked, li.jstree-undetermined").length){$this.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined");if(rc)$this.parentsUntil(".jstree",
"li").andSelf().children(":checkbox").prop("checked",false);return false}else{$this.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked");if(rc)$this.children(":checkbox").prop("checked",true)}})}if(this.data.ui&&this.data.checkbox.noui)this.data.ui.selected=this.get_checked();this.__callback(obj);return true},check_node:function(obj){if(this.change_state(obj,false)){obj=this._get_node(obj);if(this._get_settings().checkbox.checked_parent_open){var t=this;obj.parents(".jstree-closed").each(function(){t.open_node(this,
false,true)})}this.__callback({"obj":obj})}},uncheck_node:function(obj){if(this.change_state(obj,true))this.__callback({"obj":this._get_node(obj)})},check_all:function(){var _this=this,coll=this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li");coll.each(function(){_this.change_state(this,false)});this.__callback()},uncheck_all:function(){var _this=this,coll=this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li");
coll.each(function(){_this.change_state(this,true)});this.__callback()},is_checked:function(obj){obj=this._get_node(obj);return obj.length?obj.is(".jstree-checked"):false},get_checked:function(obj,get_all){obj=!obj||obj===-1?this.get_container():this._get_node(obj);return get_all||this._get_settings().checkbox.two_state?obj.find(".jstree-checked"):obj.find("\x3e ul \x3e .jstree-checked, .jstree-undetermined \x3e ul \x3e .jstree-checked")},get_unchecked:function(obj,get_all){obj=!obj||obj===-1?this.get_container():
this._get_node(obj);return get_all||this._get_settings().checkbox.two_state?obj.find(".jstree-unchecked"):obj.find("\x3e ul \x3e .jstree-unchecked, .jstree-undetermined \x3e ul \x3e .jstree-unchecked")},show_checkboxes:function(){this.get_container().children("ul").removeClass("jstree-no-checkboxes")},hide_checkboxes:function(){this.get_container().children("ul").addClass("jstree-no-checkboxes")},_repair_state:function(obj){obj=this._get_node(obj);if(!obj.length)return;if(this._get_settings().checkbox.two_state){obj.find("li").andSelf().not(".jstree-checked").removeClass("jstree-undetermined").addClass("jstree-unchecked").children(":checkbox").prop("checked",
true);return}var rc=this._get_settings().checkbox.real_checkboxes,a=obj.find("\x3e ul \x3e .jstree-checked").length,b=obj.find("\x3e ul \x3e .jstree-undetermined").length,c=obj.find("\x3e ul \x3e li").length;if(c===0){if(obj.hasClass("jstree-undetermined"))this.change_state(obj,false)}else if(a===0&&b===0)this.change_state(obj,true);else if(a===c)this.change_state(obj,false);else{obj.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined");
if(rc)obj.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",false)}},reselect:function(){if(this.data.ui&&this.data.checkbox.noui){var _this=this,s=this.data.ui.to_select;s=$.map($.makeArray(s),function(n){return"#"+n.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});this.deselect_all();$.each(s,function(i,val){_this.check_node(val)});this.__callback()}else this.__call_old()},save_loaded:function(){var _this=
this;this.data.core.to_load=[];this.get_container_ul().find("li.jstree-closed.jstree-undetermined").each(function(){if(this.id)_this.data.core.to_load.push("#"+this.id)})}}});$(function(){var css_string=".jstree .jstree-real-checkbox { display:none; } ";$.vakata.css.add_sheet({str:css_string,title:"jstree"})})})(jQuery);(function($){$.vakata.xslt=function(xml,xsl,callback){var rs="",xm,xs,processor,support;if(document.recalc){xm=document.createElement("xml");xs=document.createElement("xml");xm.innerHTML=
xml;xs.innerHTML=xsl;$("body").append(xm).append(xs);setTimeout(function(xm,xs,callback){return function(){callback.call(null,xm.transformNode(xs.XMLDocument));setTimeout(function(xm,xs){return function(){$(xm).remove();$(xs).remove()}}(xm,xs),200)}}(xm,xs,callback),100);return true}if(typeof window.DOMParser!=="undefined"&&typeof window.XMLHttpRequest!=="undefined"&&typeof window.XSLTProcessor==="undefined"){xml=(new DOMParser).parseFromString(xml,"text/xml");xsl=(new DOMParser).parseFromString(xsl,
"text/xml")}if(typeof window.DOMParser!=="undefined"&&typeof window.XMLHttpRequest!=="undefined"&&typeof window.XSLTProcessor!=="undefined"){processor=new XSLTProcessor;support=$.isFunction(processor.transformDocument)?typeof window.XMLSerializer!=="undefined":true;if(!support)return false;xml=(new DOMParser).parseFromString(xml,"text/xml");xsl=(new DOMParser).parseFromString(xsl,"text/xml");if($.isFunction(processor.transformDocument)){rs=document.implementation.createDocument("","",null);processor.transformDocument(xml,
xsl,rs,null);callback.call(null,(new XMLSerializer).serializeToString(rs));return true}else{processor.importStylesheet(xsl);rs=processor.transformToFragment(xml,document);callback.call(null,$("\x3cdiv /\x3e").append(rs).html());return true}}return false};var xsl={"nest":"\x3c"+'?xml version\x3d"1.0" encoding\x3d"utf-8" ?\x3e'+'\x3cxsl:stylesheet version\x3d"1.0" xmlns:xsl\x3d"http://www.w3.org/1999/XSL/Transform" \x3e'+'\x3cxsl:output method\x3d"html" encoding\x3d"utf-8" omit-xml-declaration\x3d"yes" standalone\x3d"no" indent\x3d"no" media-type\x3d"text/html" /\x3e'+
'\x3cxsl:template match\x3d"/"\x3e'+'\t\x3cxsl:call-template name\x3d"nodes"\x3e'+'\t\t\x3cxsl:with-param name\x3d"node" select\x3d"/root" /\x3e'+"\t\x3c/xsl:call-template\x3e"+"\x3c/xsl:template\x3e"+'\x3cxsl:template name\x3d"nodes"\x3e'+'\t\x3cxsl:param name\x3d"node" /\x3e'+"\t\x3cul\x3e"+'\t\x3cxsl:for-each select\x3d"$node/item"\x3e'+'\t\t\x3cxsl:variable name\x3d"children" select\x3d"count(./item) \x26gt; 0" /\x3e'+"\t\t\x3cli\x3e"+'\t\t\t\x3cxsl:attribute name\x3d"class"\x3e'+'\t\t\t\t\x3cxsl:if test\x3d"position() \x3d last()"\x3ejstree-last \x3c/xsl:if\x3e'+
"\t\t\t\t\x3cxsl:choose\x3e"+"\t\t\t\t\t\x3cxsl:when test\x3d\"@state \x3d 'open'\"\x3ejstree-open \x3c/xsl:when\x3e"+"\t\t\t\t\t\x3cxsl:when test\x3d\"$children or @hasChildren or @state \x3d 'closed'\"\x3ejstree-closed \x3c/xsl:when\x3e"+"\t\t\t\t\t\x3cxsl:otherwise\x3ejstree-leaf \x3c/xsl:otherwise\x3e"+"\t\t\t\t\x3c/xsl:choose\x3e"+'\t\t\t\t\x3cxsl:value-of select\x3d"@class" /\x3e'+"\t\t\t\x3c/xsl:attribute\x3e"+'\t\t\t\x3cxsl:for-each select\x3d"@*"\x3e'+"\t\t\t\t\x3cxsl:if test\x3d\"name() !\x3d 'class' and name() !\x3d 'state' and name() !\x3d 'hasChildren'\"\x3e"+
'\t\t\t\t\t\x3cxsl:attribute name\x3d"{name()}"\x3e\x3cxsl:value-of select\x3d"." /\x3e\x3c/xsl:attribute\x3e'+"\t\t\t\t\x3c/xsl:if\x3e"+"\t\t\t\x3c/xsl:for-each\x3e"+'\t\x3cins class\x3d"jstree-icon"\x3e\x3cxsl:text\x3e\x26#xa0;\x3c/xsl:text\x3e\x3c/ins\x3e'+'\t\t\t\x3cxsl:for-each select\x3d"content/name"\x3e'+"\t\t\t\t\x3ca\x3e"+'\t\t\t\t\x3cxsl:attribute name\x3d"href"\x3e'+"\t\t\t\t\t\x3cxsl:choose\x3e"+'\t\t\t\t\t\x3cxsl:when test\x3d"@href"\x3e\x3cxsl:value-of select\x3d"@href" /\x3e\x3c/xsl:when\x3e'+
"\t\t\t\t\t\x3cxsl:otherwise\x3e#\x3c/xsl:otherwise\x3e"+"\t\t\t\t\t\x3c/xsl:choose\x3e"+"\t\t\t\t\x3c/xsl:attribute\x3e"+'\t\t\t\t\x3cxsl:attribute name\x3d"class"\x3e\x3cxsl:value-of select\x3d"@lang" /\x3e \x3cxsl:value-of select\x3d"@class" /\x3e\x3c/xsl:attribute\x3e'+'\t\t\t\t\x3cxsl:attribute name\x3d"style"\x3e\x3cxsl:value-of select\x3d"@style" /\x3e\x3c/xsl:attribute\x3e'+'\t\t\t\t\x3cxsl:for-each select\x3d"@*"\x3e'+"\t\t\t\t\t\x3cxsl:if test\x3d\"name() !\x3d 'style' and name() !\x3d 'class' and name() !\x3d 'href'\"\x3e"+
'\t\t\t\t\t\t\x3cxsl:attribute name\x3d"{name()}"\x3e\x3cxsl:value-of select\x3d"." /\x3e\x3c/xsl:attribute\x3e'+"\t\t\t\t\t\x3c/xsl:if\x3e"+"\t\t\t\t\x3c/xsl:for-each\x3e"+"\t\t\t\t\t\x3cins\x3e"+'\t\t\t\t\t\t\x3cxsl:attribute name\x3d"class"\x3ejstree-icon '+'\t\t\t\t\t\t\t\x3cxsl:if test\x3d"string-length(attribute::icon) \x3e 0 and not(contains(@icon,\'/\'))"\x3e\x3cxsl:value-of select\x3d"@icon" /\x3e\x3c/xsl:if\x3e'+"\t\t\t\t\t\t\x3c/xsl:attribute\x3e"+'\t\t\t\t\t\t\x3cxsl:if test\x3d"string-length(attribute::icon) \x3e 0 and contains(@icon,\'/\')"\x3e\x3cxsl:attribute name\x3d"style"\x3ebackground:url(\x3cxsl:value-of select\x3d"@icon" /\x3e) center center no-repeat;\x3c/xsl:attribute\x3e\x3c/xsl:if\x3e'+
"\t\t\t\t\t\t\x3cxsl:text\x3e\x26#xa0;\x3c/xsl:text\x3e"+"\t\t\t\t\t\x3c/ins\x3e"+'\t\t\t\t\t\x3cxsl:copy-of select\x3d"./child::node()" /\x3e'+"\t\t\t\t\x3c/a\x3e"+"\t\t\t\x3c/xsl:for-each\x3e"+'\t\t\t\x3cxsl:if test\x3d"$children or @hasChildren"\x3e\x3cxsl:call-template name\x3d"nodes"\x3e\x3cxsl:with-param name\x3d"node" select\x3d"current()" /\x3e\x3c/xsl:call-template\x3e\x3c/xsl:if\x3e'+"\t\t\x3c/li\x3e"+"\t\x3c/xsl:for-each\x3e"+"\t\x3c/ul\x3e"+"\x3c/xsl:template\x3e"+"\x3c/xsl:stylesheet\x3e",
"flat":"\x3c"+'?xml version\x3d"1.0" encoding\x3d"utf-8" ?\x3e'+'\x3cxsl:stylesheet version\x3d"1.0" xmlns:xsl\x3d"http://www.w3.org/1999/XSL/Transform" \x3e'+'\x3cxsl:output method\x3d"html" encoding\x3d"utf-8" omit-xml-declaration\x3d"yes" standalone\x3d"no" indent\x3d"no" media-type\x3d"text/xml" /\x3e'+'\x3cxsl:template match\x3d"/"\x3e'+"\t\x3cul\x3e"+'\t\x3cxsl:for-each select\x3d"//item[not(@parent_id) or @parent_id\x3d0 or not(@parent_id \x3d //item/@id)]"\x3e'+'\t\t\x3cxsl:call-template name\x3d"nodes"\x3e'+
'\t\t\t\x3cxsl:with-param name\x3d"node" select\x3d"." /\x3e'+'\t\t\t\x3cxsl:with-param name\x3d"is_last" select\x3d"number(position() \x3d last())" /\x3e'+"\t\t\x3c/xsl:call-template\x3e"+"\t\x3c/xsl:for-each\x3e"+"\t\x3c/ul\x3e"+"\x3c/xsl:template\x3e"+'\x3cxsl:template name\x3d"nodes"\x3e'+'\t\x3cxsl:param name\x3d"node" /\x3e'+'\t\x3cxsl:param name\x3d"is_last" /\x3e'+'\t\x3cxsl:variable name\x3d"children" select\x3d"count(//item[@parent_id\x3d$node/attribute::id]) \x26gt; 0" /\x3e'+"\t\x3cli\x3e"+
'\t\x3cxsl:attribute name\x3d"class"\x3e'+'\t\t\x3cxsl:if test\x3d"$is_last \x3d true()"\x3ejstree-last \x3c/xsl:if\x3e'+"\t\t\x3cxsl:choose\x3e"+"\t\t\t\x3cxsl:when test\x3d\"@state \x3d 'open'\"\x3ejstree-open \x3c/xsl:when\x3e"+"\t\t\t\x3cxsl:when test\x3d\"$children or @hasChildren or @state \x3d 'closed'\"\x3ejstree-closed \x3c/xsl:when\x3e"+"\t\t\t\x3cxsl:otherwise\x3ejstree-leaf \x3c/xsl:otherwise\x3e"+"\t\t\x3c/xsl:choose\x3e"+'\t\t\x3cxsl:value-of select\x3d"@class" /\x3e'+"\t\x3c/xsl:attribute\x3e"+
'\t\x3cxsl:for-each select\x3d"@*"\x3e'+"\t\t\x3cxsl:if test\x3d\"name() !\x3d 'parent_id' and name() !\x3d 'hasChildren' and name() !\x3d 'class' and name() !\x3d 'state'\"\x3e"+'\t\t\x3cxsl:attribute name\x3d"{name()}"\x3e\x3cxsl:value-of select\x3d"." /\x3e\x3c/xsl:attribute\x3e'+"\t\t\x3c/xsl:if\x3e"+"\t\x3c/xsl:for-each\x3e"+'\t\x3cins class\x3d"jstree-icon"\x3e\x3cxsl:text\x3e\x26#xa0;\x3c/xsl:text\x3e\x3c/ins\x3e'+'\t\x3cxsl:for-each select\x3d"content/name"\x3e'+"\t\t\x3ca\x3e"+'\t\t\x3cxsl:attribute name\x3d"href"\x3e'+
"\t\t\t\x3cxsl:choose\x3e"+'\t\t\t\x3cxsl:when test\x3d"@href"\x3e\x3cxsl:value-of select\x3d"@href" /\x3e\x3c/xsl:when\x3e'+"\t\t\t\x3cxsl:otherwise\x3e#\x3c/xsl:otherwise\x3e"+"\t\t\t\x3c/xsl:choose\x3e"+"\t\t\x3c/xsl:attribute\x3e"+'\t\t\x3cxsl:attribute name\x3d"class"\x3e\x3cxsl:value-of select\x3d"@lang" /\x3e \x3cxsl:value-of select\x3d"@class" /\x3e\x3c/xsl:attribute\x3e'+'\t\t\x3cxsl:attribute name\x3d"style"\x3e\x3cxsl:value-of select\x3d"@style" /\x3e\x3c/xsl:attribute\x3e'+'\t\t\x3cxsl:for-each select\x3d"@*"\x3e'+
"\t\t\t\x3cxsl:if test\x3d\"name() !\x3d 'style' and name() !\x3d 'class' and name() !\x3d 'href'\"\x3e"+'\t\t\t\t\x3cxsl:attribute name\x3d"{name()}"\x3e\x3cxsl:value-of select\x3d"." /\x3e\x3c/xsl:attribute\x3e'+"\t\t\t\x3c/xsl:if\x3e"+"\t\t\x3c/xsl:for-each\x3e"+"\t\t\t\x3cins\x3e"+'\t\t\t\t\x3cxsl:attribute name\x3d"class"\x3ejstree-icon '+'\t\t\t\t\t\x3cxsl:if test\x3d"string-length(attribute::icon) \x3e 0 and not(contains(@icon,\'/\'))"\x3e\x3cxsl:value-of select\x3d"@icon" /\x3e\x3c/xsl:if\x3e'+
"\t\t\t\t\x3c/xsl:attribute\x3e"+'\t\t\t\t\x3cxsl:if test\x3d"string-length(attribute::icon) \x3e 0 and contains(@icon,\'/\')"\x3e\x3cxsl:attribute name\x3d"style"\x3ebackground:url(\x3cxsl:value-of select\x3d"@icon" /\x3e) center center no-repeat;\x3c/xsl:attribute\x3e\x3c/xsl:if\x3e'+"\t\t\t\t\x3cxsl:text\x3e\x26#xa0;\x3c/xsl:text\x3e"+"\t\t\t\x3c/ins\x3e"+'\t\t\t\x3cxsl:copy-of select\x3d"./child::node()" /\x3e'+"\t\t\x3c/a\x3e"+"\t\x3c/xsl:for-each\x3e"+'\t\x3cxsl:if test\x3d"$children"\x3e'+
"\t\t\x3cul\x3e"+'\t\t\x3cxsl:for-each select\x3d"//item[@parent_id\x3d$node/attribute::id]"\x3e'+'\t\t\t\x3cxsl:call-template name\x3d"nodes"\x3e'+'\t\t\t\t\x3cxsl:with-param name\x3d"node" select\x3d"." /\x3e'+'\t\t\t\t\x3cxsl:with-param name\x3d"is_last" select\x3d"number(position() \x3d last())" /\x3e'+"\t\t\t\x3c/xsl:call-template\x3e"+"\t\t\x3c/xsl:for-each\x3e"+"\t\t\x3c/ul\x3e"+"\t\x3c/xsl:if\x3e"+"\t\x3c/li\x3e"+"\x3c/xsl:template\x3e"+"\x3c/xsl:stylesheet\x3e"},escape_xml=function(string){return string.toString().replace(/&/g,
"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26apos;")};$.jstree.plugin("xml_data",{defaults:{data:false,ajax:false,xsl:"flat",clean_node:false,correct_state:true,get_skip_empty:false,get_include_preamble:true},_fn:{load_node:function(obj,s_call,e_call){var _this=this;this.load_node_xml(obj,function(){_this.__callback({"obj":_this._get_node(obj)});s_call.call(this)},e_call)},_is_loaded:function(obj){var s=this._get_settings().xml_data;obj=this._get_node(obj);
return obj==-1||!obj||!s.ajax&&!$.isFunction(s.data)||obj.is(".jstree-open, .jstree-leaf")||obj.children("ul").children("li").size()>0},load_node_xml:function(obj,s_call,e_call){var s=this.get_settings().xml_data,error_func=function(){},success_func=function(){};obj=this._get_node(obj);if(obj&&obj!==-1)if(obj.data("jstree_is_loading"))return;else obj.data("jstree_is_loading",true);switch(!0){case !s.data&&!s.ajax:throw"Neither data nor ajax settings supplied.";case $.isFunction(s.data):s.data.call(this,
obj,$.proxy(function(d){this.parse_xml(d,$.proxy(function(d){if(d){d=d.replace(/ ?xmlns="[^"]*"/ig,"");if(d.length>10){d=$(d);if(obj===-1||!obj)this.get_container().children("ul").empty().append(d.children());else{obj.children("a.jstree-loading").removeClass("jstree-loading");obj.append(d);obj.removeData("jstree_is_loading")}if(s.clean_node)this.clean_node(obj);if(s_call)s_call.call(this)}else if(obj&&obj!==-1){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");
if(s.correct_state){this.correct_state(obj);if(s_call)s_call.call(this)}}else if(s.correct_state){this.get_container().children("ul").empty();if(s_call)s_call.call(this)}}},this))},this));break;case !!s.data&&!s.ajax||!!s.data&&!!s.ajax&&(!obj||obj===-1):if(!obj||obj==-1)this.parse_xml(s.data,$.proxy(function(d){if(d){d=d.replace(/ ?xmlns="[^"]*"/ig,"");if(d.length>10){d=$(d);this.get_container().children("ul").empty().append(d.children());if(s.clean_node)this.clean_node(obj);if(s_call)s_call.call(this)}}else if(s.correct_state){this.get_container().children("ul").empty();
if(s_call)s_call.call(this)}},this));break;case !s.data&&!!s.ajax||!!s.data&&!!s.ajax&&obj&&obj!==-1:error_func=function(x,t,e){var ef=this.get_settings().xml_data.ajax.error;if(ef)ef.call(this,x,t,e);if(obj!==-1&&obj.length){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(t==="success"&&s.correct_state)this.correct_state(obj)}else if(t==="success"&&s.correct_state)this.get_container().children("ul").empty();if(e_call)e_call.call(this)};success_func=
function(d,t,x){d=x.responseText;var sf=this.get_settings().xml_data.ajax.success;if(sf)d=sf.call(this,d,t,x)||d;if(d===""||d&&d.toString&&d.toString().replace(/^[\s\n]+$/,"")==="")return error_func.call(this,x,t,"");this.parse_xml(d,$.proxy(function(d){if(d){d=d.replace(/ ?xmlns="[^"]*"/ig,"");if(d.length>10){d=$(d);if(obj===-1||!obj)this.get_container().children("ul").empty().append(d.children());else{obj.children("a.jstree-loading").removeClass("jstree-loading");obj.append(d);obj.removeData("jstree_is_loading")}if(s.clean_node)this.clean_node(obj);
if(s_call)s_call.call(this)}else if(obj&&obj!==-1){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(s.correct_state){this.correct_state(obj);if(s_call)s_call.call(this)}}else if(s.correct_state){this.get_container().children("ul").empty();if(s_call)s_call.call(this)}}},this))};s.ajax.context=this;s.ajax.error=error_func;s.ajax.success=success_func;if(!s.ajax.dataType)s.ajax.dataType="xml";if($.isFunction(s.ajax.url))s.ajax.url=s.ajax.url.call(this,
obj);if($.isFunction(s.ajax.data))s.ajax.data=s.ajax.data.call(this,obj);$.ajax(s.ajax);break}},parse_xml:function(xml,callback){var s=this._get_settings().xml_data;$.vakata.xslt(xml,xsl[s.xsl],callback)},get_xml:function(tp,obj,li_attr,a_attr,is_callback){var result="",s=this._get_settings(),_this=this,tmp1,tmp2,li,a,lang;if(!tp)tp="flat";if(!is_callback)is_callback=0;obj=this._get_node(obj);if(!obj||obj===-1)obj=this.get_container().find("\x3e ul \x3e li");li_attr=$.isArray(li_attr)?li_attr:["id",
"class"];if(!is_callback&&this.data.types&&$.inArray(s.types.type_attr,li_attr)===-1)li_attr.push(s.types.type_attr);a_attr=$.isArray(a_attr)?a_attr:[];if(!is_callback){if(s.xml_data.get_include_preamble)result+="\x3c"+'?xml version\x3d"1.0" encoding\x3d"UTF-8"?'+"\x3e";result+="\x3croot\x3e"}obj.each(function(){result+="\x3citem";li=$(this);$.each(li_attr,function(i,v){var t=li.attr(v);if(!s.xml_data.get_skip_empty||typeof t!=="undefined")result+=" "+v+'\x3d"'+escape_xml((" "+(t||"")).replace(/ jstree[^ ]*/ig,
"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+'"'});if(li.hasClass("jstree-open"))result+=' state\x3d"open"';if(li.hasClass("jstree-closed"))result+=' state\x3d"closed"';if(tp==="flat")result+=' parent_id\x3d"'+escape_xml(is_callback)+'"';result+="\x3e";result+="\x3ccontent\x3e";a=li.children("a");a.each(function(){tmp1=$(this);lang=false;result+="\x3cname";if($.inArray("languages",s.plugins)!==-1)$.each(s.languages,function(k,z){if(tmp1.hasClass(z)){result+=' lang\x3d"'+escape_xml(z)+
'"';lang=z;return false}});if(a_attr.length)$.each(a_attr,function(k,z){var t=tmp1.attr(z);if(!s.xml_data.get_skip_empty||typeof t!=="undefined")result+=" "+z+'\x3d"'+escape_xml((" "+t||"").replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+'"'});if(tmp1.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length)result+=' icon\x3d"'+escape_xml(tmp1.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/\s+$/ig," ").replace(/^ /,
"").replace(/ $/,""))+'"';if(tmp1.children("ins").get(0).style.backgroundImage.length)result+=' icon\x3d"'+escape_xml(tmp1.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","").replace(/'/ig,"").replace(/"/ig,""))+'"';result+="\x3e";result+="\x3c![CDATA["+_this.get_text(tmp1,lang)+"]]\x3e";result+="\x3c/name\x3e"});result+="\x3c/content\x3e";tmp2=li[0].id||true;li=li.find("\x3e ul \x3e li");if(li.length)tmp2=_this.get_xml(tp,li,li_attr,a_attr,tmp2);else tmp2="";if(tp=="nest")result+=
tmp2;result+="\x3c/item\x3e";if(tp=="flat")result+=tmp2});if(!is_callback)result+="\x3c/root\x3e";return result}}})})(jQuery);(function($){$.expr[":"].jstree_contains=function(a,i,m){return(a.textContent||a.innerText||"").toLowerCase().indexOf(m[3].toLowerCase())>=0};$.expr[":"].jstree_title_contains=function(a,i,m){return(a.getAttribute("title")||"").toLowerCase().indexOf(m[3].toLowerCase())>=0};$.jstree.plugin("search",{__init:function(){this.data.search.str="";this.data.search.result=$();if(this._get_settings().search.show_only_matches)this.get_container().bind("search.jstree",
function(e,data){$(this).children("ul").find("li").hide().removeClass("jstree-last");data.rslt.nodes.parentsUntil(".jstree").andSelf().show().filter("ul").each(function(){$(this).children("li:visible").eq(-1).addClass("jstree-last")})}).bind("clear_search.jstree",function(){$(this).children("ul").find("li").css("display","").end().end().jstree("clean_node",-1)})},defaults:{ajax:false,search_method:"jstree_contains",show_only_matches:false},_fn:{search:function(str,skip_async){if($.trim(str)===""){this.clear_search();
return}var s=this.get_settings().search,t=this,error_func=function(){},success_func=function(){};this.data.search.str=str;if(!skip_async&&s.ajax!==false&&this.get_container_ul().find("li.jstree-closed:not(:has(ul)):eq(0)").length>0){this.search.supress_callback=true;error_func=function(){};success_func=function(d,t,x){var sf=this.get_settings().search.ajax.success;if(sf)d=sf.call(this,d,t,x)||d;this.data.search.to_open=d;this._search_open()};s.ajax.context=this;s.ajax.error=error_func;s.ajax.success=
success_func;if($.isFunction(s.ajax.url))s.ajax.url=s.ajax.url.call(this,str);if($.isFunction(s.ajax.data))s.ajax.data=s.ajax.data.call(this,str);if(!s.ajax.data)s.ajax.data={"search_string":str};if(!s.ajax.dataType||/^json/.exec(s.ajax.dataType))s.ajax.dataType="json";$.ajax(s.ajax);return}if(this.data.search.result.length)this.clear_search();this.data.search.result=this.get_container().find("a"+(this.data.languages?"."+this.get_lang():"")+":"+s.search_method+"("+this.data.search.str+")");this.data.search.result.addClass("jstree-search").parent().parents(".jstree-closed").each(function(){t.open_node(this,
false,true)});this.__callback({nodes:this.data.search.result,str:str})},clear_search:function(str){this.data.search.result.removeClass("jstree-search");this.__callback(this.data.search.result);this.data.search.result=$()},_search_open:function(is_callback){var _this=this,done=true,current=[],remaining=[];if(this.data.search.to_open.length){$.each(this.data.search.to_open,function(i,val){if(val=="#")return true;if($(val).length&&$(val).is(".jstree-closed"))current.push(val);else remaining.push(val)});
if(current.length){this.data.search.to_open=remaining;$.each(current,function(i,val){_this.open_node(val,function(){_this._search_open(true)})});done=false}}if(done)this.search(this.data.search.str,true)}}})})(jQuery);(function($){$.vakata.context={hide_on_mouseleave:false,cnt:$("\x3cdiv id\x3d'vakata-contextmenu' /\x3e"),vis:false,tgt:false,par:false,func:false,data:false,rtl:false,show:function(s,t,x,y,d,p,rtl){$.vakata.context.rtl=!!rtl;var html=$.vakata.context.parse(s),h,w;if(!html)return;$.vakata.context.vis=
true;$.vakata.context.tgt=t;$.vakata.context.par=p||t||null;$.vakata.context.data=d||null;$.vakata.context.cnt.html(html).css({"visibility":"hidden","display":"block","left":0,"top":0});if($.vakata.context.hide_on_mouseleave)$.vakata.context.cnt.one("mouseleave",function(e){$.vakata.context.hide()});h=$.vakata.context.cnt.height();w=$.vakata.context.cnt.width();if(x+w>$(document).width()){x=$(document).width()-(w+5);$.vakata.context.cnt.find("li \x3e ul").addClass("right")}if(y+h>$(document).height()){y=
y-(h+t[0].offsetHeight);$.vakata.context.cnt.find("li \x3e ul").addClass("bottom")}$.vakata.context.cnt.css({"left":x,"top":y}).find("li:has(ul)").bind("mouseenter",function(e){var w=$(document).width(),h=$(document).height(),ul=$(this).children("ul").show();if(w!==$(document).width())ul.toggleClass("right");if(h!==$(document).height())ul.toggleClass("bottom")}).bind("mouseleave",function(e){$(this).children("ul").hide()}).end().css({"visibility":"visible"}).show();$(document).triggerHandler("context_show.vakata")},
hide:function(){$.vakata.context.vis=false;$.vakata.context.cnt.attr("class","").css({"visibility":"hidden"});$(document).triggerHandler("context_hide.vakata")},parse:function(s,is_callback){if(!s)return false;var str="",tmp=false,was_sep=true;if(!is_callback)$.vakata.context.func={};str+="\x3cul\x3e";$.each(s,function(i,val){if(!val)return true;$.vakata.context.func[i]=val.action;if(!was_sep&&val.separator_before)str+="\x3cli class\x3d'vakata-separator vakata-separator-before'\x3e\x3c/li\x3e";was_sep=
false;str+="\x3cli class\x3d'"+(val._class||"")+(val._disabled?" jstree-contextmenu-disabled ":"")+"'\x3e\x3cins ";if(val.icon&&val.icon.indexOf("/")===-1)str+=" class\x3d'"+val.icon+"' ";if(val.icon&&val.icon.indexOf("/")!==-1)str+=" style\x3d'background:url("+val.icon+") center center no-repeat;' ";str+="\x3e\x26#160;\x3c/ins\x3e\x3ca href\x3d'#' rel\x3d'"+i+"'\x3e";if(val.submenu)str+="\x3cspan style\x3d'float:"+($.vakata.context.rtl?"left":"right")+";'\x3e\x26raquo;\x3c/span\x3e";str+=val.label+
"\x3c/a\x3e";if(val.submenu){tmp=$.vakata.context.parse(val.submenu,true);if(tmp)str+=tmp}str+="\x3c/li\x3e";if(val.separator_after){str+="\x3cli class\x3d'vakata-separator vakata-separator-after'\x3e\x3c/li\x3e";was_sep=true}});str=str.replace(/<li class\='vakata-separator vakata-separator-after'\><\/li\>$/,"");str+="\x3c/ul\x3e";$(document).triggerHandler("context_parse.vakata");return str.length>10?str:false},exec:function(i){if($.isFunction($.vakata.context.func[i])){$.vakata.context.func[i].call($.vakata.context.data,
$.vakata.context.par);return true}else return false}};$(function(){var css_string=""+"#vakata-contextmenu { display:block; visibility:hidden; left:0; top:-200px; position:absolute; margin:0; padding:0; min-width:180px; background:#ebebeb; border:1px solid silver; z-index:10000; *width:180px; } "+"#vakata-contextmenu ul { min-width:180px; *width:180px; } "+"#vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } "+"#vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } "+
"#vakata-contextmenu li a { padding:1px 6px; line-height:17px; display:block; text-decoration:none; margin:1px 1px 0 1px; } "+"#vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } "+"#vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover \x3e a { background:gray; color:white; } "+"#vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; background:#ebebeb; border:1px solid gray; } "+"#vakata-contextmenu .right { right:100%; left:auto; } "+
"#vakata-contextmenu .bottom { bottom:-1px; top:auto; } "+"#vakata-contextmenu li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin:0 2px; background:silver; /* border-top:1px solid #fefefe; */ padding:0; } ";$.vakata.css.add_sheet({str:css_string,title:"vakata"});$.vakata.context.cnt.delegate("a","click",function(e){e.preventDefault()}).delegate("a","mouseup",function(e){if(!$(this).parent().hasClass("jstree-contextmenu-disabled")&&$.vakata.context.exec($(this).attr("rel")))$.vakata.context.hide();
else $(this).blur()}).delegate("a","mouseover",function(){$.vakata.context.cnt.find(".vakata-hover").removeClass("vakata-hover")}).appendTo("body");$(document).bind("mousedown",function(e){if($.vakata.context.vis&&!$.contains($.vakata.context.cnt[0],e.target))$.vakata.context.hide()});if(typeof $.hotkeys!=="undefined")$(document).bind("keydown","up",function(e){if($.vakata.context.vis){var o=$.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").prevAll("li:not(.vakata-separator)").first();
if(!o.length)o=$.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").last();o.addClass("vakata-hover");e.stopImmediatePropagation();e.preventDefault()}}).bind("keydown","down",function(e){if($.vakata.context.vis){var o=$.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").nextAll("li:not(.vakata-separator)").first();if(!o.length)o=$.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").first();
o.addClass("vakata-hover");e.stopImmediatePropagation();e.preventDefault()}}).bind("keydown","right",function(e){if($.vakata.context.vis){$.vakata.context.cnt.find(".vakata-hover").children("ul").show().children("li:not(.vakata-separator)").removeClass("vakata-hover").first().addClass("vakata-hover");e.stopImmediatePropagation();e.preventDefault()}}).bind("keydown","left",function(e){if($.vakata.context.vis){$.vakata.context.cnt.find(".vakata-hover").children("ul").hide().children(".vakata-separator").removeClass("vakata-hover");
e.stopImmediatePropagation();e.preventDefault()}}).bind("keydown","esc",function(e){$.vakata.context.hide();e.preventDefault()}).bind("keydown","space",function(e){$.vakata.context.cnt.find(".vakata-hover").last().children("a").click();e.preventDefault()})});$.jstree.plugin("contextmenu",{__init:function(){this.get_container().delegate("a","contextmenu.jstree",$.proxy(function(e){e.preventDefault();if(!$(e.currentTarget).hasClass("jstree-loading"))this.show_contextmenu(e.currentTarget,e.pageX,e.pageY)},
this)).delegate("a","click.jstree",$.proxy(function(e){if(this.data.contextmenu)$.vakata.context.hide()},this)).bind("destroy.jstree",$.proxy(function(){if(this.data.contextmenu)$.vakata.context.hide()},this));$(document).bind("context_hide.vakata",$.proxy(function(){this.data.contextmenu=false},this))},defaults:{select_node:false,show_at_node:true,items:{"create":{"separator_before":false,"separator_after":true,"label":"Create","action":function(obj){this.create(obj)}},"rename":{"separator_before":false,
"separator_after":false,"label":"Rename","action":function(obj){this.rename(obj)}},"remove":{"separator_before":false,"icon":false,"separator_after":false,"label":"Delete","action":function(obj){if(this.is_selected(obj))this.remove();else this.remove(obj)}},"ccp":{"separator_before":true,"icon":false,"separator_after":false,"label":"Edit","action":false,"submenu":{"cut":{"separator_before":false,"separator_after":false,"label":"Cut","action":function(obj){this.cut(obj)}},"copy":{"separator_before":false,
"icon":false,"separator_after":false,"label":"Copy","action":function(obj){this.copy(obj)}},"paste":{"separator_before":false,"icon":false,"separator_after":false,"label":"Paste","action":function(obj){this.paste(obj)}}}}}},_fn:{show_contextmenu:function(obj,x,y){obj=this._get_node(obj);var s=this.get_settings().contextmenu,a=obj.children("a:visible:eq(0)"),o=false,i=false;if(s.select_node&&this.data.ui&&!this.is_selected(obj)){this.deselect_all();this.select_node(obj,true)}if(s.show_at_node||typeof x===
"undefined"||typeof y==="undefined"){o=a.offset();x=o.left;y=o.top+this.data.core.li_height}i=obj.data("jstree")&&obj.data("jstree").contextmenu?obj.data("jstree").contextmenu:s.items;if($.isFunction(i))i=i.call(this,obj);this.data.contextmenu=true;$.vakata.context.show(i,a,x,y,this,obj,this._get_settings().core.rtl);if(this.data.themes)$.vakata.context.cnt.attr("class","jstree-"+this.data.themes.theme+"-context")}}})})(jQuery);(function($){$.jstree.plugin("types",{__init:function(){var s=this._get_settings().types;
this.data.types.attach_to=[];this.get_container().bind("init.jstree",$.proxy(function(){var types=s.types,attr=s.type_attr,icons_css="",_this=this;$.each(types,function(i,tp){$.each(tp,function(k,v){if(!/^(max_depth|max_children|icon|valid_children)$/.test(k))_this.data.types.attach_to.push(k)});if(!tp.icon)return true;if(tp.icon.image||tp.icon.position){if(i=="default")icons_css+=".jstree-"+_this.get_index()+" a \x3e .jstree-icon { ";else icons_css+=".jstree-"+_this.get_index()+" li["+attr+'\x3d"'+
i+'"] \x3e a \x3e .jstree-icon { ';if(tp.icon.image)icons_css+=" background-image:url("+tp.icon.image+"); ";if(tp.icon.position)icons_css+=" background-position:"+tp.icon.position+"; ";else icons_css+=" background-position:0 0; ";icons_css+="} "}});if(icons_css!=="")$.vakata.css.add_sheet({"str":icons_css,title:"jstree-types"})},this)).bind("before.jstree",$.proxy(function(e,data){var s,t,o=this._get_settings().types.use_data?this._get_node(data.args[0]):false,d=o&&o!==-1&&o.length?o.data("jstree"):
false;if(d&&d.types&&d.types[data.func]===false){e.stopImmediatePropagation();return false}if($.inArray(data.func,this.data.types.attach_to)!==-1){if(!data.args[0]||!data.args[0].tagName&&!data.args[0].jquery)return;s=this._get_settings().types.types;t=this._get_type(data.args[0]);if((s[t]&&typeof s[t][data.func]!=="undefined"||s["default"]&&typeof s["default"][data.func]!=="undefined")&&this._check(data.func,data.args[0])===false){e.stopImmediatePropagation();return false}}},this));if(is_ie6)this.get_container().bind("load_node.jstree set_type.jstree",
$.proxy(function(e,data){var r=data&&data.rslt&&data.rslt.obj&&data.rslt.obj!==-1?this._get_node(data.rslt.obj).parent():this.get_container_ul(),c=false,s=this._get_settings().types;$.each(s.types,function(i,tp){if(tp.icon&&(tp.icon.image||tp.icon.position)){c=i==="default"?r.find("li \x3e a \x3e .jstree-icon"):r.find("li["+s.type_attr+"\x3d'"+i+"'] \x3e a \x3e .jstree-icon");if(tp.icon.image)c.css("backgroundImage","url("+tp.icon.image+")");c.css("backgroundPosition",tp.icon.position||"0 0")}})},
this))},defaults:{max_children:-1,max_depth:-1,valid_children:"all",use_data:false,type_attr:"rel",types:{"default":{"max_children":-1,"max_depth":-1,"valid_children":"all"}}},_fn:{_types_notify:function(n,data){if(data.type&&this._get_settings().types.use_data)this.set_type(data.type,n)},_get_type:function(obj){obj=this._get_node(obj);return!obj||!obj.length?false:obj.attr(this._get_settings().types.type_attr)||"default"},set_type:function(str,obj){obj=this._get_node(obj);var ret=!obj.length||!str?
false:obj.attr(this._get_settings().types.type_attr,str);if(ret)this.__callback({obj:obj,type:str});return ret},_check:function(rule,obj,opts){obj=this._get_node(obj);var v=false,t=this._get_type(obj),d=0,_this=this,s=this._get_settings().types,data=false;if(obj===-1)if(!!s[rule])v=s[rule];else return;else{if(t===false)return;data=s.use_data?obj.data("jstree"):false;if(data&&data.types&&typeof data.types[rule]!=="undefined")v=data.types[rule];else if(!!s.types[t]&&typeof s.types[t][rule]!=="undefined")v=
s.types[t][rule];else if(!!s.types["default"]&&typeof s.types["default"][rule]!=="undefined")v=s.types["default"][rule]}if($.isFunction(v))v=v.call(this,obj);if(rule==="max_depth"&&obj!==-1&&opts!==false&&s.max_depth!==-2&&v!==0)obj.children("a:eq(0)").parentsUntil(".jstree","li").each(function(i){if(s.max_depth!==-1&&s.max_depth-(i+1)<=0){v=0;return false}d=i===0?v:_this._check(rule,this,false);if(d!==-1&&d-(i+1)<=0){v=0;return false}if(d>=0&&(d-(i+1)<v||v<0))v=d-(i+1);if(s.max_depth>=0&&(s.max_depth-
(i+1)<v||v<0))v=s.max_depth-(i+1)});return v},check_move:function(){if(!this.__call_old())return false;var m=this._get_move(),s=m.rt._get_settings().types,mc=m.rt._check("max_children",m.cr),md=m.rt._check("max_depth",m.cr),vc=m.rt._check("valid_children",m.cr),ch=0,d=1,t;if(vc==="none")return false;if($.isArray(vc)&&m.ot&&m.ot._get_type){m.o.each(function(){if($.inArray(m.ot._get_type(this),vc)===-1){d=false;return false}});if(d===false)return false}if(s.max_children!==-2&&mc!==-1){ch=m.cr===-1?
this.get_container().find("\x3e ul \x3e li").not(m.o).length:m.cr.find("\x3e ul \x3e li").not(m.o).length;if(ch+m.o.length>mc)return false}if(s.max_depth!==-2&&md!==-1){d=0;if(md===0)return false;if(typeof m.o.d==="undefined"){t=m.o;while(t.length>0){t=t.find("\x3e ul \x3e li");d++}m.o.d=d}if(md-m.o.d<0)return false}return true},create_node:function(obj,position,js,callback,is_loaded,skip_check){if(!skip_check&&(is_loaded||this._is_loaded(obj))){var p=typeof position=="string"&&position.match(/^before|after$/i)&&
obj!==-1?this._get_parent(obj):this._get_node(obj),s=this._get_settings().types,mc=this._check("max_children",p),md=this._check("max_depth",p),vc=this._check("valid_children",p),ch;if(typeof js==="string")js={data:js};if(!js)js={};if(vc==="none")return false;if($.isArray(vc))if(!js.attr||!js.attr[s.type_attr]){if(!js.attr)js.attr={};js.attr[s.type_attr]=vc[0]}else if($.inArray(js.attr[s.type_attr],vc)===-1)return false;if(s.max_children!==-2&&mc!==-1){ch=p===-1?this.get_container().find("\x3e ul \x3e li").length:
p.find("\x3e ul \x3e li").length;if(ch+1>mc)return false}if(s.max_depth!==-2&&md!==-1&&md-1<0)return false}return this.__call_old(true,obj,position,js,callback,is_loaded,skip_check)}}})})(jQuery);(function($){$.jstree.plugin("html_data",{__init:function(){this.data.html_data.original_container_html=this.get_container().find(" \x3e ul \x3e li").clone(true);this.data.html_data.original_container_html.find("li").andSelf().contents().filter(function(){return this.nodeType==3}).remove()},defaults:{data:false,
ajax:false,correct_state:true},_fn:{load_node:function(obj,s_call,e_call){var _this=this;this.load_node_html(obj,function(){_this.__callback({"obj":_this._get_node(obj)});s_call.call(this)},e_call)},_is_loaded:function(obj){obj=this._get_node(obj);return obj==-1||!obj||!this._get_settings().html_data.ajax&&!$.isFunction(this._get_settings().html_data.data)||obj.is(".jstree-open, .jstree-leaf")||obj.children("ul").children("li").size()>0},load_node_html:function(obj,s_call,e_call){var d,s=this.get_settings().html_data,
error_func=function(){},success_func=function(){};obj=this._get_node(obj);if(obj&&obj!==-1)if(obj.data("jstree_is_loading"))return;else obj.data("jstree_is_loading",true);switch(!0){case $.isFunction(s.data):s.data.call(this,obj,$.proxy(function(d){if(d&&d!==""&&d.toString&&d.toString().replace(/^[\s\n]+$/,"")!==""){d=$(d);if(!d.is("ul"))d=$("\x3cul /\x3e").append(d);if(obj==-1||!obj)this.get_container().children("ul").empty().append(d.children()).find("li, a").filter(function(){return!this.firstChild||
!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");else{obj.children("a.jstree-loading").removeClass("jstree-loading");obj.append(d).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");
obj.removeData("jstree_is_loading")}this.clean_node(obj);if(s_call)s_call.call(this)}else if(obj&&obj!==-1){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(s.correct_state){this.correct_state(obj);if(s_call)s_call.call(this)}}else if(s.correct_state){this.get_container().children("ul").empty();if(s_call)s_call.call(this)}},this));break;case !s.data&&!s.ajax:if(!obj||obj==-1){this.get_container().children("ul").empty().append(this.data.html_data.original_container_html).find("li, a").filter(function(){return!this.firstChild||
!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");this.clean_node()}if(s_call)s_call.call(this);break;case !!s.data&&!s.ajax||!!s.data&&!!s.ajax&&(!obj||obj===-1):if(!obj||obj==-1){d=$(s.data);if(!d.is("ul"))d=$("\x3cul /\x3e").append(d);this.get_container().children("ul").empty().append(d.children()).find("li, a").filter(function(){return!this.firstChild||
!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");this.clean_node()}if(s_call)s_call.call(this);break;case !s.data&&!!s.ajax||!!s.data&&!!s.ajax&&obj&&obj!==-1:obj=this._get_node(obj);error_func=function(x,t,e){var ef=this.get_settings().html_data.ajax.error;if(ef)ef.call(this,x,t,e);if(obj!=-1&&obj.length){obj.children("a.jstree-loading").removeClass("jstree-loading");
obj.removeData("jstree_is_loading");if(t==="success"&&s.correct_state)this.correct_state(obj)}else if(t==="success"&&s.correct_state)this.get_container().children("ul").empty();if(e_call)e_call.call(this)};success_func=function(d,t,x){var sf=this.get_settings().html_data.ajax.success;if(sf)d=sf.call(this,d,t,x)||d;if(d===""||d&&d.toString&&d.toString().replace(/^[\s\n]+$/,"")==="")return error_func.call(this,x,t,"");if(d){d=$(d);if(!d.is("ul"))d=$("\x3cul /\x3e").append(d);if(obj==-1||!obj)this.get_container().children("ul").empty().append(d.children()).find("li, a").filter(function(){return!this.firstChild||
!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");else{obj.children("a.jstree-loading").removeClass("jstree-loading");obj.append(d).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("\x3cins class\x3d'jstree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");
obj.removeData("jstree_is_loading")}this.clean_node(obj);if(s_call)s_call.call(this)}else if(obj&&obj!==-1){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(s.correct_state){this.correct_state(obj);if(s_call)s_call.call(this)}}else if(s.correct_state){this.get_container().children("ul").empty();if(s_call)s_call.call(this)}};s.ajax.context=this;s.ajax.error=error_func;s.ajax.success=success_func;if(!s.ajax.dataType)s.ajax.dataType="html";if($.isFunction(s.ajax.url))s.ajax.url=
s.ajax.url.call(this,obj);if($.isFunction(s.ajax.data))s.ajax.data=s.ajax.data.call(this,obj);$.ajax(s.ajax);break}}}});$.jstree.defaults.plugins.push("html_data")})(jQuery);(function($){$.jstree.plugin("themeroller",{__init:function(){var s=this._get_settings().themeroller;this.get_container().addClass("ui-widget-content").addClass("jstree-themeroller").delegate("a","mouseenter.jstree",function(e){if(!$(e.currentTarget).hasClass("jstree-loading"))$(this).addClass(s.item_h)}).delegate("a","mouseleave.jstree",
function(){$(this).removeClass(s.item_h)}).bind("init.jstree",$.proxy(function(e,data){data.inst.get_container().find("\x3e ul \x3e li \x3e .jstree-loading \x3e ins").addClass("ui-icon-refresh");this._themeroller(data.inst.get_container().find("\x3e ul \x3e li"))},this)).bind("open_node.jstree create_node.jstree",$.proxy(function(e,data){this._themeroller(data.rslt.obj)},this)).bind("loaded.jstree refresh.jstree",$.proxy(function(e){this._themeroller()},this)).bind("close_node.jstree",$.proxy(function(e,
data){this._themeroller(data.rslt.obj)},this)).bind("delete_node.jstree",$.proxy(function(e,data){this._themeroller(data.rslt.parent)},this)).bind("correct_state.jstree",$.proxy(function(e,data){data.rslt.obj.children("ins.jstree-icon").removeClass(s.opened+" "+s.closed+" ui-icon").end().find("\x3e a \x3e ins.ui-icon").filter(function(){return this.className.toString().replace(s.item_clsd,"").replace(s.item_open,"").replace(s.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(s.item_open+" "+s.item_clsd).addClass(s.item_leaf||
"jstree-no-icon")},this)).bind("select_node.jstree",$.proxy(function(e,data){data.rslt.obj.children("a").addClass(s.item_a)},this)).bind("deselect_node.jstree deselect_all.jstree",$.proxy(function(e,data){this.get_container().find("a."+s.item_a).removeClass(s.item_a).end().find("a.jstree-clicked").addClass(s.item_a)},this)).bind("dehover_node.jstree",$.proxy(function(e,data){data.rslt.obj.children("a").removeClass(s.item_h)},this)).bind("hover_node.jstree",$.proxy(function(e,data){this.get_container().find("a."+
s.item_h).not(data.rslt.obj).removeClass(s.item_h);data.rslt.obj.children("a").addClass(s.item_h)},this)).bind("move_node.jstree",$.proxy(function(e,data){this._themeroller(data.rslt.o);this._themeroller(data.rslt.op)},this))},__destroy:function(){var s=this._get_settings().themeroller,c=["ui-icon"];$.each(s,function(i,v){v=v.split(" ");if(v.length)c=c.concat(v)});this.get_container().removeClass("ui-widget-content").find("."+c.join(", .")).removeClass(c.join(" "))},_fn:{_themeroller:function(obj){var s=
this._get_settings().themeroller;obj=!obj||obj==-1?this.get_container_ul():this._get_node(obj).parent();obj.find("li.jstree-closed").children("ins.jstree-icon").removeClass(s.opened).addClass("ui-icon "+s.closed).end().children("a").addClass(s.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(s.item_clsd,"").replace(s.item_open,"").replace(s.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(s.item_leaf+" "+s.item_open).addClass(s.item_clsd||
"jstree-no-icon").end().end().end().end().find("li.jstree-open").children("ins.jstree-icon").removeClass(s.closed).addClass("ui-icon "+s.opened).end().children("a").addClass(s.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(s.item_clsd,"").replace(s.item_open,"").replace(s.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(s.item_leaf+" "+s.item_clsd).addClass(s.item_open||"jstree-no-icon").end().end().end().end().find("li.jstree-leaf").children("ins.jstree-icon").removeClass(s.closed+
" ui-icon "+s.opened).end().children("a").addClass(s.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(s.item_clsd,"").replace(s.item_open,"").replace(s.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(s.item_clsd+" "+s.item_open).addClass(s.item_leaf||"jstree-no-icon")}},defaults:{"opened":"ui-icon-triangle-1-se","closed":"ui-icon-triangle-1-e","item":"ui-state-default","item_h":"ui-state-hover","item_a":"ui-state-active","item_open":"ui-icon-folder-open",
"item_clsd":"ui-icon-folder-collapsed","item_leaf":"ui-icon-document"}});$(function(){var css_string=""+".jstree-themeroller .ui-icon { overflow:visible; } "+".jstree-themeroller a { padding:0 2px; } "+".jstree-themeroller .jstree-no-icon { display:none; }";$.vakata.css.add_sheet({str:css_string,title:"jstree"})})})(jQuery);(function($){$.jstree.plugin("unique",{__init:function(){this.get_container().bind("before.jstree",$.proxy(function(e,data){var nms=[],res=true,p,t;if(data.func=="move_node")if(data.args[4]===
true)if(data.args[0].o&&data.args[0].o.length){data.args[0].o.children("a").each(function(){nms.push($(this).text().replace(/^\s+/g,""))});res=this._check_unique(nms,data.args[0].np.find("\x3e ul \x3e li").not(data.args[0].o),"move_node")}if(data.func=="create_node")if(data.args[4]||this._is_loaded(data.args[0])){p=this._get_node(data.args[0]);if(data.args[1]&&(data.args[1]==="before"||data.args[1]==="after")){p=this._get_parent(data.args[0]);if(!p||p===-1)p=this.get_container()}if(typeof data.args[2]===
"string")nms.push(data.args[2]);else if(!data.args[2]||!data.args[2].data)nms.push(this._get_string("new_node"));else nms.push(data.args[2].data);res=this._check_unique(nms,p.find("\x3e ul \x3e li"),"create_node")}if(data.func=="rename_node"){nms.push(data.args[1]);t=this._get_node(data.args[0]);p=this._get_parent(t);if(!p||p===-1)p=this.get_container();res=this._check_unique(nms,p.find("\x3e ul \x3e li").not(t),"rename_node")}if(!res){e.stopPropagation();return false}},this))},defaults:{error_callback:$.noop},
_fn:{_check_unique:function(nms,p,func){var cnms=[];p.children("a").each(function(){cnms.push($(this).text().replace(/^\s+/g,""))});if(!cnms.length||!nms.length)return true;cnms=cnms.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",");if(cnms.length+nms.length!=cnms.concat(nms).sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",").length){this._get_settings().unique.error_callback.call(null,
nms,p,func);return false}return true},check_move:function(){if(!this.__call_old())return false;var p=this._get_move(),nms=[];if(p.o&&p.o.length){p.o.children("a").each(function(){nms.push($(this).text().replace(/^\s+/g,""))});return this._check_unique(nms,p.np.find("\x3e ul \x3e li").not(p.o),"check_move")}return true}}})})(jQuery);(function($){$.jstree.plugin("wholerow",{__init:function(){if(!this.data.ui)throw"jsTree wholerow: jsTree UI plugin not included.";this.data.wholerow.html=false;this.data.wholerow.to=
false;this.get_container().bind("init.jstree",$.proxy(function(e,data){this._get_settings().core.animation=0},this)).bind("open_node.jstree create_node.jstree clean_node.jstree loaded.jstree",$.proxy(function(e,data){this._prepare_wholerow_span(data&&data.rslt&&data.rslt.obj?data.rslt.obj:-1)},this)).bind("search.jstree clear_search.jstree reopen.jstree after_open.jstree after_close.jstree create_node.jstree delete_node.jstree clean_node.jstree",$.proxy(function(e,data){if(this.data.to)clearTimeout(this.data.to);
this.data.to=setTimeout(function(t,o){return function(){t._prepare_wholerow_ul(o)}}(this,data&&data.rslt&&data.rslt.obj?data.rslt.obj:-1),0)},this)).bind("deselect_all.jstree",$.proxy(function(e,data){this.get_container().find(" \x3e .jstree-wholerow .jstree-clicked").removeClass("jstree-clicked "+(this.data.themeroller?this._get_settings().themeroller.item_a:""))},this)).bind("select_node.jstree deselect_node.jstree ",$.proxy(function(e,data){data.rslt.obj.each(function(){var ref=data.inst.get_container().find(" \x3e .jstree-wholerow li:visible:eq("+
parseInt(($(this).offset().top-data.inst.get_container().offset().top+data.inst.get_container()[0].scrollTop)/data.inst.data.core.li_height,10)+")");ref.children("a").attr("class",data.rslt.obj.children("a").attr("class"))})},this)).bind("hover_node.jstree dehover_node.jstree",$.proxy(function(e,data){this.get_container().find(" \x3e .jstree-wholerow .jstree-hovered").removeClass("jstree-hovered "+(this.data.themeroller?this._get_settings().themeroller.item_h:""));if(e.type==="hover_node"){var ref=
this.get_container().find(" \x3e .jstree-wholerow li:visible:eq("+parseInt((data.rslt.obj.offset().top-this.get_container().offset().top+this.get_container()[0].scrollTop)/this.data.core.li_height,10)+")");ref.children("a").attr("class",data.rslt.obj.children(".jstree-hovered").attr("class"))}},this)).delegate(".jstree-wholerow-span, ins.jstree-icon, li","click.jstree",function(e){var n=$(e.currentTarget);if(e.target.tagName==="A"||e.target.tagName==="INS"&&n.closest("li").is(".jstree-open, .jstree-closed"))return;
n.closest("li").children("a:visible:eq(0)").click();e.stopImmediatePropagation()}).delegate("li","mouseover.jstree",$.proxy(function(e){e.stopImmediatePropagation();if($(e.currentTarget).children(".jstree-hovered, .jstree-clicked").length)return false;this.hover_node(e.currentTarget);return false},this)).delegate("li","mouseleave.jstree",$.proxy(function(e){if($(e.currentTarget).children("a").hasClass("jstree-hovered").length)return;this.dehover_node(e.currentTarget)},this));if(is_ie7||is_ie6)$.vakata.css.add_sheet({str:".jstree-"+
this.get_index()+" { position:relative; } ",title:"jstree"})},defaults:{},__destroy:function(){this.get_container().children(".jstree-wholerow").remove();this.get_container().find(".jstree-wholerow-span").remove()},_fn:{_prepare_wholerow_span:function(obj){obj=!obj||obj==-1?this.get_container().find("\x3e ul \x3e li"):this._get_node(obj);if(obj===false)return;obj.each(function(){$(this).find("li").andSelf().each(function(){var $t=$(this);if($t.children(".jstree-wholerow-span").length)return true;
$t.prepend("\x3cspan class\x3d'jstree-wholerow-span' style\x3d'width:"+$t.parentsUntil(".jstree","li").length*18+"px;'\x3e\x26#160;\x3c/span\x3e")})})},_prepare_wholerow_ul:function(){var o=this.get_container().children("ul").eq(0),h=o.html();o.addClass("jstree-wholerow-real");if(this.data.wholerow.last_html!==h){this.data.wholerow.last_html=h;this.get_container().children(".jstree-wholerow").remove();this.get_container().append(o.clone().removeClass("jstree-wholerow-real").wrapAll("\x3cdiv class\x3d'jstree-wholerow' /\x3e").parent().width(o.parent()[0].scrollWidth).css("top",
(o.height()+(is_ie7?5:0))*-1).find("li[id]").each(function(){this.removeAttribute("id")}).end())}}}});$(function(){var css_string=""+".jstree .jstree-wholerow-real { position:relative; z-index:1; } "+".jstree .jstree-wholerow-real li { cursor:pointer; } "+".jstree .jstree-wholerow-real a { border-left-color:transparent !important; border-right-color:transparent !important; } "+".jstree .jstree-wholerow { position:relative; z-index:0; height:0; } "+".jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { width:100%; } "+
".jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li, .jstree .jstree-wholerow a { margin:0 !important; padding:0 !important; } "+".jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { background:transparent !important; }"+".jstree .jstree-wholerow ins, .jstree .jstree-wholerow span, .jstree .jstree-wholerow input { display:none !important; }"+".jstree .jstree-wholerow a, .jstree .jstree-wholerow a:hover { text-indent:-9999px; !important; width:100%; padding:0 !important; border-right-width:0px !important; border-left-width:0px !important; } "+
".jstree .jstree-wholerow-span { position:absolute; left:0; margin:0px; padding:0; height:18px; border-width:0; padding:0; z-index:0; }";if(is_ff2)css_string+=""+".jstree .jstree-wholerow a { display:block; height:18px; margin:0; padding:0; border:0; } "+".jstree .jstree-wholerow-real a { border-color:transparent !important; } ";if(is_ie7||is_ie6)css_string+=""+".jstree .jstree-wholerow, .jstree .jstree-wholerow li, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow a { margin:0; padding:0; line-height:18px; } "+
".jstree .jstree-wholerow a { display:block; height:18px; line-height:18px; overflow:hidden; } ";$.vakata.css.add_sheet({str:css_string,title:"jstree"})})})(jQuery);(function($){var nodeInterface=["getChildren","getChildrenCount","getAttr","getName","getProps"],validateInterface=function(obj,inter){var valid=true;obj=obj||{};inter=[].concat(inter);$.each(inter,function(i,v){if(!$.isFunction(obj[v])){valid=false;return false}});return valid};$.jstree.plugin("model",{__init:function(){if(!this.data.json_data)throw"jsTree model: jsTree json_data plugin not included.";
this._get_settings().json_data.data=function(n,b){var obj=n==-1?this._get_settings().model.object:n.data("jstree_model");if(!validateInterface(obj,nodeInterface))return b.call(null,false);if(this._get_settings().model.async)obj.getChildren($.proxy(function(data){this.model_done(data,b)},this));else this.model_done(obj.getChildren(),b)}},defaults:{object:false,id_prefix:false,async:false},_fn:{model_done:function(data,callback){var ret=[],s=this._get_settings(),_this=this;if(!$.isArray(data))data=
[data];$.each(data,function(i,nd){var r=nd.getProps()||{};r.attr=nd.getAttr()||{};if(nd.getChildrenCount())r.state="closed";r.data=nd.getName();if(!$.isArray(r.data))r.data=[r.data];if(_this.data.types&&$.isFunction(nd.getType))r.attr[s.types.type_attr]=nd.getType();if(r.attr.id&&s.model.id_prefix)r.attr.id=s.model.id_prefix+r.attr.id;if(!r.metadata)r.metadata={};r.metadata.jstree_model=nd;ret.push(r)});callback.call(null,ret)}}})})(jQuery)})();
(function($){var F=$.fancybox;F.helpers.buttons={defaults:{skipSingle:false,position:"top",tpl:'\x3cdiv id\x3d"fancybox-buttons"\x3e\x3cul\x3e\x3cli\x3e\x3ca class\x3d"btnPrev" title\x3d"Previous" href\x3d"javascript:;"\x3e\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"btnPlay" title\x3d"Start slideshow" href\x3d"javascript:;"\x3e\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"btnNext" title\x3d"Next" href\x3d"javascript:;"\x3e\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"btnToggle" title\x3d"Toggle size" href\x3d"javascript:;"\x3e\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"btnClose" title\x3d"Close" href\x3d"javascript:;"\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e'},
list:null,buttons:null,beforeLoad:function(opts,obj){if(opts.skipSingle&&obj.group.length<2){obj.helpers.buttons=false;obj.closeBtn=true;return}obj.margin[opts.position==="bottom"?2:0]+=30},onPlayStart:function(){if(this.buttons)this.buttons.play.attr("title","Pause slideshow").addClass("btnPlayOn")},onPlayEnd:function(){if(this.buttons)this.buttons.play.attr("title","Start slideshow").removeClass("btnPlayOn")},afterShow:function(opts,obj){var buttons=this.buttons;if(!buttons){this.list=$(opts.tpl).addClass(opts.position).appendTo("body");
buttons={prev:this.list.find(".btnPrev").click(F.prev),next:this.list.find(".btnNext").click(F.next),play:this.list.find(".btnPlay").click(F.play),toggle:this.list.find(".btnToggle").click(F.toggle),close:this.list.find(".btnClose").click(F.close)}}if(obj.index>0||obj.loop)buttons.prev.removeClass("btnDisabled");else buttons.prev.addClass("btnDisabled");if(obj.loop||obj.index<obj.group.length-1){buttons.next.removeClass("btnDisabled");buttons.play.removeClass("btnDisabled")}else{buttons.next.addClass("btnDisabled");
buttons.play.addClass("btnDisabled")}this.buttons=buttons;this.onUpdate(opts,obj)},onUpdate:function(opts,obj){var toggle;if(!this.buttons)return;toggle=this.buttons.toggle.removeClass("btnDisabled btnToggleOn");if(obj.canShrink)toggle.addClass("btnToggleOn");else if(!obj.canExpand)toggle.addClass("btnDisabled")},beforeClose:function(){if(this.list)this.list.remove();this.list=null;this.buttons=null}}})(jQuery);
(function($){var F=$.fancybox,format=function(url,rez,params){params=params||"";if($.type(params)==="object")params=$.param(params,true);$.each(rez,function(key,value){url=url.replace("$"+key,value||"")});if(params.length)url+=(url.indexOf("?")>0?"\x26":"?")+params;return url};F.helpers.media={defaults:{youtube:{matcher:/(youtube\.com|youtu\.be|youtube-nocookie\.com)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i,params:{autoplay:1,autohide:1,fs:1,rel:0,
hd:1,wmode:"opaque",enablejsapi:1},type:"iframe",url:"//www.youtube.com/embed/$3"},vimeo:{matcher:/(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},type:"iframe",url:"//player.vimeo.com/video/$1"},metacafe:{matcher:/metacafe.com\/(?:watch|fplayer)\/([\w\-]{1,10})/,params:{autoPlay:"yes"},type:"swf",url:function(rez,params,obj){obj.swf.flashVars="playerVars\x3d"+$.param(params,true);return"//www.metacafe.com/fplayer/"+rez[1]+
"/.swf"}},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"swf",url:"//www.dailymotion.com/swf/video/$1"},twitvid:{matcher:/twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i,params:{autoplay:0},type:"iframe",url:"//www.twitvid.com/embed.php?guid\x3d$1"},twitpic:{matcher:/twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i,type:"image",url:"//twitpic.com/show/full/$1/"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,
type:"image",url:"//$1/p/$2/media/?size\x3dl"},google_maps:{matcher:/maps\.google\.([a-z]{2,3}(\.[a-z]{2})?)\/(\?ll=|maps\?)(.*)/i,type:"iframe",url:function(rez){return"//maps.google."+rez[1]+"/"+rez[3]+""+rez[4]+"\x26output\x3d"+(rez[4].indexOf("layer\x3dc")>0?"svembed":"embed")}}},beforeLoad:function(opts,obj){var url=obj.href||"",type=false,what,item,rez,params;for(what in opts)if(opts.hasOwnProperty(what)){item=opts[what];rez=url.match(item.matcher);if(rez){type=item.type;params=$.extend(true,
{},item.params,obj[what]||($.isPlainObject(opts[what])?opts[what].params:null));url=$.type(item.url)==="function"?item.url.call(this,rez,params,obj):format(item.url,rez,params);break}}if(type){obj.href=url;obj.type=type;obj.autoHeight=false}}}})(jQuery);
(function($){var F=$.fancybox;F.helpers.thumbs={defaults:{width:50,height:50,position:"bottom",source:function(item){var href;if(item.element)href=$(item.element).find("img").attr("src");if(!href&&item.type==="image"&&item.href)href=item.href;return href}},wrap:null,list:null,width:0,init:function(opts,obj){var that=this,list,thumbWidth=opts.width,thumbHeight=opts.height,thumbSource=opts.source;list="";for(var n=0;n<obj.group.length;n++)list+='\x3cli\x3e\x3ca style\x3d"width:'+thumbWidth+"px;height:"+
thumbHeight+'px;" href\x3d"javascript:jQuery.fancybox.jumpto('+n+');"\x3e\x3c/a\x3e\x3c/li\x3e';this.wrap=$('\x3cdiv id\x3d"fancybox-thumbs"\x3e\x3c/div\x3e').addClass(opts.position).appendTo("body");this.list=$("\x3cul\x3e"+list+"\x3c/ul\x3e").appendTo(this.wrap);$.each(obj.group,function(i){var href=thumbSource(obj.group[i]);if(!href)return;$("\x3cimg /\x3e").load(function(){var width=this.width,height=this.height,widthRatio,heightRatio,parent;if(!that.list||!width||!height)return;widthRatio=width/
thumbWidth;heightRatio=height/thumbHeight;parent=that.list.children().eq(i).find("a");if(widthRatio>=1&&heightRatio>=1)if(widthRatio>heightRatio){width=Math.floor(width/heightRatio);height=thumbHeight}else{width=thumbWidth;height=Math.floor(height/widthRatio)}$(this).css({width:width,height:height,top:Math.floor(thumbHeight/2-height/2),left:Math.floor(thumbWidth/2-width/2)});parent.width(thumbWidth).height(thumbHeight);$(this).hide().appendTo(parent).fadeIn(300)}).attr("src",href)});this.width=this.list.children().eq(0).outerWidth(true);
this.list.width(this.width*(obj.group.length+1)).css("left",Math.floor($(window).width()*.5-(obj.index*this.width+this.width*.5)))},beforeLoad:function(opts,obj){if(obj.group.length<2){obj.helpers.thumbs=false;return}obj.margin[opts.position==="top"?0:2]+=opts.height+15},afterShow:function(opts,obj){if(this.list)this.onUpdate(opts,obj);else this.init(opts,obj);this.list.children().removeClass("active").eq(obj.index).addClass("active")},onUpdate:function(opts,obj){if(this.list)this.list.stop(true).animate({"left":Math.floor($(window).width()*
.5-(obj.index*this.width+this.width*.5))},150)},beforeClose:function(){if(this.wrap)this.wrap.remove();this.wrap=null;this.list=null;this.width=0}}})(jQuery);
(function(window,document,$,undefined){var H=$("html"),W=$(window),D=$(document),F=$.fancybox=function(){F.open.apply(this,arguments)},IE=navigator.userAgent.match(/msie/i),didUpdate=null,isTouch=document.createTouch!==undefined,isQuery=function(obj){return obj&&obj.hasOwnProperty&&obj instanceof $},isString=function(str){return str&&$.type(str)==="string"},isPercentage=function(str){return isString(str)&&str.indexOf("%")>0},isScrollable=function(el){return el&&!(el.style.overflow&&el.style.overflow===
"hidden")&&(el.clientWidth&&el.scrollWidth>el.clientWidth||el.clientHeight&&el.scrollHeight>el.clientHeight)},getScalar=function(orig,dim){var value=parseInt(orig,10)||0;if(dim&&isPercentage(orig))value=F.getViewport()[dim]/100*value;return Math.ceil(value)},getValue=function(value,dim){return getScalar(value,dim)+"px"};$.extend(F,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:true,autoHeight:false,
autoWidth:false,autoResize:true,autoCenter:!isTouch,fitToView:true,aspectRatio:false,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3E3,preload:3,modal:false,loop:true,ajax:{dataType:"html",headers:{"X-fancyBox":true}},iframe:{scrolling:"auto",preload:true},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",
33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:true,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'\x3cdiv class\x3d"fancybox-wrap" tabIndex\x3d"-1"\x3e\x3cdiv class\x3d"fancybox-skin"\x3e\x3cdiv class\x3d"fancybox-outer"\x3e\x3cdiv class\x3d"fancybox-inner"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',image:'\x3cimg class\x3d"fancybox-image" src\x3d"{href}" alt\x3d"" /\x3e',iframe:'\x3ciframe id\x3d"fancybox-frame{rnd}" name\x3d"fancybox-frame{rnd}" class\x3d"fancybox-iframe" frameborder\x3d"0" vspace\x3d"0" hspace\x3d"0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+
(IE?' allowtransparency\x3d"true"':"")+"\x3e\x3c/iframe\x3e",error:'\x3cp class\x3d"fancybox-error"\x3eThe requested content cannot be loaded.\x3cbr/\x3ePlease try again later.\x3c/p\x3e',closeBtn:'\x3ca title\x3d"Close" class\x3d"fancybox-item fancybox-close" href\x3d"javascript:;"\x3e\x3c/a\x3e',next:'\x3ca title\x3d"Next" class\x3d"fancybox-nav fancybox-next" href\x3d"javascript:;"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e',prev:'\x3ca title\x3d"Previous" class\x3d"fancybox-nav fancybox-prev" href\x3d"javascript:;"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e'},
openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:true,title:true},onCancel:$.noop,beforeLoad:$.noop,afterLoad:$.noop,beforeShow:$.noop,afterShow:$.noop,beforeChange:$.noop,beforeClose:$.noop,afterClose:$.noop},
group:{},opts:{},previous:null,coming:null,current:null,isActive:false,isOpen:false,isOpened:false,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(group,opts){if(!group)return;if(!$.isPlainObject(opts))opts={};if(false===F.close(true))return;if(!$.isArray(group))group=isQuery(group)?$(group).get():[group];$.each(group,function(i,element){var obj={},href,title,content,type,rez,hrefParts,selector;if($.type(element)===
"object"){if(element.nodeType)element=$(element);if(isQuery(element)){obj={href:element.data("fancybox-href")||element.attr("href"),title:element.data("fancybox-title")||element.attr("title"),isDom:true,element:element};if($.metadata)$.extend(true,obj,element.metadata())}else obj=element}href=opts.href||obj.href||(isString(element)?element:null);title=opts.title!==undefined?opts.title:obj.title||"";content=opts.content||obj.content;type=content?"html":opts.type||obj.type;if(!type&&obj.isDom){type=
element.data("fancybox-type");if(!type){rez=element.prop("class").match(/fancybox\.(\w+)/);type=rez?rez[1]:null}}if(isString(href)){if(!type)if(F.isImage(href))type="image";else if(F.isSWF(href))type="swf";else if(href.charAt(0)==="#")type="inline";else if(isString(element)){type="html";content=element}if(type==="ajax"){hrefParts=href.split(/\s+/,2);href=hrefParts.shift();selector=hrefParts.shift()}}if(!content)if(type==="inline")if(href)content=$(isString(href)?href.replace(/.*(?=#[^\s]+$)/,""):
href);else{if(obj.isDom)content=element}else if(type==="html")content=href;else if(!type&&!href&&obj.isDom){type="inline";content=element}$.extend(obj,{href:href,type:type,content:content,title:title,selector:selector});group[i]=obj});F.opts=$.extend(true,{},F.defaults,opts);if(opts.keys!==undefined)F.opts.keys=opts.keys?$.extend({},F.defaults.keys,opts.keys):false;F.group=group;return F._start(F.opts.index)},cancel:function(){var coming=F.coming;if(!coming||false===F.trigger("onCancel"))return;F.hideLoading();
if(F.ajaxLoad)F.ajaxLoad.abort();F.ajaxLoad=null;if(F.imgPreload)F.imgPreload.onload=F.imgPreload.onerror=null;if(coming.wrap)coming.wrap.stop(true,true).trigger("onReset").remove();F.coming=null;if(!F.current)F._afterZoomOut(coming)},close:function(event){F.cancel();if(false===F.trigger("beforeClose"))return;F.unbindEvents();if(!F.isActive)return;if(!F.isOpen||event===true){$(".fancybox-wrap").stop(true).trigger("onReset").remove();F._afterZoomOut()}else{F.isOpen=F.isOpened=false;F.isClosing=true;
$(".fancybox-item, .fancybox-nav").remove();F.wrap.stop(true,true).removeClass("fancybox-opened");F.transitions[F.current.closeMethod]()}},play:function(action){var clear=function(){clearTimeout(F.player.timer)},set=function(){clear();if(F.current&&F.player.isActive)F.player.timer=setTimeout(F.next,F.current.playSpeed)},stop=function(){clear();D.unbind(".player");F.player.isActive=false;F.trigger("onPlayEnd")},start=function(){if(F.current&&(F.current.loop||F.current.index<F.group.length-1)){F.player.isActive=
true;D.bind({"onCancel.player beforeClose.player":stop,"onUpdate.player":set,"beforeLoad.player":clear});set();F.trigger("onPlayStart")}};if(action===true||!F.player.isActive&&action!==false)start();else stop()},next:function(direction){var current=F.current;if(current){if(!isString(direction))direction=current.direction.next;F.jumpto(current.index+1,direction,"next")}},prev:function(direction){var current=F.current;if(current){if(!isString(direction))direction=current.direction.prev;F.jumpto(current.index-
1,direction,"prev")}},jumpto:function(index,direction,router){var current=F.current;if(!current)return;index=getScalar(index);F.direction=direction||current.direction[index>=current.index?"next":"prev"];F.router=router||"jumpto";if(current.loop){if(index<0)index=current.group.length+index%current.group.length;index=index%current.group.length}if(current.group[index]!==undefined){F.cancel();F._start(index)}},reposition:function(e,onlyAbsolute){var current=F.current,wrap=current?current.wrap:null,pos;
if(wrap){pos=F._getPosition(onlyAbsolute);if(e&&e.type==="scroll"){delete pos.position;wrap.stop(true,true).animate(pos,200)}else{wrap.css(pos);current.pos=$.extend({},current.dim,pos)}}},update:function(e){var type=e&&e.type,anyway=!type||type==="orientationchange";if(anyway){clearTimeout(didUpdate);didUpdate=null}if(!F.isOpen||didUpdate)return;didUpdate=setTimeout(function(){var current=F.current;if(!current||F.isClosing)return;F.wrap.removeClass("fancybox-tmp");if(anyway||type==="load"||type===
"resize"&&current.autoResize)F._setDimension();if(!(type==="scroll"&&current.canShrink))F.reposition(e);F.trigger("onUpdate");didUpdate=null},anyway&&!isTouch?0:300)},toggle:function(action){if(F.isOpen){F.current.fitToView=$.type(action)==="boolean"?action:!F.current.fitToView;if(isTouch){F.wrap.removeAttr("style").addClass("fancybox-tmp");F.trigger("onUpdate")}F.update()}},hideLoading:function(){D.unbind(".loading");$("#fancybox-loading").remove()},showLoading:function(){var el,viewport;F.hideLoading();
el=$('\x3cdiv id\x3d"fancybox-loading"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e').click(F.cancel).appendTo("body");D.bind("keydown.loading",function(e){if((e.which||e.keyCode)===27){e.preventDefault();F.cancel()}});if(!F.defaults.fixed){viewport=F.getViewport();el.css({position:"absolute",top:viewport.h*.5+viewport.y,left:viewport.w*.5+viewport.x})}},getViewport:function(){var locked=F.current&&F.current.locked||false,rez={x:W.scrollLeft(),y:W.scrollTop()};if(locked){rez.w=locked[0].clientWidth;rez.h=
locked[0].clientHeight}else{rez.w=isTouch&&window.innerWidth?window.innerWidth:W.width();rez.h=isTouch&&window.innerHeight?window.innerHeight:W.height()}return rez},unbindEvents:function(){if(F.wrap&&isQuery(F.wrap))F.wrap.unbind(".fb");D.unbind(".fb");W.unbind(".fb")},bindEvents:function(){var current=F.current,keys;if(!current)return;W.bind("orientationchange.fb"+(isTouch?"":" resize.fb")+(current.autoCenter&&!current.locked?" scroll.fb":""),F.update);keys=current.keys;if(keys)D.bind("keydown.fb",
function(e){var code=e.which||e.keyCode,target=e.target||e.srcElement;if(code===27&&F.coming)return false;if(!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&!(target&&(target.type||$(target).is("[contenteditable]"))))$.each(keys,function(i,val){if(current.group.length>1&&val[code]!==undefined){F[i](val[code]);e.preventDefault();return false}if($.inArray(code,val)>-1){F[i]();e.preventDefault();return false}})});if($.fn.mousewheel&&current.mouseWheel)F.wrap.bind("mousewheel.fb",function(e,delta,deltaX,
deltaY){var target=e.target||null,parent=$(target),canScroll=false;while(parent.length){if(canScroll||parent.is(".fancybox-skin")||parent.is(".fancybox-wrap"))break;canScroll=isScrollable(parent[0]);parent=$(parent).parent()}if(delta!==0&&!canScroll)if(F.group.length>1&&!current.canShrink){if(deltaY>0||deltaX>0)F.prev(deltaY>0?"down":"left");else if(deltaY<0||deltaX<0)F.next(deltaY<0?"up":"right");e.preventDefault()}})},trigger:function(event,o){var ret,obj=o||F.coming||F.current;if(!obj)return;if($.isFunction(obj[event]))ret=
obj[event].apply(obj,Array.prototype.slice.call(arguments,1));if(ret===false)return false;if(obj.helpers)$.each(obj.helpers,function(helper,opts){if(opts&&F.helpers[helper]&&$.isFunction(F.helpers[helper][event]))F.helpers[helper][event]($.extend(true,{},F.helpers[helper].defaults,opts),obj)});D.trigger(event)},isImage:function(str){return isString(str)&&str.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(str){return isString(str)&&str.match(/\.(swf)((\?|#).*)?$/i)},
_start:function(index){var coming={},obj,href,type,margin,padding;index=getScalar(index);obj=F.group[index]||null;if(!obj)return false;coming=$.extend(true,{},F.opts,obj);margin=coming.margin;padding=coming.padding;if($.type(margin)==="number")coming.margin=[margin,margin,margin,margin];if($.type(padding)==="number")coming.padding=[padding,padding,padding,padding];if(coming.modal)$.extend(true,coming,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{closeClick:false}}});
if(coming.autoSize)coming.autoWidth=coming.autoHeight=true;if(coming.width==="auto")coming.autoWidth=true;if(coming.height==="auto")coming.autoHeight=true;coming.group=F.group;coming.index=index;F.coming=coming;if(false===F.trigger("beforeLoad")){F.coming=null;return}type=coming.type;href=coming.href;if(!type){F.coming=null;if(F.current&&F.router&&F.router!=="jumpto"){F.current.index=index;return F[F.router](F.direction)}return false}F.isActive=true;if(type==="image"||type==="swf"){coming.autoHeight=
coming.autoWidth=false;coming.scrolling="visible"}if(type==="image")coming.aspectRatio=true;if(type==="iframe"&&isTouch)coming.scrolling="scroll";coming.wrap=$(coming.tpl.wrap).addClass("fancybox-"+(isTouch?"mobile":"desktop")+" fancybox-type-"+type+" fancybox-tmp "+coming.wrapCSS).appendTo(coming.parent||"body");$.extend(coming,{skin:$(".fancybox-skin",coming.wrap),outer:$(".fancybox-outer",coming.wrap),inner:$(".fancybox-inner",coming.wrap)});$.each(["Top","Right","Bottom","Left"],function(i,v){coming.skin.css("padding"+
v,getValue(coming.padding[i]))});F.trigger("onReady");if(type==="inline"||type==="html"){if(!coming.content||!coming.content.length)return F._error("content")}else if(!href)return F._error("href");if(type==="image")F._loadImage();else if(type==="ajax")F._loadAjax();else if(type==="iframe")F._loadIframe();else F._afterLoad()},_error:function(type){$.extend(F.coming,{type:"html",autoWidth:true,autoHeight:true,minWidth:0,minHeight:0,scrolling:"no",hasError:type,content:F.coming.tpl.error});F._afterLoad()},
_loadImage:function(){var img=F.imgPreload=new Image;img.onload=function(){this.onload=this.onerror=null;F.coming.width=this.width/F.opts.pixelRatio;F.coming.height=this.height/F.opts.pixelRatio;F._afterLoad()};img.onerror=function(){this.onload=this.onerror=null;F._error("image")};img.src=F.coming.href;if(img.complete!==true)F.showLoading()},_loadAjax:function(){var coming=F.coming;F.showLoading();F.ajaxLoad=$.ajax($.extend({},coming.ajax,{url:coming.href,error:function(jqXHR,textStatus){if(F.coming&&
textStatus!=="abort")F._error("ajax",jqXHR);else F.hideLoading()},success:function(data,textStatus){if(textStatus==="success"){coming.content=data;F._afterLoad()}}}))},_loadIframe:function(){var coming=F.coming,iframe=$(coming.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",isTouch?"auto":coming.iframe.scrolling).attr("src",coming.href);$(coming.wrap).bind("onReset",function(){try{$(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}});if(coming.iframe.preload){F.showLoading();
iframe.one("load",function(){$(this).data("ready",1);if(!isTouch)$(this).bind("load.fb",F.update);$(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();F._afterLoad()})}coming.content=iframe.appendTo(coming.inner);if(!coming.iframe.preload)F._afterLoad()},_preloadImages:function(){var group=F.group,current=F.current,len=group.length,cnt=current.preload?Math.min(current.preload,len-1):0,item,i;for(i=1;i<=cnt;i+=1){item=group[(current.index+i)%len];if(item.type==="image"&&
item.href)(new Image).src=item.href}},_afterLoad:function(){var coming=F.coming,previous=F.current,placeholder="fancybox-placeholder",current,content,type,scrolling,href,embed;F.hideLoading();if(!coming||F.isActive===false)return;if(false===F.trigger("afterLoad",coming,previous)){coming.wrap.stop(true).trigger("onReset").remove();F.coming=null;return}if(previous){F.trigger("beforeChange",previous);previous.wrap.stop(true).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()}F.unbindEvents();
current=coming;content=coming.content;type=coming.type;scrolling=coming.scrolling;$.extend(F,{wrap:current.wrap,skin:current.skin,outer:current.outer,inner:current.inner,current:current,previous:previous});href=current.href;switch(type){case "inline":case "ajax":case "html":if(current.selector)content=$("\x3cdiv\x3e").html(content).find(current.selector);else if(isQuery(content)){if(!content.data(placeholder))content.data(placeholder,$('\x3cdiv class\x3d"'+placeholder+'"\x3e\x3c/div\x3e').insertAfter(content).hide());
content=content.show().detach();current.wrap.bind("onReset",function(){if($(this).find(content).length)content.hide().replaceAll(content.data(placeholder)).data(placeholder,false)})}break;case "image":content=current.tpl.image.replace("{href}",href);break;case "swf":content='\x3cobject id\x3d"fancybox-swf" classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"100%" height\x3d"100%"\x3e\x3cparam name\x3d"movie" value\x3d"'+href+'"\x3e\x3c/param\x3e';embed="";$.each(current.swf,function(name,
val){content+='\x3cparam name\x3d"'+name+'" value\x3d"'+val+'"\x3e\x3c/param\x3e';embed+=" "+name+'\x3d"'+val+'"'});content+='\x3cembed src\x3d"'+href+'" type\x3d"application/x-shockwave-flash" width\x3d"100%" height\x3d"100%"'+embed+"\x3e\x3c/embed\x3e\x3c/object\x3e";break}if(!(isQuery(content)&&content.parent().is(current.inner)))current.inner.append(content);F.trigger("beforeShow");current.inner.css("overflow",scrolling==="yes"?"scroll":scrolling==="no"?"hidden":scrolling);F._setDimension();F.reposition();
F.isOpen=false;F.coming=null;F.bindEvents();if(!F.isOpened)$(".fancybox-wrap").not(current.wrap).stop(true).trigger("onReset").remove();else if(previous.prevMethod)F.transitions[previous.prevMethod]();F.transitions[F.isOpened?current.nextMethod:current.openMethod]();F._preloadImages()},_setDimension:function(){var viewport=F.getViewport(),steps=0,canShrink=false,canExpand=false,wrap=F.wrap,skin=F.skin,inner=F.inner,current=F.current,width=current.width,height=current.height,minWidth=current.minWidth,
minHeight=current.minHeight,maxWidth=current.maxWidth,maxHeight=current.maxHeight,scrolling=current.scrolling,scrollOut=current.scrollOutside?current.scrollbarWidth:0,margin=current.margin,wMargin=getScalar(margin[1]+margin[3]),hMargin=getScalar(margin[0]+margin[2]),wPadding,hPadding,wSpace,hSpace,origWidth,origHeight,origMaxWidth,origMaxHeight,ratio,width_,height_,maxWidth_,maxHeight_,iframe,body;wrap.add(skin).add(inner).width("auto").height("auto").removeClass("fancybox-tmp");wPadding=getScalar(skin.outerWidth(true)-
skin.width());hPadding=getScalar(skin.outerHeight(true)-skin.height());wSpace=wMargin+wPadding;hSpace=hMargin+hPadding;origWidth=isPercentage(width)?(viewport.w-wSpace)*getScalar(width)/100:width;origHeight=isPercentage(height)?(viewport.h-hSpace)*getScalar(height)/100:height;if(current.type==="iframe"){iframe=current.content;if(current.autoHeight&&iframe.data("ready")===1)try{if(iframe[0].contentWindow.document.location){inner.width(origWidth).height(9999);body=iframe.contents().find("body");if(scrollOut)body.css("overflow-x",
"hidden");origHeight=body.outerHeight(true)}}catch(e){}}else if(current.autoWidth||current.autoHeight){inner.addClass("fancybox-tmp");if(!current.autoWidth)inner.width(origWidth);if(!current.autoHeight)inner.height(origHeight);if(current.autoWidth)origWidth=inner.width();if(current.autoHeight)origHeight=inner.height();inner.removeClass("fancybox-tmp")}width=getScalar(origWidth);height=getScalar(origHeight);ratio=origWidth/origHeight;minWidth=getScalar(isPercentage(minWidth)?getScalar(minWidth,"w")-
wSpace:minWidth);maxWidth=getScalar(isPercentage(maxWidth)?getScalar(maxWidth,"w")-wSpace:maxWidth);minHeight=getScalar(isPercentage(minHeight)?getScalar(minHeight,"h")-hSpace:minHeight);maxHeight=getScalar(isPercentage(maxHeight)?getScalar(maxHeight,"h")-hSpace:maxHeight);origMaxWidth=maxWidth;origMaxHeight=maxHeight;if(current.fitToView){maxWidth=Math.min(viewport.w-wSpace,maxWidth);maxHeight=Math.min(viewport.h-hSpace,maxHeight)}maxWidth_=viewport.w-wMargin;maxHeight_=viewport.h-hMargin;if(current.aspectRatio){if(width>
maxWidth){width=maxWidth;height=getScalar(width/ratio)}if(height>maxHeight){height=maxHeight;width=getScalar(height*ratio)}if(width<minWidth){width=minWidth;height=getScalar(width/ratio)}if(height<minHeight){height=minHeight;width=getScalar(height*ratio)}}else{width=Math.max(minWidth,Math.min(width,maxWidth));if(current.autoHeight&&current.type!=="iframe"){inner.width(width);height=inner.height()}height=Math.max(minHeight,Math.min(height,maxHeight))}if(current.fitToView){inner.width(width).height(height);
wrap.width(width+wPadding);width_=wrap.width();height_=wrap.height();if(current.aspectRatio)while((width_>maxWidth_||height_>maxHeight_)&&width>minWidth&&height>minHeight){if(steps++>19)break;height=Math.max(minHeight,Math.min(maxHeight,height-10));width=getScalar(height*ratio);if(width<minWidth){width=minWidth;height=getScalar(width/ratio)}if(width>maxWidth){width=maxWidth;height=getScalar(width/ratio)}inner.width(width).height(height);wrap.width(width+wPadding);width_=wrap.width();height_=wrap.height()}else{width=
Math.max(minWidth,Math.min(width,width-(width_-maxWidth_)));height=Math.max(minHeight,Math.min(height,height-(height_-maxHeight_)))}}if(scrollOut&&scrolling==="auto"&&height<origHeight&&width+wPadding+scrollOut<maxWidth_)width+=scrollOut;inner.width(width).height(height);wrap.width(width+wPadding);width_=wrap.width();height_=wrap.height();canShrink=(width_>maxWidth_||height_>maxHeight_)&&width>minWidth&&height>minHeight;canExpand=current.aspectRatio?width<origMaxWidth&&height<origMaxHeight&&width<
origWidth&&height<origHeight:(width<origMaxWidth||height<origMaxHeight)&&(width<origWidth||height<origHeight);$.extend(current,{dim:{width:getValue(width_),height:getValue(height_)},origWidth:origWidth,origHeight:origHeight,canShrink:canShrink,canExpand:canExpand,wPadding:wPadding,hPadding:hPadding,wrapSpace:height_-skin.outerHeight(true),skinSpace:skin.height()-height});if(!iframe&&current.autoHeight&&height>minHeight&&height<maxHeight&&!canExpand)inner.height("auto")},_getPosition:function(onlyAbsolute){var current=
F.current,viewport=F.getViewport(),margin=current.margin,width=F.wrap.width()+margin[1]+margin[3],height=F.wrap.height()+margin[0]+margin[2],rez={position:"absolute",top:margin[0],left:margin[3]};if(current.autoCenter&&current.fixed&&!onlyAbsolute&&height<=viewport.h&&width<=viewport.w)rez.position="fixed";else if(!current.locked){rez.top+=viewport.y;rez.left+=viewport.x}rez.top=getValue(Math.max(rez.top,rez.top+(viewport.h-height)*current.topRatio));rez.left=getValue(Math.max(rez.left,rez.left+(viewport.w-
width)*current.leftRatio));return rez},_afterZoomIn:function(){var current=F.current;if(!current)return;F.isOpen=F.isOpened=true;F.wrap.css("overflow","visible").addClass("fancybox-opened");F.update();if(current.closeClick||current.nextClick&&F.group.length>1)F.inner.css("cursor","pointer").bind("click.fb",function(e){if(!$(e.target).is("a")&&!$(e.target).parent().is("a")){e.preventDefault();F[current.closeClick?"close":"next"]()}});if(current.closeBtn)$(current.tpl.closeBtn).appendTo(F.skin).bind("click.fb",
function(e){e.preventDefault();F.close()});if(current.arrows&&F.group.length>1){if(current.loop||current.index>0)$(current.tpl.prev).appendTo(F.outer).bind("click.fb",F.prev);if(current.loop||current.index<F.group.length-1)$(current.tpl.next).appendTo(F.outer).bind("click.fb",F.next)}F.trigger("afterShow");if(!current.loop&&current.index===current.group.length-1)F.play(false);else if(F.opts.autoPlay&&!F.player.isActive){F.opts.autoPlay=false;F.play()}},_afterZoomOut:function(obj){obj=obj||F.current;
$(".fancybox-wrap").trigger("onReset").remove();$.extend(F,{group:{},opts:{},router:false,current:null,isActive:false,isOpened:false,isOpen:false,isClosing:false,wrap:null,skin:null,outer:null,inner:null});F.trigger("afterClose",obj)}});F.transitions={getOrigPosition:function(){var current=F.current,element=current.element,orig=current.orig,pos={},width=50,height=50,hPadding=current.hPadding,wPadding=current.wPadding,viewport=F.getViewport();if(!orig&&current.isDom&&element.is(":visible")){orig=element.find("img:first");
if(!orig.length)orig=element}if(isQuery(orig)){pos=orig.offset();if(orig.is("img")){width=orig.outerWidth();height=orig.outerHeight()}}else{pos.top=viewport.y+(viewport.h-height)*current.topRatio;pos.left=viewport.x+(viewport.w-width)*current.leftRatio}if(F.wrap.css("position")==="fixed"||current.locked){pos.top-=viewport.y;pos.left-=viewport.x}pos={top:getValue(pos.top-hPadding*current.topRatio),left:getValue(pos.left-wPadding*current.leftRatio),width:getValue(width+wPadding),height:getValue(height+
hPadding)};return pos},step:function(now,fx){var ratio,padding,value,prop=fx.prop,current=F.current,wrapSpace=current.wrapSpace,skinSpace=current.skinSpace;if(prop==="width"||prop==="height"){ratio=fx.end===fx.start?1:(now-fx.start)/(fx.end-fx.start);if(F.isClosing)ratio=1-ratio;padding=prop==="width"?current.wPadding:current.hPadding;value=now-padding;F.skin[prop](getScalar(prop==="width"?value:value-wrapSpace*ratio));F.inner[prop](getScalar(prop==="width"?value:value-wrapSpace*ratio-skinSpace*ratio))}},
zoomIn:function(){var current=F.current,startPos=current.pos,effect=current.openEffect,elastic=effect==="elastic",endPos=$.extend({opacity:1},startPos);delete endPos.position;if(elastic){startPos=this.getOrigPosition();if(current.openOpacity)startPos.opacity=.1}else if(effect==="fade")startPos.opacity=.1;F.wrap.css(startPos).animate(endPos,{duration:effect==="none"?0:current.openSpeed,easing:current.openEasing,step:elastic?this.step:null,complete:F._afterZoomIn})},zoomOut:function(){var current=F.current,
effect=current.closeEffect,elastic=effect==="elastic",endPos={opacity:.1};if(elastic){endPos=this.getOrigPosition();if(current.closeOpacity)endPos.opacity=.1}F.wrap.animate(endPos,{duration:effect==="none"?0:current.closeSpeed,easing:current.closeEasing,step:elastic?this.step:null,complete:F._afterZoomOut})},changeIn:function(){var current=F.current,effect=current.nextEffect,startPos=current.pos,endPos={opacity:1},direction=F.direction,distance=200,field;startPos.opacity=.1;if(effect==="elastic"){field=
direction==="down"||direction==="up"?"top":"left";if(direction==="down"||direction==="right"){startPos[field]=getValue(getScalar(startPos[field])-distance);endPos[field]="+\x3d"+distance+"px"}else{startPos[field]=getValue(getScalar(startPos[field])+distance);endPos[field]="-\x3d"+distance+"px"}}if(effect==="none")F._afterZoomIn();else F.wrap.css(startPos).animate(endPos,{duration:current.nextSpeed,easing:current.nextEasing,complete:F._afterZoomIn})},changeOut:function(){var previous=F.previous,effect=
previous.prevEffect,endPos={opacity:.1},direction=F.direction,distance=200;if(effect==="elastic")endPos[direction==="down"||direction==="up"?"top":"left"]=(direction==="up"||direction==="left"?"-":"+")+"\x3d"+distance+"px";previous.wrap.animate(endPos,{duration:effect==="none"?0:previous.prevSpeed,easing:previous.prevEasing,complete:function(){$(this).trigger("onReset").remove()}})}};F.helpers.overlay={defaults:{closeClick:true,speedOut:200,showEarly:true,css:{},locked:!isTouch,fixed:true},overlay:null,
fixed:false,el:$("html"),create:function(opts){opts=$.extend({},this.defaults,opts);if(this.overlay)this.close();this.overlay=$('\x3cdiv class\x3d"fancybox-overlay"\x3e\x3c/div\x3e').appendTo(F.coming?F.coming.parent:opts.parent);this.fixed=false;if(opts.fixed&&F.defaults.fixed){this.overlay.addClass("fancybox-overlay-fixed");this.fixed=true}},open:function(opts){var that=this;opts=$.extend({},this.defaults,opts);if(this.overlay)this.overlay.unbind(".overlay").width("auto").height("auto");else this.create(opts);
if(!this.fixed){W.bind("resize.overlay",$.proxy(this.update,this));this.update()}if(opts.closeClick)this.overlay.bind("click.overlay",function(e){if($(e.target).hasClass("fancybox-overlay")){if(F.isActive)F.close();else that.close();return false}});this.overlay.css(opts.css).show()},close:function(){var scrollV,scrollH;W.unbind("resize.overlay");if(this.el.hasClass("fancybox-lock")){$(".fancybox-margin").removeClass("fancybox-margin");scrollV=W.scrollTop();scrollH=W.scrollLeft();this.el.removeClass("fancybox-lock");
W.scrollTop(scrollV).scrollLeft(scrollH)}$(".fancybox-overlay").remove().hide();$.extend(this,{overlay:null,fixed:false})},update:function(){var width="100%",offsetWidth;this.overlay.width(width).height("100%");if(IE){offsetWidth=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(D.width()>offsetWidth)width=D.width()}else if(D.width()>W.width())width=D.width();this.overlay.width(width).height(D.height())},onReady:function(opts,obj){var overlay=this.overlay;$(".fancybox-overlay").stop(true,
true);if(!overlay)this.create(opts);if(opts.locked&&this.fixed&&obj.fixed){if(!overlay)this.margin=D.height()>W.height()?$("html").css("margin-right").replace("px",""):false;obj.locked=this.overlay.append(obj.wrap);obj.fixed=false}if(opts.showEarly===true)this.beforeShow.apply(this,arguments)},beforeShow:function(opts,obj){var scrollV,scrollH;if(obj.locked){if(this.margin!==false){$("*").filter(function(){return $(this).css("position")==="fixed"&&!$(this).hasClass("fancybox-overlay")&&!$(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin");
this.el.addClass("fancybox-margin")}scrollV=W.scrollTop();scrollH=W.scrollLeft();this.el.addClass("fancybox-lock");W.scrollTop(scrollV).scrollLeft(scrollH)}this.open(opts)},onUpdate:function(){if(!this.fixed)this.update()},afterClose:function(opts){if(this.overlay&&!F.coming)this.overlay.fadeOut(opts.speedOut,$.proxy(this.close,this))}};F.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(opts){var current=F.current,text=current.title,type=opts.type,title,target;if($.isFunction(text))text=
text.call(current.element,current);if(!isString(text)||$.trim(text)==="")return;title=$('\x3cdiv class\x3d"fancybox-title fancybox-title-'+type+'-wrap"\x3e'+text+"\x3c/div\x3e");switch(type){case "inside":target=F.skin;break;case "outside":target=F.wrap;break;case "over":target=F.inner;break;default:target=F.skin;title.appendTo("body");if(IE)title.width(title.width());title.wrapInner('\x3cspan class\x3d"child"\x3e\x3c/span\x3e');F.current.margin[2]+=Math.abs(getScalar(title.css("margin-bottom")));
break}title[opts.position==="top"?"prependTo":"appendTo"](target)}};$.fn.fancybox=function(options){var index,that=$(this),selector=this.selector||"",run=function(e){var what=$(this).blur(),idx=index,relType,relVal;if(!(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&!what.is(".fancybox-wrap")){relType=options.groupAttr||"data-fancybox-group";relVal=what.attr(relType);if(!relVal){relType="rel";relVal=what.get(0)[relType]}if(relVal&&relVal!==""&&relVal!=="nofollow"){what=selector.length?$(selector):that;
what=what.filter("["+relType+'\x3d"'+relVal+'"]');idx=what.index(this)}options.index=idx;if(F.open(what,options)!==false)e.preventDefault()}};options=options||{};index=options.index||0;if(!selector||options.live===false)that.unbind("click.fb-start").bind("click.fb-start",run);else D.undelegate(selector,"click.fb-start").delegate(selector+":not('.fancybox-item, .fancybox-nav')","click.fb-start",run);this.filter("[data-fancybox-start\x3d1]").trigger("click");return this};D.ready(function(){var w1,w2;
if($.scrollbarWidth===undefined)$.scrollbarWidth=function(){var parent=$('\x3cdiv style\x3d"width:50px;height:50px;overflow:auto"\x3e\x3cdiv/\x3e\x3c/div\x3e').appendTo("body"),child=parent.children(),width=child.innerWidth()-child.height(99).innerWidth();parent.remove();return width};if($.support.fixedPosition===undefined)$.support.fixedPosition=function(){var elem=$('\x3cdiv style\x3d"position:fixed;top:20px;"\x3e\x3c/div\x3e').appendTo("body"),fixed=elem[0].offsetTop===20||elem[0].offsetTop===
15;elem.remove();return fixed}();$.extend(F.defaults,{scrollbarWidth:$.scrollbarWidth(),fixed:$.support.fixedPosition,parent:$("body")});w1=$(window).width();H.addClass("fancybox-lock-test");w2=$(window).width();H.removeClass("fancybox-lock-test");$("\x3cstyle type\x3d'text/css'\x3e.fancybox-margin{margin-right:"+(w2-w1)+"px;}\x3c/style\x3e").appendTo("head")})})(window,document,jQuery);
(function(r,G,f,v){var J=f("html"),n=f(r),p=f(G),b=f.fancybox=function(){b.open.apply(this,arguments)},I=navigator.userAgent.match(/msie/i),B=null,s=G.createTouch!==v,t=function(a){return a&&a.hasOwnProperty&&a instanceof f},q=function(a){return a&&"string"===f.type(a)},E=function(a){return q(a)&&0<a.indexOf("%")},l=function(a,d){var e=parseInt(a,10)||0;d&&E(a)&&(e*=b.getViewport()[d]/100);return Math.ceil(e)},w=function(a,b){return l(a,b)+"px"};f.extend(b,{version:"2.1.5",defaults:{padding:15,margin:20,
width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!s,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},
keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'\x3cdiv class\x3d"fancybox-wrap" tabIndex\x3d"-1"\x3e\x3cdiv class\x3d"fancybox-skin"\x3e\x3cdiv class\x3d"fancybox-outer"\x3e\x3cdiv class\x3d"fancybox-inner"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',image:'\x3cimg class\x3d"fancybox-image" src\x3d"{href}" alt\x3d"" /\x3e',
iframe:'\x3ciframe id\x3d"fancybox-frame{rnd}" name\x3d"fancybox-frame{rnd}" class\x3d"fancybox-iframe" frameborder\x3d"0" vspace\x3d"0" hspace\x3d"0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(I?' allowtransparency\x3d"true"':"")+"\x3e\x3c/iframe\x3e",error:'\x3cp class\x3d"fancybox-error"\x3eThe requested content cannot be loaded.\x3cbr/\x3ePlease try again later.\x3c/p\x3e',closeBtn:'\x3ca title\x3d"Close" class\x3d"fancybox-item fancybox-close" href\x3d"javascript:;"\x3e\x3c/a\x3e',
next:'\x3ca title\x3d"Next" class\x3d"fancybox-nav fancybox-next" href\x3d"javascript:;"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e',prev:'\x3ca title\x3d"Previous" class\x3d"fancybox-nav fancybox-prev" href\x3d"javascript:;"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",
prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:f.noop,beforeLoad:f.noop,afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeChange:f.noop,beforeClose:f.noop,afterClose:f.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,d){if(a&&(f.isPlainObject(d)||
(d={}),!1!==b.close(!0)))return f.isArray(a)||(a=t(a)?f(a).get():[a]),f.each(a,function(e,c){var k={},g,h,j,m,l;"object"===f.type(c)&&(c.nodeType&&(c=f(c)),t(c)?(k={href:c.data("fancybox-href")||c.attr("href"),title:c.data("fancybox-title")||c.attr("title"),isDom:!0,element:c},f.metadata&&f.extend(!0,k,c.metadata())):k=c);g=d.href||k.href||(q(c)?c:null);h=d.title!==v?d.title:k.title||"";m=(j=d.content||k.content)?"html":d.type||k.type;!m&&k.isDom&&(m=c.data("fancybox-type"),m||(m=(m=c.prop("class").match(/fancybox\.(\w+)/))?
m[1]:null));q(g)&&(m||(b.isImage(g)?m="image":b.isSWF(g)?m="swf":"#"===g.charAt(0)?m="inline":q(c)&&(m="html",j=c)),"ajax"===m&&(l=g.split(/\s+/,2),g=l.shift(),l=l.shift()));j||("inline"===m?g?j=f(q(g)?g.replace(/.*(?=#[^\s]+$)/,""):g):k.isDom&&(j=c):"html"===m?j=g:!m&&(!g&&k.isDom)&&(m="inline",j=c));f.extend(k,{href:g,type:m,content:j,title:h,selector:l});a[e]=k}),b.opts=f.extend(!0,{},b.defaults,d),d.keys!==v&&(b.opts.keys=d.keys?f.extend({},b.defaults.keys,d.keys):!1),b.group=a,b._start(b.opts.index)},
cancel:function(){var a=b.coming;a&&!1!==b.trigger("onCancel")&&(b.hideLoading(),b.ajaxLoad&&b.ajaxLoad.abort(),b.ajaxLoad=null,b.imgPreload&&(b.imgPreload.onload=b.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),b.coming=null,b.current||b._afterZoomOut(a))},close:function(a){b.cancel();!1!==b.trigger("beforeClose")&&(b.unbindEvents(),b.isActive&&(!b.isOpen||!0===a?(f(".fancybox-wrap").stop(!0).trigger("onReset").remove(),b._afterZoomOut()):(b.isOpen=b.isOpened=!1,
b.isClosing=!0,f(".fancybox-item, .fancybox-nav").remove(),b.wrap.stop(!0,!0).removeClass("fancybox-opened"),b.transitions[b.current.closeMethod]())))},play:function(a){var d=function(){clearTimeout(b.player.timer)},e=function(){d();b.current&&b.player.isActive&&(b.player.timer=setTimeout(b.next,b.current.playSpeed))},c=function(){d();p.unbind(".player");b.player.isActive=!1;b.trigger("onPlayEnd")};if(!0===a||!b.player.isActive&&!1!==a){if(b.current&&(b.current.loop||b.current.index<b.group.length-
1))b.player.isActive=!0,p.bind({"onCancel.player beforeClose.player":c,"onUpdate.player":e,"beforeLoad.player":d}),e(),b.trigger("onPlayStart")}else c()},next:function(a){var d=b.current;d&&(q(a)||(a=d.direction.next),b.jumpto(d.index+1,a,"next"))},prev:function(a){var d=b.current;d&&(q(a)||(a=d.direction.prev),b.jumpto(d.index-1,a,"prev"))},jumpto:function(a,d,e){var c=b.current;c&&(a=l(a),b.direction=d||c.direction[a>=c.index?"next":"prev"],b.router=e||"jumpto",c.loop&&(0>a&&(a=c.group.length+a%
c.group.length),a%=c.group.length),c.group[a]!==v&&(b.cancel(),b._start(a)))},reposition:function(a,d){var e=b.current,c=e?e.wrap:null,k;c&&(k=b._getPosition(d),a&&"scroll"===a.type?(delete k.position,c.stop(!0,!0).animate(k,200)):(c.css(k),e.pos=f.extend({},e.dim,k)))},update:function(a){var d=a&&a.type,e=!d||"orientationchange"===d;e&&(clearTimeout(B),B=null);b.isOpen&&!B&&(B=setTimeout(function(){var c=b.current;c&&!b.isClosing&&(b.wrap.removeClass("fancybox-tmp"),(e||"load"===d||"resize"===d&&
c.autoResize)&&b._setDimension(),"scroll"===d&&c.canShrink||b.reposition(a),b.trigger("onUpdate"),B=null)},e&&!s?0:300))},toggle:function(a){b.isOpen&&(b.current.fitToView="boolean"===f.type(a)?a:!b.current.fitToView,s&&(b.wrap.removeAttr("style").addClass("fancybox-tmp"),b.trigger("onUpdate")),b.update())},hideLoading:function(){p.unbind(".loading");f("#fancybox-loading").remove()},showLoading:function(){var a,d;b.hideLoading();a=f('\x3cdiv id\x3d"fancybox-loading"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e').click(b.cancel).appendTo("body");
p.bind("keydown.loading",function(a){if(27===(a.which||a.keyCode))a.preventDefault(),b.cancel()});b.defaults.fixed||(d=b.getViewport(),a.css({position:"absolute",top:.5*d.h+d.y,left:.5*d.w+d.x}))},getViewport:function(){var a=b.current&&b.current.locked||!1,d={x:n.scrollLeft(),y:n.scrollTop()};a?(d.w=a[0].clientWidth,d.h=a[0].clientHeight):(d.w=s&&r.innerWidth?r.innerWidth:n.width(),d.h=s&&r.innerHeight?r.innerHeight:n.height());return d},unbindEvents:function(){b.wrap&&t(b.wrap)&&b.wrap.unbind(".fb");
p.unbind(".fb");n.unbind(".fb")},bindEvents:function(){var a=b.current,d;a&&(n.bind("orientationchange.fb"+(s?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),b.update),(d=a.keys)&&p.bind("keydown.fb",function(e){var c=e.which||e.keyCode,k=e.target||e.srcElement;if(27===c&&b.coming)return!1;!e.ctrlKey&&(!e.altKey&&!e.shiftKey&&!e.metaKey&&(!k||!k.type&&!f(k).is("[contenteditable]")))&&f.each(d,function(d,k){if(1<a.group.length&&k[c]!==v)return b[d](k[c]),e.preventDefault(),!1;if(-1<f.inArray(c,
k))return b[d](),e.preventDefault(),!1})}),f.fn.mousewheel&&a.mouseWheel&&b.wrap.bind("mousewheel.fb",function(d,c,k,g){for(var h=f(d.target||null),j=!1;h.length&&!j&&!h.is(".fancybox-skin")&&!h.is(".fancybox-wrap");)j=h[0]&&!(h[0].style.overflow&&"hidden"===h[0].style.overflow)&&(h[0].clientWidth&&h[0].scrollWidth>h[0].clientWidth||h[0].clientHeight&&h[0].scrollHeight>h[0].clientHeight),h=f(h).parent();if(0!==c&&!j&&1<b.group.length&&!a.canShrink){if(0<g||0<k)b.prev(0<g?"down":"left");else if(0>
g||0>k)b.next(0>g?"up":"right");d.preventDefault()}}))},trigger:function(a,d){var e,c=d||b.coming||b.current;if(c){f.isFunction(c[a])&&(e=c[a].apply(c,Array.prototype.slice.call(arguments,1)));if(!1===e)return!1;c.helpers&&f.each(c.helpers,function(d,e){if(e&&b.helpers[d]&&f.isFunction(b.helpers[d][a]))b.helpers[d][a](f.extend(!0,{},b.helpers[d].defaults,e),c)});p.trigger(a)}},isImage:function(a){return q(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(a){return q(a)&&
a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var d={},e,c;a=l(a);e=b.group[a]||null;if(!e)return!1;d=f.extend(!0,{},b.opts,e);e=d.margin;c=d.padding;"number"===f.type(e)&&(d.margin=[e,e,e,e]);"number"===f.type(c)&&(d.padding=[c,c,c,c]);d.modal&&f.extend(!0,d,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});d.autoSize&&(d.autoWidth=d.autoHeight=!0);"auto"===d.width&&(d.autoWidth=!0);"auto"===d.height&&(d.autoHeight=!0);d.group=b.group;
d.index=a;b.coming=d;if(!1===b.trigger("beforeLoad"))b.coming=null;else{c=d.type;e=d.href;if(!c)return b.coming=null,b.current&&b.router&&"jumpto"!==b.router?(b.current.index=a,b[b.router](b.direction)):!1;b.isActive=!0;if("image"===c||"swf"===c)d.autoHeight=d.autoWidth=!1,d.scrolling="visible";"image"===c&&(d.aspectRatio=!0);"iframe"===c&&s&&(d.scrolling="scroll");d.wrap=f(d.tpl.wrap).addClass("fancybox-"+(s?"mobile":"desktop")+" fancybox-type-"+c+" fancybox-tmp "+d.wrapCSS).appendTo(d.parent||"body");
f.extend(d,{skin:f(".fancybox-skin",d.wrap),outer:f(".fancybox-outer",d.wrap),inner:f(".fancybox-inner",d.wrap)});f.each(["Top","Right","Bottom","Left"],function(a,b){d.skin.css("padding"+b,w(d.padding[a]))});b.trigger("onReady");if("inline"===c||"html"===c){if(!d.content||!d.content.length)return b._error("content")}else if(!e)return b._error("href");"image"===c?b._loadImage():"ajax"===c?b._loadAjax():"iframe"===c?b._loadIframe():b._afterLoad()}},_error:function(a){f.extend(b.coming,{type:"html",
autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:b.coming.tpl.error});b._afterLoad()},_loadImage:function(){var a=b.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;b.coming.width=this.width/b.opts.pixelRatio;b.coming.height=this.height/b.opts.pixelRatio;b._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;b._error("image")};a.src=b.coming.href;!0!==a.complete&&b.showLoading()},_loadAjax:function(){var a=b.coming;b.showLoading();
b.ajaxLoad=f.ajax(f.extend({},a.ajax,{url:a.href,error:function(a,e){b.coming&&"abort"!==e?b._error("ajax",a):b.hideLoading()},success:function(d,e){"success"===e&&(a.content=d,b._afterLoad())}}))},_loadIframe:function(){var a=b.coming,d=f(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",s?"auto":a.iframe.scrolling).attr("src",a.href);f(a.wrap).bind("onReset",function(){try{f(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}});a.iframe.preload&&
(b.showLoading(),d.one("load",function(){f(this).data("ready",1);s||f(this).bind("load.fb",b.update);f(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();b._afterLoad()}));a.content=d.appendTo(a.inner);a.iframe.preload||b._afterLoad()},_preloadImages:function(){var a=b.group,d=b.current,e=a.length,c=d.preload?Math.min(d.preload,e-1):0,f,g;for(g=1;g<=c;g+=1)f=a[(d.index+g)%e],"image"===f.type&&f.href&&((new Image).src=f.href)},_afterLoad:function(){var a=b.coming,d=b.current,
e,c,k,g,h;b.hideLoading();if(a&&!1!==b.isActive)if(!1===b.trigger("afterLoad",a,d))a.wrap.stop(!0).trigger("onReset").remove(),b.coming=null;else{d&&(b.trigger("beforeChange",d),d.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());b.unbindEvents();e=a.content;c=a.type;k=a.scrolling;f.extend(b,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:d});g=a.href;switch(c){case "inline":case "ajax":case "html":a.selector?e=f("\x3cdiv\x3e").html(e).find(a.selector):
t(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",f('\x3cdiv class\x3d"fancybox-placeholder"\x3e\x3c/div\x3e').insertAfter(e).hide()),e=e.show().detach(),a.wrap.bind("onReset",function(){f(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case "image":e=a.tpl.image.replace("{href}",g);break;case "swf":e='\x3cobject id\x3d"fancybox-swf" classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"100%" height\x3d"100%"\x3e\x3cparam name\x3d"movie" value\x3d"'+
g+'"\x3e\x3c/param\x3e',h="",f.each(a.swf,function(a,b){e+='\x3cparam name\x3d"'+a+'" value\x3d"'+b+'"\x3e\x3c/param\x3e';h+=" "+a+'\x3d"'+b+'"'}),e+='\x3cembed src\x3d"'+g+'" type\x3d"application/x-shockwave-flash" width\x3d"100%" height\x3d"100%"'+h+"\x3e\x3c/embed\x3e\x3c/object\x3e"}(!t(e)||!e.parent().is(a.inner))&&a.inner.append(e);b.trigger("beforeShow");a.inner.css("overflow","yes"===k?"scroll":"no"===k?"hidden":k);b._setDimension();b.reposition();b.isOpen=!1;b.coming=null;b.bindEvents();
if(b.isOpened){if(d.prevMethod)b.transitions[d.prevMethod]()}else f(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove();b.transitions[b.isOpened?a.nextMethod:a.openMethod]();b._preloadImages()}},_setDimension:function(){var a=b.getViewport(),d=0,e=!1,c=!1,e=b.wrap,k=b.skin,g=b.inner,h=b.current,c=h.width,j=h.height,m=h.minWidth,u=h.minHeight,n=h.maxWidth,p=h.maxHeight,s=h.scrolling,q=h.scrollOutside?h.scrollbarWidth:0,x=h.margin,y=l(x[1]+x[3]),r=l(x[0]+x[2]),v,z,t,C,A,F,B,D,H;e.add(k).add(g).width("auto").height("auto").removeClass("fancybox-tmp");
x=l(k.outerWidth(!0)-k.width());v=l(k.outerHeight(!0)-k.height());z=y+x;t=r+v;C=E(c)?(a.w-z)*l(c)/100:c;A=E(j)?(a.h-t)*l(j)/100:j;if("iframe"===h.type){if(H=h.content,h.autoHeight&&1===H.data("ready"))try{H[0].contentWindow.document.location&&(g.width(C).height(9999),F=H.contents().find("body"),q&&F.css("overflow-x","hidden"),A=F.outerHeight(!0))}catch(G){}}else if(h.autoWidth||h.autoHeight)g.addClass("fancybox-tmp"),h.autoWidth||g.width(C),h.autoHeight||g.height(A),h.autoWidth&&(C=g.width()),h.autoHeight&&
(A=g.height()),g.removeClass("fancybox-tmp");c=l(C);j=l(A);D=C/A;m=l(E(m)?l(m,"w")-z:m);n=l(E(n)?l(n,"w")-z:n);u=l(E(u)?l(u,"h")-t:u);p=l(E(p)?l(p,"h")-t:p);F=n;B=p;h.fitToView&&(n=Math.min(a.w-z,n),p=Math.min(a.h-t,p));z=a.w-y;r=a.h-r;h.aspectRatio?(c>n&&(c=n,j=l(c/D)),j>p&&(j=p,c=l(j*D)),c<m&&(c=m,j=l(c/D)),j<u&&(j=u,c=l(j*D))):(c=Math.max(m,Math.min(c,n)),h.autoHeight&&"iframe"!==h.type&&(g.width(c),j=g.height()),j=Math.max(u,Math.min(j,p)));if(h.fitToView)if(g.width(c).height(j),e.width(c+x),
a=e.width(),y=e.height(),h.aspectRatio)for(;(a>z||y>r)&&(c>m&&j>u)&&!(19<d++);)j=Math.max(u,Math.min(p,j-10)),c=l(j*D),c<m&&(c=m,j=l(c/D)),c>n&&(c=n,j=l(c/D)),g.width(c).height(j),e.width(c+x),a=e.width(),y=e.height();else c=Math.max(m,Math.min(c,c-(a-z))),j=Math.max(u,Math.min(j,j-(y-r)));q&&("auto"===s&&j<A&&c+x+q<z)&&(c+=q);g.width(c).height(j);e.width(c+x);a=e.width();y=e.height();e=(a>z||y>r)&&c>m&&j>u;c=h.aspectRatio?c<F&&j<B&&c<C&&j<A:(c<F||j<B)&&(c<C||j<A);f.extend(h,{dim:{width:w(a),height:w(y)},
origWidth:C,origHeight:A,canShrink:e,canExpand:c,wPadding:x,hPadding:v,wrapSpace:y-k.outerHeight(!0),skinSpace:k.height()-j});!H&&(h.autoHeight&&j>u&&j<p&&!c)&&g.height("auto")},_getPosition:function(a){var d=b.current,e=b.getViewport(),c=d.margin,f=b.wrap.width()+c[1]+c[3],g=b.wrap.height()+c[0]+c[2],c={position:"absolute",top:c[0],left:c[3]};d.autoCenter&&d.fixed&&!a&&g<=e.h&&f<=e.w?c.position="fixed":d.locked||(c.top+=e.y,c.left+=e.x);c.top=w(Math.max(c.top,c.top+(e.h-g)*d.topRatio));c.left=w(Math.max(c.left,
c.left+(e.w-f)*d.leftRatio));return c},_afterZoomIn:function(){var a=b.current;a&&(b.isOpen=b.isOpened=!0,b.wrap.css("overflow","visible").addClass("fancybox-opened"),b.update(),(a.closeClick||a.nextClick&&1<b.group.length)&&b.inner.css("cursor","pointer").bind("click.fb",function(d){!f(d.target).is("a")&&!f(d.target).parent().is("a")&&(d.preventDefault(),b[a.closeClick?"close":"next"]())}),a.closeBtn&&f(a.tpl.closeBtn).appendTo(b.skin).bind("click.fb",function(a){a.preventDefault();b.close()}),a.arrows&&
1<b.group.length&&((a.loop||0<a.index)&&f(a.tpl.prev).appendTo(b.outer).bind("click.fb",b.prev),(a.loop||a.index<b.group.length-1)&&f(a.tpl.next).appendTo(b.outer).bind("click.fb",b.next)),b.trigger("afterShow"),!a.loop&&a.index===a.group.length-1?b.play(!1):b.opts.autoPlay&&!b.player.isActive&&(b.opts.autoPlay=!1,b.play()))},_afterZoomOut:function(a){a=a||b.current;f(".fancybox-wrap").trigger("onReset").remove();f.extend(b,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,
isClosing:!1,wrap:null,skin:null,outer:null,inner:null});b.trigger("afterClose",a)}});b.transitions={getOrigPosition:function(){var a=b.current,d=a.element,e=a.orig,c={},f=50,g=50,h=a.hPadding,j=a.wPadding,m=b.getViewport();!e&&(a.isDom&&d.is(":visible"))&&(e=d.find("img:first"),e.length||(e=d));t(e)?(c=e.offset(),e.is("img")&&(f=e.outerWidth(),g=e.outerHeight())):(c.top=m.y+(m.h-g)*a.topRatio,c.left=m.x+(m.w-f)*a.leftRatio);if("fixed"===b.wrap.css("position")||a.locked)c.top-=m.y,c.left-=m.x;return c=
{top:w(c.top-h*a.topRatio),left:w(c.left-j*a.leftRatio),width:w(f+j),height:w(g+h)}},step:function(a,d){var e,c,f=d.prop;c=b.current;var g=c.wrapSpace,h=c.skinSpace;if("width"===f||"height"===f)e=d.end===d.start?1:(a-d.start)/(d.end-d.start),b.isClosing&&(e=1-e),c="width"===f?c.wPadding:c.hPadding,c=a-c,b.skin[f](l("width"===f?c:c-g*e)),b.inner[f](l("width"===f?c:c-g*e-h*e))},zoomIn:function(){var a=b.current,d=a.pos,e=a.openEffect,c="elastic"===e,k=f.extend({opacity:1},d);delete k.position;c?(d=
this.getOrigPosition(),a.openOpacity&&(d.opacity=.1)):"fade"===e&&(d.opacity=.1);b.wrap.css(d).animate(k,{duration:"none"===e?0:a.openSpeed,easing:a.openEasing,step:c?this.step:null,complete:b._afterZoomIn})},zoomOut:function(){var a=b.current,d=a.closeEffect,e="elastic"===d,c={opacity:.1};e&&(c=this.getOrigPosition(),a.closeOpacity&&(c.opacity=.1));b.wrap.animate(c,{duration:"none"===d?0:a.closeSpeed,easing:a.closeEasing,step:e?this.step:null,complete:b._afterZoomOut})},changeIn:function(){var a=
b.current,d=a.nextEffect,e=a.pos,c={opacity:1},f=b.direction,g;e.opacity=.1;"elastic"===d&&(g="down"===f||"up"===f?"top":"left","down"===f||"right"===f?(e[g]=w(l(e[g])-200),c[g]="+\x3d200px"):(e[g]=w(l(e[g])+200),c[g]="-\x3d200px"));"none"===d?b._afterZoomIn():b.wrap.css(e).animate(c,{duration:a.nextSpeed,easing:a.nextEasing,complete:b._afterZoomIn})},changeOut:function(){var a=b.previous,d=a.prevEffect,e={opacity:.1},c=b.direction;"elastic"===d&&(e["down"===c||"up"===c?"top":"left"]=("up"===c||"left"===
c?"-":"+")+"\x3d200px");a.wrap.animate(e,{duration:"none"===d?0:a.prevSpeed,easing:a.prevEasing,complete:function(){f(this).trigger("onReset").remove()}})}};b.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!s,fixed:!0},overlay:null,fixed:!1,el:f("html"),create:function(a){a=f.extend({},this.defaults,a);this.overlay&&this.close();this.overlay=f('\x3cdiv class\x3d"fancybox-overlay"\x3e\x3c/div\x3e').appendTo(b.coming?b.coming.parent:a.parent);this.fixed=!1;a.fixed&&
b.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var d=this;a=f.extend({},this.defaults,a);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a);this.fixed||(n.bind("resize.overlay",f.proxy(this.update,this)),this.update());a.closeClick&&this.overlay.bind("click.overlay",function(a){if(f(a.target).hasClass("fancybox-overlay"))return b.isActive?b.close():d.close(),!1});this.overlay.css(a.css).show()},close:function(){var a,
b;n.unbind("resize.overlay");this.el.hasClass("fancybox-lock")&&(f(".fancybox-margin").removeClass("fancybox-margin"),a=n.scrollTop(),b=n.scrollLeft(),this.el.removeClass("fancybox-lock"),n.scrollTop(a).scrollLeft(b));f(".fancybox-overlay").remove().hide();f.extend(this,{overlay:null,fixed:!1})},update:function(){var a="100%",b;this.overlay.width(a).height("100%");I?(b=Math.max(G.documentElement.offsetWidth,G.body.offsetWidth),p.width()>b&&(a=p.width())):p.width()>n.width()&&(a=p.width());this.overlay.width(a).height(p.height())},
onReady:function(a,b){var e=this.overlay;f(".fancybox-overlay").stop(!0,!0);e||this.create(a);a.locked&&(this.fixed&&b.fixed)&&(e||(this.margin=p.height()>n.height()?f("html").css("margin-right").replace("px",""):!1),b.locked=this.overlay.append(b.wrap),b.fixed=!1);!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){var e,c;b.locked&&(!1!==this.margin&&(f("*").filter(function(){return"fixed"===f(this).css("position")&&!f(this).hasClass("fancybox-overlay")&&!f(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),
this.el.addClass("fancybox-margin")),e=n.scrollTop(),c=n.scrollLeft(),this.el.addClass("fancybox-lock"),n.scrollTop(e).scrollLeft(c));this.open(a)},onUpdate:function(){this.fixed||this.update()},afterClose:function(a){this.overlay&&!b.coming&&this.overlay.fadeOut(a.speedOut,f.proxy(this.close,this))}};b.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(a){var d=b.current,e=d.title,c=a.type;f.isFunction(e)&&(e=e.call(d.element,d));if(q(e)&&""!==f.trim(e)){d=f('\x3cdiv class\x3d"fancybox-title fancybox-title-'+
c+'-wrap"\x3e'+e+"\x3c/div\x3e");switch(c){case "inside":c=b.skin;break;case "outside":c=b.wrap;break;case "over":c=b.inner;break;default:c=b.skin,d.appendTo("body"),I&&d.width(d.width()),d.wrapInner('\x3cspan class\x3d"child"\x3e\x3c/span\x3e'),b.current.margin[2]+=Math.abs(l(d.css("margin-bottom")))}d["top"===a.position?"prependTo":"appendTo"](c)}}};f.fn.fancybox=function(a){var d,e=f(this),c=this.selector||"",k=function(g){var h=f(this).blur(),j=d,k,l;!g.ctrlKey&&(!g.altKey&&!g.shiftKey&&!g.metaKey)&&
!h.is(".fancybox-wrap")&&(k=a.groupAttr||"data-fancybox-group",l=h.attr(k),l||(k="rel",l=h.get(0)[k]),l&&(""!==l&&"nofollow"!==l)&&(h=c.length?f(c):e,h=h.filter("["+k+'\x3d"'+l+'"]'),j=h.index(this)),a.index=j,!1!==b.open(h,a)&&g.preventDefault())};a=a||{};d=a.index||0;!c||!1===a.live?e.unbind("click.fb-start").bind("click.fb-start",k):p.undelegate(c,"click.fb-start").delegate(c+":not('.fancybox-item, .fancybox-nav')","click.fb-start",k);this.filter("[data-fancybox-start\x3d1]").trigger("click");
return this};p.ready(function(){var a,d;f.scrollbarWidth===v&&(f.scrollbarWidth=function(){var a=f('\x3cdiv style\x3d"width:50px;height:50px;overflow:auto"\x3e\x3cdiv/\x3e\x3c/div\x3e').appendTo("body"),b=a.children(),b=b.innerWidth()-b.height(99).innerWidth();a.remove();return b});if(f.support.fixedPosition===v){a=f.support;d=f('\x3cdiv style\x3d"position:fixed;top:20px;"\x3e\x3c/div\x3e').appendTo("body");var e=20===d[0].offsetTop||15===d[0].offsetTop;d.remove();a.fixedPosition=e}f.extend(b.defaults,
{scrollbarWidth:f.scrollbarWidth(),fixed:f.support.fixedPosition,parent:f("body")});a=f(r).width();J.addClass("fancybox-lock-test");d=f(r).width();J.removeClass("fancybox-lock-test");f("\x3cstyle type\x3d'text/css'\x3e.fancybox-margin{margin-right:"+(d-a)+"px;}\x3c/style\x3e").appendTo("head")})})(window,document,jQuery);
(function($,undefined){var uuid=0,runiqueId=/^ui-id-\d+$/;$.ui=$.ui||{};if($.ui.version)return;$.extend($.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});$.fn.extend({_focus:$.fn.focus,focus:function(delay,fn){return typeof delay==="number"?this.each(function(){var elem=
this;setTimeout(function(){$(elem).focus();if(fn)fn.call(elem)},delay)}):this._focus.apply(this,arguments)},scrollParent:function(){var scrollParent;if($.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position")))scrollParent=this.parents().filter(function(){return/(relative|absolute|fixed)/.test($.css(this,"position"))&&/(auto|scroll)/.test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"))}).eq(0);else scrollParent=this.parents().filter(function(){return/(auto|scroll)/.test($.css(this,
"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!scrollParent.length?$(document):scrollParent},zIndex:function(zIndex){if(zIndex!==undefined)return this.css("zIndex",zIndex);if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0)return value}elem=
elem.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id)this.id="ui-id-"+ ++uuid})},removeUniqueId:function(){return this.each(function(){if(runiqueId.test(this.id))$(this).removeAttr("id")})}});function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map")return false;img=$("img[usemap\x3d#"+mapName+"]")[0];
return!!img&&visible(img)}return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element)}function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().andSelf().filter(function(){return $.css(this,"visibility")==="hidden"}).length}$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName)}}):function(elem,
i,match){return!!$.data(elem,match[3])},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")))},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN)}});$(function(){var body=document.body,div=body.appendChild(div=document.createElement("div"));div.offsetHeight;$.extend(div.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});$.support.minHeight=
div.offsetHeight===100;$.support.selectstart="onselectstart"in div;body.removeChild(div).style.display="none"});if(!$("\x3ca\x3e").outerWidth(1).jquery)$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||
0;if(border)size-=parseFloat($.css(elem,"border"+this+"Width"))||0;if(margin)size-=parseFloat($.css(elem,"margin"+this))||0});return size}$.fn["inner"+name]=function(size){if(size===undefined)return orig["inner"+name].call(this);return this.each(function(){$(this).css(type,reduce(this,size)+"px")})};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number")return orig["outer"+name].call(this,size);return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px")})}});if($("\x3ca\x3e").data("a-b",
"a").removeData("a-b").data("a-b"))$.fn.removeData=function(removeData){return function(key){if(arguments.length)return removeData.call(this,$.camelCase(key));else return removeData.call(this)}}($.fn.removeData);(function(){var uaMatch=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];$.ui.ie=uaMatch.length?true:false;$.ui.ie6=parseFloat(uaMatch[1],10)===6})();$.fn.extend({disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",
function(event){event.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});$.extend($.ui,{plugin:{add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]])}},call:function(instance,name,args){var i,set=instance.plugins[name];if(!set||!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11)return;for(i=0;i<set.length;i++)if(instance.options[set[i][0]])set[i][1].apply(instance.element,
args)}},contains:$.contains,hasScroll:function(el,a){if($(el).css("overflow")==="hidden")return false;var scroll=a&&a==="left"?"scrollLeft":"scrollTop",has=false;if(el[scroll]>0)return true;el[scroll]=1;has=el[scroll]>0;el[scroll]=0;return has},isOverAxis:function(x,reference,size){return x>reference&&x<reference+size},isOver:function(y,x,top,left,height,width){return $.ui.isOverAxis(y,top,height)&&$.ui.isOverAxis(x,left,width)}})})(jQuery);
(function($,undefined){var uuid=0,slice=Array.prototype.slice,_cleanData=$.cleanData;$.cleanData=function(elems){for(var i=0,elem;(elem=elems[i])!=null;i++)try{$(elem).triggerHandler("remove")}catch(e){}_cleanData(elems)};$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,namespace=name.split(".")[0];name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget}$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,
fullName)};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget)return new constructor(options,element);if(arguments.length)this._createWidget(options,element)};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base;basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if($.isFunction(value))prototype[prop]=
function(){var _super=function(){return base.prototype[prop].apply(this,arguments)},_superApply=function(args){return base.prototype[prop].apply(this,args)};return function(){var __super=this._super,__superApply=this._superApply,returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue}}()});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix:
name},prototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetBaseClass:fullName,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto)});delete existingConstructor._childConstructors}else base._childConstructors.push(constructor);$.widget.bridge(name,constructor)};$.widget.extend=function(target){var input=
slice.call(arguments,1),inputIndex=0,inputLength=input.length,key,value;for(;inputIndex<inputLength;inputIndex++)for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined)if($.isPlainObject(value))target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value);else target[key]=value}return target};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=
function(options){var isMethodCall=typeof options==="string",args=slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.widget.extend.apply(null,[options].concat(args)):options;if(isMethodCall)this.each(function(){var methodValue,instance=$.data(this,fullName);if(!instance)return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'");if(!$.isFunction(instance[options])||options.charAt(0)==="_")return $.error("no such method '"+
options+"' for "+name+" widget instance");methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false}});else this.each(function(){var instance=$.data(this,fullName);if(instance)instance.option(options||{})._init();else $.data(this,fullName,new object(options,this))});return returnValue}};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype=
{widgetName:"widget",widgetEventPrefix:"",defaultElement:"\x3cdiv\x3e",options:{disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=uuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this.bindings=$();this.hoverable=$();this.focusable=$();if(element!==this){$.data(element,this.widgetName,this);$.data(element,this.widgetFullName,
this);this._on(true,this.element,{remove:function(event){if(event.target===element)this.destroy()}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));
this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(key,value){var options=key,parts,curOption,i;if(arguments.length===0)return $.widget.extend({},this.options);if(typeof key==="string"){options={};parts=key.split(".");
key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]]}key=parts.pop();if(value===undefined)return curOption[key]===undefined?null:curOption[key];curOption[key]=value}else{if(value===undefined)return this.options[key]===undefined?null:this.options[key];options[key]=value}}this._setOptions(options);return this},_setOptions:function(options){var key;for(key in options)this._setOption(key,
options[key]);return this},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!value).attr("aria-disabled",value);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,
instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false}if(!handlers){handlers=element;element=this.element;delegateElement=this.widget()}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element)}$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled")))return;return(typeof handler==="string"?
instance[handler]:handler).apply(instance,arguments)}if(typeof handler!=="string")handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;var match=event.match(/^(\w+)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];if(selector)delegateElement.delegate(selector,eventName,handlerProxy);else element.bind(eventName,handlerProxy)})},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;element.unbind(eventName).undelegate(eventName)},
_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments)}var instance=this;return setTimeout(handlerProxy,delay||0)},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover")},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(element){this.focusable=this.focusable.add(element);
this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus")},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig)for(prop in orig)if(!(prop in event))event[prop]=orig[prop];this.element.trigger(event,
data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented())}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string")options={effect:options};var hasOptions,effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number")options=
{duration:options};hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay)element.delay(options.delay);if(hasOptions&&$.effects&&($.effects.effect[effectName]||$.uiBackCompat!==false&&$.effects[effectName]))element[method](options);else if(effectName!==method&&element[effectName])element[effectName](options.duration,options.easing,callback);else element.queue(function(next){$(this)[method]();if(callback)callback.call(element[0]);next()})}});if($.uiBackCompat!==false)$.Widget.prototype._getCreateOptions=
function(){return $.metadata&&$.metadata.get(this.element[0])[this.widgetName]}})(jQuery);
(function($,undefined){var mouseHandled=false;$(document).mouseup(function(e){mouseHandled=false});$.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.bind("mousedown."+this.widgetName,function(event){return that._mouseDown(event)}).bind("click."+this.widgetName,function(event){if(true===$.data(event.target,that.widgetName+".preventClickEvent")){$.removeData(event.target,that.widgetName+".preventClickEvent");
event.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate)$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(event){if(mouseHandled)return;this._mouseStarted&&this._mouseUp(event);this._mouseDownEvent=event;var that=this,btnIsLeft=event.which===1,elIsCancel=typeof this.options.cancel==="string"&&
event.target.nodeName?$(event.target).closest(this.options.cancel).length:false;if(!btnIsLeft||elIsCancel||!this._mouseCapture(event))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=this._mouseStart(event)!==false;if(!this._mouseStarted){event.preventDefault();return true}}if(true===$.data(event.target,this.widgetName+
".preventClickEvent"))$.removeData(event.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(event){return that._mouseMove(event)};this._mouseUpDelegate=function(event){return that._mouseUp(event)};$(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);event.preventDefault();mouseHandled=true;return true},_mouseMove:function(event){if($.ui.ie&&!(document.documentMode>=9)&&!event.button)return this._mouseUp(event);
if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault()}if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,event)!==false;this._mouseStarted?this._mouseDrag(event):this._mouseUp(event)}return!this._mouseStarted},_mouseUp:function(event){$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;
if(event.target===this._mouseDownEvent.target)$.data(event.target,this.widgetName+".preventClickEvent",true);this._mouseStop(event)}return false},_mouseDistanceMet:function(event){return Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance},_mouseDelayMet:function(event){return this.mouseDelayMet},_mouseStart:function(event){},_mouseDrag:function(event){},_mouseStop:function(event){},_mouseCapture:function(event){return true}})})(jQuery);
(function($,undefined){$.widget("ui.draggable",$.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper==
"original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(event){var o=this.options;if(this.helper||o.disabled||$(event.target).is(".ui-resizable-handle"))return false;
this.handle=this._getHandle(event);if(!this.handle)return false;$(o.iframeFix===true?"iframe":o.iframeFix).each(function(){$('\x3cdiv class\x3d"ui-draggable-iframeFix" style\x3d"background: #fff;"\x3e\x3c/div\x3e').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css($(this).offset()).appendTo("body")});return true},_mouseStart:function(event){var o=this.options;this.helper=this._createHelper(event);this.helper.addClass("ui-draggable-dragging");
this._cacheHelperProportions();if($.ui.ddmanager)$.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=
this.position=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt);if(o.containment)this._setContainment();if(this._trigger("start",event)===false){this._clear();return false}this._cacheHelperProportions();if($.ui.ddmanager&&!o.dropBehaviour)$.ui.ddmanager.prepareOffsets(this,event);this._mouseDrag(event,true);if($.ui.ddmanager)$.ui.ddmanager.dragStart(this,event);return true},_mouseDrag:function(event,noPropagation){this.position=
this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!noPropagation){var ui=this._uiHash();if(this._trigger("drag",event,ui)===false){this._mouseUp({});return false}this.position=ui.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";if($.ui.ddmanager)$.ui.ddmanager.drag(this,event);return false},_mouseStop:function(event){var dropped=
false;if($.ui.ddmanager&&!this.options.dropBehaviour)dropped=$.ui.ddmanager.drop(this,event);if(this.dropped){dropped=this.dropped;this.dropped=false}var element=this.element[0],elementInDom=false;while(element&&(element=element.parentNode))if(element==document)elementInDom=true;if(!elementInDom&&this.options.helper==="original")return false;if(this.options.revert=="invalid"&&!dropped||this.options.revert=="valid"&&dropped||this.options.revert===true||$.isFunction(this.options.revert)&&this.options.revert.call(this.element,
dropped)){var that=this;$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(that._trigger("stop",event)!==false)that._clear()})}else if(this._trigger("stop",event)!==false)this._clear();return false},_mouseUp:function(event){$("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if($.ui.ddmanager)$.ui.ddmanager.dragStop(this,event);return $.ui.mouse.prototype._mouseUp.call(this,event)},cancel:function(){if(this.helper.is(".ui-draggable-dragging"))this._mouseUp({});
else this._clear();return this},_getHandle:function(event){var handle=!this.options.handle||!$(this.options.handle,this.element).length?true:false;$(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==event.target)handle=true});return handle},_createHelper:function(event){var o=this.options;var helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event])):o.helper=="clone"?this.element.clone().removeAttr("id"):this.element;if(!helper.parents("body").length)helper.appendTo(o.appendTo==
"parent"?this.element[0].parentNode:o.appendTo);if(helper[0]!=this.element[0]&&!/(fixed|absolute)/.test(helper.css("position")))helper.css("position","absolute");return helper},_adjustOffsetFromHelper:function(obj){if(typeof obj=="string")obj=obj.split(" ");if($.isArray(obj))obj={left:+obj[0],top:+obj[1]||0};if("left"in obj)this.offset.click.left=obj.left+this.margins.left;if("right"in obj)this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;if("top"in obj)this.offset.click.top=
obj.top+this.margins.top;if("bottom"in obj)this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==
"html"&&$.ui.ie)po={top:0,left:0};return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var p=this.element.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins=
{left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var o=this.options;if(o.containment=="parent")o.containment=this.helper[0].parentNode;if(o.containment=="document"||o.containment=="window")this.containment=
[o.containment=="document"?0:$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,o.containment=="document"?0:$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(o.containment=="document"?0:$(window).scrollLeft())+$(o.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(o.containment=="document"?0:$(window).scrollTop())+($(o.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top];if(!/^(document|window|parent)$/.test(o.containment)&&o.containment.constructor!=Array){var c=$(o.containment);var ce=c[0];if(!ce)return;var co=c.offset();var over=$(ce).css("overflow")!="hidden";this.containment=[(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0),(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0),(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),
10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=c}else if(o.containment.constructor==Array)this.containment=o.containment},_convertPositionTo:function(d,pos){if(!pos)pos=this.position;
var mod=d=="absolute"?1:-1;var o=this.options,scroll=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);return{top:pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop())*mod,left:pos.left+this.offset.relative.left*mod+this.offset.parent.left*
mod-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod}},_generatePosition:function(event){var o=this.options,scroll=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);var pageX=event.pageX;var pageY=event.pageY;if(this.originalPosition){var containment;if(this.containment){if(this.relative_container){var co=
this.relative_container.offset();containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top]}else containment=this.containment;if(event.pageX-this.offset.click.left<containment[0])pageX=containment[0]+this.offset.click.left;if(event.pageY-this.offset.click.top<containment[1])pageY=containment[1]+this.offset.click.top;if(event.pageX-this.offset.click.left>containment[2])pageX=containment[2]+this.offset.click.left;if(event.pageY-this.offset.click.top>
containment[3])pageY=containment[3]+this.offset.click.top}if(o.grid){var top=o.grid[1]?this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;pageY=containment?!(top-this.offset.click.top<containment[1]||top-this.offset.click.top>containment[3])?top:!(top-this.offset.click.top<containment[1])?top-o.grid[1]:top+o.grid[1]:top;var left=o.grid[0]?this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;pageX=containment?
!(left-this.offset.click.left<containment[0]||left-this.offset.click.left>containment[2])?left:!(left-this.offset.click.left<containment[0])?left-o.grid[0]:left+o.grid[0]:left}}return{top:pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop()),left:pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():
scrollIsRootNode?0:scroll.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval)this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(type,event,ui){ui=ui||this._uiHash();$.ui.plugin.call(this,type,[event,ui]);if(type=="drag")this.positionAbs=this._convertPositionTo("absolute");return $.Widget.prototype._trigger.call(this,type,event,ui)},plugins:{},_uiHash:function(event){return{helper:this.helper,
position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui){var inst=$(this).data("draggable"),o=inst.options,uiSortable=$.extend({},ui,{item:inst.element});inst.sortables=[];$(o.connectToSortable).each(function(){var sortable=$.data(this,"sortable");if(sortable&&!sortable.options.disabled){inst.sortables.push({instance:sortable,shouldRevert:sortable.options.revert});sortable.refreshPositions();
sortable._trigger("activate",event,uiSortable)}})},stop:function(event,ui){var inst=$(this).data("draggable"),uiSortable=$.extend({},ui,{item:inst.element});$.each(inst.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;inst.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(event);this.instance.options.helper=this.instance.options._helper;if(inst.options.helper=="original")this.instance.currentItem.css({top:"auto",
left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",event,uiSortable)}})},drag:function(event,ui){var inst=$(this).data("draggable"),that=this;var checkPos=function(o){var dyClick=this.offset.click.top,dxClick=this.offset.click.left;var helperTop=this.positionAbs.top,helperLeft=this.positionAbs.left;var itemHeight=o.height,itemWidth=o.width;var itemTop=o.top,itemLeft=o.left;return $.ui.isOver(helperTop+dyClick,helperLeft+dxClick,itemTop,itemLeft,itemHeight,
itemWidth)};$.each(inst.sortables,function(i){var innermostIntersecting=false;var thisSortable=this;this.instance.positionAbs=inst.positionAbs;this.instance.helperProportions=inst.helperProportions;this.instance.offset.click=inst.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){innermostIntersecting=true;$.each(inst.sortables,function(){this.instance.positionAbs=inst.positionAbs;this.instance.helperProportions=inst.helperProportions;this.instance.offset.click=inst.offset.click;
if(this!=thisSortable&&this.instance._intersectsWith(this.instance.containerCache)&&$.ui.contains(thisSortable.instance.element[0],this.instance.element[0]))innermostIntersecting=false;return innermostIntersecting})}if(innermostIntersecting){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=$(that).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return ui.helper[0]};
event.target=this.instance.currentItem[0];this.instance._mouseCapture(event,true);this.instance._mouseStart(event,true,true);this.instance.offset.click.top=inst.offset.click.top;this.instance.offset.click.left=inst.offset.click.left;this.instance.offset.parent.left-=inst.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=inst.offset.parent.top-this.instance.offset.parent.top;inst._trigger("toSortable",event);inst.dropped=this.instance.element;inst.currentItem=inst.element;
this.instance.fromOutside=inst}if(this.instance.currentItem)this.instance._mouseDrag(event)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",event,this.instance._uiHash(this.instance));this.instance._mouseStop(event,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder)this.instance.placeholder.remove();inst._trigger("fromSortable",
event);inst.dropped=false}})}});$.ui.plugin.add("draggable","cursor",{start:function(event,ui){var t=$("body"),o=$(this).data("draggable").options;if(t.css("cursor"))o._cursor=t.css("cursor");t.css("cursor",o.cursor)},stop:function(event,ui){var o=$(this).data("draggable").options;if(o._cursor)$("body").css("cursor",o._cursor)}});$.ui.plugin.add("draggable","opacity",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("draggable").options;if(t.css("opacity"))o._opacity=t.css("opacity");t.css("opacity",
o.opacity)},stop:function(event,ui){var o=$(this).data("draggable").options;if(o._opacity)$(ui.helper).css("opacity",o._opacity)}});$.ui.plugin.add("draggable","scroll",{start:function(event,ui){var i=$(this).data("draggable");if(i.scrollParent[0]!=document&&i.scrollParent[0].tagName!="HTML")i.overflowOffset=i.scrollParent.offset()},drag:function(event,ui){var i=$(this).data("draggable"),o=i.options,scrolled=false;if(i.scrollParent[0]!=document&&i.scrollParent[0].tagName!="HTML"){if(!o.axis||o.axis!=
"x")if(i.overflowOffset.top+i.scrollParent[0].offsetHeight-event.pageY<o.scrollSensitivity)i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop+o.scrollSpeed;else if(event.pageY-i.overflowOffset.top<o.scrollSensitivity)i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop-o.scrollSpeed;if(!o.axis||o.axis!="y")if(i.overflowOffset.left+i.scrollParent[0].offsetWidth-event.pageX<o.scrollSensitivity)i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft+o.scrollSpeed;
else if(event.pageX-i.overflowOffset.left<o.scrollSensitivity)i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft-o.scrollSpeed}else{if(!o.axis||o.axis!="x")if(event.pageY-$(document).scrollTop()<o.scrollSensitivity)scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity)scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);if(!o.axis||o.axis!="y")if(event.pageX-$(document).scrollLeft()<
o.scrollSensitivity)scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity)scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed)}if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour)$.ui.ddmanager.prepareOffsets(i,event)}});$.ui.plugin.add("draggable","snap",{start:function(event,ui){var i=$(this).data("draggable"),o=i.options;i.snapElements=[];$(o.snap.constructor!=String?o.snap.items||
":data(draggable)":o.snap).each(function(){var $t=$(this);var $o=$t.offset();if(this!=i.element[0])i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left})})},drag:function(event,ui){var inst=$(this).data("draggable"),o=inst.options;var d=o.snapTolerance;var x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(var i=inst.snapElements.length-1;i>=0;i--){var l=inst.snapElements[i].left,r=l+inst.snapElements[i].width,
t=inst.snapElements[i].top,b=t+inst.snapElements[i].height;if(!(l-d<x1&&x1<r+d&&t-d<y1&&y1<b+d||l-d<x1&&x1<r+d&&t-d<y2&&y2<b+d||l-d<x2&&x2<r+d&&t-d<y1&&y1<b+d||l-d<x2&&x2<r+d&&t-d<y2&&y2<b+d)){if(inst.snapElements[i].snapping)inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item}));inst.snapElements[i].snapping=false;continue}if(o.snapMode!="inner"){var ts=Math.abs(t-y2)<=d;var bs=Math.abs(b-y1)<=d;var ls=Math.abs(l-
x2)<=d;var rs=Math.abs(r-x1)<=d;if(ts)ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top-inst.margins.top;if(bs)ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top-inst.margins.top;if(ls)ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left-inst.margins.left;if(rs)ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left-inst.margins.left}var first=ts||bs||ls||rs;if(o.snapMode!=
"outer"){var ts=Math.abs(t-y1)<=d;var bs=Math.abs(b-y2)<=d;var ls=Math.abs(l-x1)<=d;var rs=Math.abs(r-x2)<=d;if(ts)ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top-inst.margins.top;if(bs)ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top-inst.margins.top;if(ls)ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left-inst.margins.left;if(rs)ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left-
inst.margins.left}if(!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first))inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item}));inst.snapElements[i].snapping=ts||bs||ls||rs||first}}});$.ui.plugin.add("draggable","stack",{start:function(event,ui){var o=$(this).data("draggable").options;var group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0)});
if(!group.length)return;var min=parseInt(group[0].style.zIndex)||0;$(group).each(function(i){this.style.zIndex=min+i});this[0].style.zIndex=min+group.length}});$.ui.plugin.add("draggable","zIndex",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("draggable").options;if(t.css("zIndex"))o._zIndex=t.css("zIndex");t.css("zIndex",o.zIndex)},stop:function(event,ui){var o=$(this).data("draggable").options;if(o._zIndex)$(ui.helper).css("zIndex",o._zIndex)}})})(jQuery);
(function($,undefined){$.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var o=this.options,accept=o.accept;this.isover=0;this.isout=1;this.accept=$.isFunction(accept)?accept:function(d){return d.is(accept)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};$.ui.ddmanager.droppables[o.scope]=$.ui.ddmanager.droppables[o.scope]||
[];$.ui.ddmanager.droppables[o.scope].push(this);o.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var drop=$.ui.ddmanager.droppables[this.options.scope];for(var i=0;i<drop.length;i++)if(drop[i]==this)drop.splice(i,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(key,value){if(key=="accept")this.accept=$.isFunction(value)?value:function(d){return d.is(value)};$.Widget.prototype._setOption.apply(this,arguments)},_activate:function(event){var draggable=
$.ui.ddmanager.current;if(this.options.activeClass)this.element.addClass(this.options.activeClass);draggable&&this._trigger("activate",event,this.ui(draggable))},_deactivate:function(event){var draggable=$.ui.ddmanager.current;if(this.options.activeClass)this.element.removeClass(this.options.activeClass);draggable&&this._trigger("deactivate",event,this.ui(draggable))},_over:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]==this.element[0])return;
if(this.accept.call(this.element[0],draggable.currentItem||draggable.element)){if(this.options.hoverClass)this.element.addClass(this.options.hoverClass);this._trigger("over",event,this.ui(draggable))}},_out:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]==this.element[0])return;if(this.accept.call(this.element[0],draggable.currentItem||draggable.element)){if(this.options.hoverClass)this.element.removeClass(this.options.hoverClass);
this._trigger("out",event,this.ui(draggable))}},_drop:function(event,custom){var draggable=custom||$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]==this.element[0])return false;var childrenIntersection=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var inst=$.data(this,"droppable");if(inst.options.greedy&&!inst.options.disabled&&inst.options.scope==draggable.options.scope&&inst.accept.call(inst.element[0],draggable.currentItem||
draggable.element)&&$.ui.intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance)){childrenIntersection=true;return false}});if(childrenIntersection)return false;if(this.accept.call(this.element[0],draggable.currentItem||draggable.element)){if(this.options.activeClass)this.element.removeClass(this.options.activeClass);if(this.options.hoverClass)this.element.removeClass(this.options.hoverClass);this._trigger("drop",event,this.ui(draggable));return this.element}return false},
ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}}});$.ui.intersect=function(draggable,droppable,toleranceMode){if(!droppable.offset)return false;var x1=(draggable.positionAbs||draggable.position.absolute).left,x2=x1+draggable.helperProportions.width,y1=(draggable.positionAbs||draggable.position.absolute).top,y2=y1+draggable.helperProportions.height;var l=droppable.offset.left,r=l+droppable.proportions.width,t=droppable.offset.top,b=
t+droppable.proportions.height;switch(toleranceMode){case "fit":return l<=x1&&x2<=r&&t<=y1&&y2<=b;break;case "intersect":return l<x1+draggable.helperProportions.width/2&&x2-draggable.helperProportions.width/2<r&&t<y1+draggable.helperProportions.height/2&&y2-draggable.helperProportions.height/2<b;break;case "pointer":var draggableLeft=(draggable.positionAbs||draggable.position.absolute).left+(draggable.clickOffset||draggable.offset.click).left,draggableTop=(draggable.positionAbs||draggable.position.absolute).top+
(draggable.clickOffset||draggable.offset.click).top,isOver=$.ui.isOver(draggableTop,draggableLeft,t,l,droppable.proportions.height,droppable.proportions.width);return isOver;break;case "touch":return(y1>=t&&y1<=b||y2>=t&&y2<=b||y1<t&&y2>b)&&(x1>=l&&x1<=r||x2>=l&&x2<=r||x1<l&&x2>r);break;default:return false;break}};$.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,event){var m=$.ui.ddmanager.droppables[t.options.scope]||[];var type=event?event.type:null;var list=(t.currentItem||
t.element).find(":data(droppable)").andSelf();droppablesLoop:for(var i=0;i<m.length;i++){if(m[i].options.disabled||t&&!m[i].accept.call(m[i].element[0],t.currentItem||t.element))continue;for(var j=0;j<list.length;j++)if(list[j]==m[i].element[0]){m[i].proportions.height=0;continue droppablesLoop}m[i].visible=m[i].element.css("display")!="none";if(!m[i].visible)continue;if(type=="mousedown")m[i]._activate.call(m[i],event);m[i].offset=m[i].element.offset();m[i].proportions={width:m[i].element[0].offsetWidth,
height:m[i].element[0].offsetHeight}}},drop:function(draggable,event){var dropped=false;$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){if(!this.options)return;if(!this.options.disabled&&this.visible&&$.ui.intersect(draggable,this,this.options.tolerance))dropped=this._drop.call(this,event)||dropped;if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)){this.isout=1;this.isover=0;this._deactivate.call(this,event)}});
return dropped},dragStart:function(draggable,event){draggable.element.parentsUntil("body").bind("scroll.droppable",function(){if(!draggable.options.refreshPositions)$.ui.ddmanager.prepareOffsets(draggable,event)})},drag:function(draggable,event){if(draggable.options.refreshPositions)$.ui.ddmanager.prepareOffsets(draggable,event);$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible)return;var intersects=$.ui.intersect(draggable,
this,this.options.tolerance);var c=!intersects&&this.isover==1?"isout":intersects&&this.isover==0?"isover":null;if(!c)return;var parentInstance;if(this.options.greedy){var scope=this.options.scope;var parent=this.element.parents(":data(droppable)").filter(function(){return $.data(this,"droppable").options.scope===scope});if(parent.length){parentInstance=$.data(parent[0],"droppable");parentInstance.greedyChild=c=="isover"?1:0}}if(parentInstance&&c=="isover"){parentInstance["isover"]=0;parentInstance["isout"]=
1;parentInstance._out.call(parentInstance,event)}this[c]=1;this[c=="isout"?"isover":"isout"]=0;this[c=="isover"?"_over":"_out"].call(this,event);if(parentInstance&&c=="isout"){parentInstance["isout"]=0;parentInstance["isover"]=1;parentInstance._over.call(parentInstance,event)}})},dragStop:function(draggable,event){draggable.element.parentsUntil("body").unbind("scroll.droppable");if(!draggable.options.refreshPositions)$.ui.ddmanager.prepareOffsets(draggable,event)}}})(jQuery);
(function($,undefined){$.widget("ui.resizable",$.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var that=this,o=this.options;this.element.addClass("ui-resizable");$.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,
originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap($('\x3cdiv class\x3d"ui-wrapper" style\x3d"overflow: hidden;"\x3e\x3c/div\x3e').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",
this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",
zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=o.handles||(!$(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all")this.handles="n,e,s,w,se,sw,ne,nw";var n=this.handles.split(",");
this.handles={};for(var i=0;i<n.length;i++){var handle=$.trim(n[i]),hname="ui-resizable-"+handle;var axis=$('\x3cdiv class\x3d"ui-resizable-handle '+hname+'"\x3e\x3c/div\x3e');axis.css({zIndex:o.zIndex});if("se"==handle)axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[handle]=".ui-resizable-"+handle;this.element.append(axis)}}this._renderAxis=function(target){target=target||this.element;for(var i in this.handles){if(this.handles[i].constructor==String)this.handles[i]=$(this.handles[i],
this.element).show();if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var axis=$(this.handles[i],this.element),padWrapper=0;padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();var padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");target.css(padPos,padWrapper);this._proportionallyResize()}if(!$(this.handles[i]).length)continue}};this._renderAxis(this.element);this._handles=
$(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!that.resizing){if(this.className)var axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);that.axis=axis&&axis[1]?axis[1]:"se"}});if(o.autoHide){this._handles.hide();$(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(o.disabled)return;$(this).removeClass("ui-resizable-autohide");that._handles.show()}).mouseleave(function(){if(o.disabled)return;if(!that.resizing){$(this).addClass("ui-resizable-autohide");
that._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var _destroy=function(exp){$(exp).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){_destroy(this.element);var wrapper=this.element;this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),
left:wrapper.css("left")}).insertAfter(wrapper);wrapper.remove()}this.originalElement.css("resize",this.originalResizeStyle);_destroy(this.originalElement);return this},_mouseCapture:function(event){var handle=false;for(var i in this.handles)if($(this.handles[i])[0]==event.target)handle=true;return!this.options.disabled&&handle},_mouseStart:function(event){var o=this.options,iniPos=this.element.position(),el=this.element;this.resizing=true;this.documentScroll={top:$(document).scrollTop(),left:$(document).scrollLeft()};
if(el.is(".ui-draggable")||/absolute/.test(el.css("position")))el.css({position:"absolute",top:iniPos.top,left:iniPos.left});this._renderProxy();var curleft=num(this.helper.css("left")),curtop=num(this.helper.css("top"));if(o.containment){curleft+=$(o.containment).scrollLeft()||0;curtop+=$(o.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:curleft,top:curtop};this.size=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};
this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.originalPosition={left:curleft,top:curtop};this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()};this.originalMousePosition={left:event.pageX,top:event.pageY};this.aspectRatio=typeof o.aspectRatio=="number"?o.aspectRatio:this.originalSize.width/this.originalSize.height||1;var cursor=$(".ui-resizable-"+this.axis).css("cursor");$("body").css("cursor",
cursor=="auto"?this.axis+"-resize":cursor);el.addClass("ui-resizable-resizing");this._propagate("start",event);return true},_mouseDrag:function(event){var el=this.helper,o=this.options,props={},that=this,smp=this.originalMousePosition,a=this.axis;var dx=event.pageX-smp.left||0,dy=event.pageY-smp.top||0;var trigger=this._change[a];if(!trigger)return false;var data=trigger.apply(this,[event,dx,dy]);this._updateVirtualBoundaries(event.shiftKey);if(this._aspectRatio||event.shiftKey)data=this._updateRatio(data,
event);data=this._respectSize(data,event);this._propagate("resize",event);el.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});if(!this._helper&&this._proportionallyResizeElements.length)this._proportionallyResize();this._updateCache(data);this._trigger("resize",event,this.ui());return false},_mouseStop:function(event){this.resizing=false;var o=this.options,that=this;if(this._helper){var pr=this._proportionallyResizeElements,ista=
pr.length&&/textarea/i.test(pr[0].nodeName),soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width;var s={width:that.helper.width()-soffsetw,height:that.helper.height()-soffseth},left=parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left)||null,top=parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top)||null;if(!o.animate)this.element.css($.extend(s,{top:top,left:left}));that.helper.height(that.size.height);
that.helper.width(that.size.width);if(this._helper&&!o.animate)this._proportionallyResize()}$("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",event);if(this._helper)this.helper.remove();return false},_updateVirtualBoundaries:function(forceAspectRatio){var o=this.options,pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b;b={minWidth:isNumber(o.minWidth)?o.minWidth:0,maxWidth:isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:isNumber(o.minHeight)?o.minHeight:
0,maxHeight:isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||forceAspectRatio){pMinWidth=b.minHeight*this.aspectRatio;pMinHeight=b.minWidth/this.aspectRatio;pMaxWidth=b.maxHeight*this.aspectRatio;pMaxHeight=b.maxWidth/this.aspectRatio;if(pMinWidth>b.minWidth)b.minWidth=pMinWidth;if(pMinHeight>b.minHeight)b.minHeight=pMinHeight;if(pMaxWidth<b.maxWidth)b.maxWidth=pMaxWidth;if(pMaxHeight<b.maxHeight)b.maxHeight=pMaxHeight}this._vBoundaries=b},_updateCache:function(data){var o=this.options;
this.offset=this.helper.offset();if(isNumber(data.left))this.position.left=data.left;if(isNumber(data.top))this.position.top=data.top;if(isNumber(data.height))this.size.height=data.height;if(isNumber(data.width))this.size.width=data.width},_updateRatio:function(data,event){var o=this.options,cpos=this.position,csize=this.size,a=this.axis;if(isNumber(data.height))data.width=data.height*this.aspectRatio;else if(isNumber(data.width))data.height=data.width/this.aspectRatio;if(a=="sw"){data.left=cpos.left+
(csize.width-data.width);data.top=null}if(a=="nw"){data.top=cpos.top+(csize.height-data.height);data.left=cpos.left+(csize.width-data.width)}return data},_respectSize:function(data,event){var el=this.helper,o=this._vBoundaries,pRatio=this._aspectRatio||event.shiftKey,a=this.axis,ismaxw=isNumber(data.width)&&o.maxWidth&&o.maxWidth<data.width,ismaxh=isNumber(data.height)&&o.maxHeight&&o.maxHeight<data.height,isminw=isNumber(data.width)&&o.minWidth&&o.minWidth>data.width,isminh=isNumber(data.height)&&
o.minHeight&&o.minHeight>data.height;if(isminw)data.width=o.minWidth;if(isminh)data.height=o.minHeight;if(ismaxw)data.width=o.maxWidth;if(ismaxh)data.height=o.maxHeight;var dw=this.originalPosition.left+this.originalSize.width,dh=this.position.top+this.size.height;var cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);if(isminw&&cw)data.left=dw-o.minWidth;if(ismaxw&&cw)data.left=dw-o.maxWidth;if(isminh&&ch)data.top=dh-o.minHeight;if(ismaxh&&ch)data.top=dh-o.maxHeight;var isNotwh=!data.width&&!data.height;
if(isNotwh&&!data.left&&data.top)data.top=null;else if(isNotwh&&!data.top&&data.left)data.left=null;return data},_proportionallyResize:function(){var o=this.options;if(!this._proportionallyResizeElements.length)return;var element=this.helper||this.element;for(var i=0;i<this._proportionallyResizeElements.length;i++){var prel=this._proportionallyResizeElements[i];if(!this.borderDif){var b=[prel.css("borderTopWidth"),prel.css("borderRightWidth"),prel.css("borderBottomWidth"),prel.css("borderLeftWidth")],
p=[prel.css("paddingTop"),prel.css("paddingRight"),prel.css("paddingBottom"),prel.css("paddingLeft")];this.borderDif=$.map(b,function(v,i){var border=parseInt(v,10)||0,padding=parseInt(p[i],10)||0;return border+padding})}prel.css({height:element.height()-this.borderDif[0]-this.borderDif[2]||0,width:element.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var el=this.element,o=this.options;this.elementOffset=el.offset();if(this._helper){this.helper=this.helper||$('\x3cdiv style\x3d"overflow:hidden;"\x3e\x3c/div\x3e');
var ie6offset=$.ui.ie6?1:0,pxyoffset=$.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+pxyoffset,height:this.element.outerHeight()+pxyoffset,position:"absolute",left:this.elementOffset.left-ie6offset+"px",top:this.elementOffset.top-ie6offset+"px",zIndex:++o.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(event,dx,dy){return{width:this.originalSize.width+dx}},w:function(event,dx,dy){var o=this.options,cs=
this.originalSize,sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx}},n:function(event,dx,dy){var o=this.options,cs=this.originalSize,sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy}},s:function(event,dx,dy){return{height:this.originalSize.height+dy}},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,
[event,dx,dy]))},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]);n!="resize"&&this._trigger(n,event,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,
size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});$.ui.plugin.add("resizable","alsoResize",{start:function(event,ui){var that=$(this).data("resizable"),o=that.options;var _store=function(exp){$(exp).each(function(){var el=$(this);el.data("resizable-alsoresize",{width:parseInt(el.width(),10),height:parseInt(el.height(),10),left:parseInt(el.css("left"),10),top:parseInt(el.css("top"),10)})})};if(typeof o.alsoResize=="object"&&!o.alsoResize.parentNode)if(o.alsoResize.length){o.alsoResize=
o.alsoResize[0];_store(o.alsoResize)}else $.each(o.alsoResize,function(exp){_store(exp)});else _store(o.alsoResize)},resize:function(event,ui){var that=$(this).data("resizable"),o=that.options,os=that.originalSize,op=that.originalPosition;var delta={height:that.size.height-os.height||0,width:that.size.width-os.width||0,top:that.position.top-op.top||0,left:that.position.left-op.left||0},_alsoResize=function(exp,c){$(exp).each(function(){var el=$(this),start=$(this).data("resizable-alsoresize"),style=
{},css=c&&c.length?c:el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);if(sum&&sum>=0)style[prop]=sum||null});el.css(style)})};if(typeof o.alsoResize=="object"&&!o.alsoResize.nodeType)$.each(o.alsoResize,function(exp,c){_alsoResize(exp,c)});else _alsoResize(o.alsoResize)},stop:function(event,ui){$(this).removeData("resizable-alsoresize")}});$.ui.plugin.add("resizable","animate",{stop:function(event,
ui){var that=$(this).data("resizable"),o=that.options;var pr=that._proportionallyResizeElements,ista=pr.length&&/textarea/i.test(pr[0].nodeName),soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width;var style={width:that.size.width-soffsetw,height:that.size.height-soffseth},left=parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left)||null,top=parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top)||
null;that.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseInt(that.element.css("width"),10),height:parseInt(that.element.css("height"),10),top:parseInt(that.element.css("top"),10),left:parseInt(that.element.css("left"),10)};if(pr&&pr.length)$(pr[0]).css({width:data.width,height:data.height});that._updateCache(data);that._propagate("resize",event)}})}});$.ui.plugin.add("resizable","containment",
{start:function(event,ui){var that=$(this).data("resizable"),o=that.options,el=that.element;var oc=o.containment,ce=oc instanceof $?oc.get(0):/parent/.test(oc)?el.parent().get(0):oc;if(!ce)return;that.containerElement=$(ce);if(/document/.test(oc)||oc==document){that.containerOffset={left:0,top:0};that.containerPosition={left:0,top:0};that.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight}}else{var element=$(ce),
p=[];$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=num(element.css("padding"+name))});that.containerOffset=element.offset();that.containerPosition=element.position();that.containerSize={height:element.innerHeight()-p[3],width:element.innerWidth()-p[1]};var co=that.containerOffset,ch=that.containerSize.height,cw=that.containerSize.width,width=$.ui.hasScroll(ce,"left")?ce.scrollWidth:cw,height=$.ui.hasScroll(ce)?ce.scrollHeight:ch;that.parentData={element:ce,left:co.left,top:co.top,
width:width,height:height}}},resize:function(event,ui){var that=$(this).data("resizable"),o=that.options,ps=that.containerSize,co=that.containerOffset,cs=that.size,cp=that.position,pRatio=that._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=that.containerElement;if(ce[0]!=document&&/static/.test(ce.css("position")))cop=co;if(cp.left<(that._helper?co.left:0)){that.size.width=that.size.width+(that._helper?that.position.left-co.left:that.position.left-cop.left);if(pRatio)that.size.height=that.size.width/
that.aspectRatio;that.position.left=o.helper?co.left:0}if(cp.top<(that._helper?co.top:0)){that.size.height=that.size.height+(that._helper?that.position.top-co.top:that.position.top);if(pRatio)that.size.width=that.size.height*that.aspectRatio;that.position.top=that._helper?co.top:0}that.offset.left=that.parentData.left+that.position.left;that.offset.top=that.parentData.top+that.position.top;var woset=Math.abs((that._helper?that.offset.left-cop.left:that.offset.left-cop.left)+that.sizeDiff.width),hoset=
Math.abs((that._helper?that.offset.top-cop.top:that.offset.top-co.top)+that.sizeDiff.height);var isParent=that.containerElement.get(0)==that.element.parent().get(0),isOffsetRelative=/relative|absolute/.test(that.containerElement.css("position"));if(isParent&&isOffsetRelative)woset-=that.parentData.left;if(woset+that.size.width>=that.parentData.width){that.size.width=that.parentData.width-woset;if(pRatio)that.size.height=that.size.width/that.aspectRatio}if(hoset+that.size.height>=that.parentData.height){that.size.height=
that.parentData.height-hoset;if(pRatio)that.size.width=that.size.height*that.aspectRatio}},stop:function(event,ui){var that=$(this).data("resizable"),o=that.options,cp=that.position,co=that.containerOffset,cop=that.containerPosition,ce=that.containerElement;var helper=$(that.helper),ho=helper.offset(),w=helper.outerWidth()-that.sizeDiff.width,h=helper.outerHeight()-that.sizeDiff.height;if(that._helper&&!o.animate&&/relative/.test(ce.css("position")))$(this).css({left:ho.left-cop.left-co.left,width:w,
height:h});if(that._helper&&!o.animate&&/static/.test(ce.css("position")))$(this).css({left:ho.left-cop.left-co.left,width:w,height:h})}});$.ui.plugin.add("resizable","ghost",{start:function(event,ui){var that=$(this).data("resizable"),o=that.options,cs=that.size;that.ghost=that.originalElement.clone();that.ghost.css({opacity:.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof o.ghost=="string"?o.ghost:"");
that.ghost.appendTo(that.helper)},resize:function(event,ui){var that=$(this).data("resizable"),o=that.options;if(that.ghost)that.ghost.css({position:"relative",height:that.size.height,width:that.size.width})},stop:function(event,ui){var that=$(this).data("resizable"),o=that.options;if(that.ghost&&that.helper)that.helper.get(0).removeChild(that.ghost.get(0))}});$.ui.plugin.add("resizable","grid",{resize:function(event,ui){var that=$(this).data("resizable"),o=that.options,cs=that.size,os=that.originalSize,
op=that.originalPosition,a=that.axis,ratio=o._aspectRatio||event.shiftKey;o.grid=typeof o.grid=="number"?[o.grid,o.grid]:o.grid;var ox=Math.round((cs.width-os.width)/(o.grid[0]||1))*(o.grid[0]||1),oy=Math.round((cs.height-os.height)/(o.grid[1]||1))*(o.grid[1]||1);if(/^(se|s|e)$/.test(a)){that.size.width=os.width+ox;that.size.height=os.height+oy}else if(/^(ne)$/.test(a)){that.size.width=os.width+ox;that.size.height=os.height+oy;that.position.top=op.top-oy}else if(/^(sw)$/.test(a)){that.size.width=
os.width+ox;that.size.height=os.height+oy;that.position.left=op.left-ox}else{that.size.width=os.width+ox;that.size.height=os.height+oy;that.position.top=op.top-oy;that.position.left=op.left-ox}}});var num=function(v){return parseInt(v,10)||0};var isNumber=function(value){return!isNaN(parseInt(value,10))}})(jQuery);
(function($,undefined){$.widget("ui.selectable",$.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch"},_create:function(){var that=this;this.element.addClass("ui-selectable");this.dragged=false;var selectees;this.refresh=function(){selectees=$(that.options.filter,that.element[0]);selectees.addClass("ui-selectee");selectees.each(function(){var $this=$(this);var pos=$this.offset();$.data(this,"selectable-item",{element:this,$element:$this,left:pos.left,
top:pos.top,right:pos.left+$this.outerWidth(),bottom:pos.top+$this.outerHeight(),startselected:false,selected:$this.hasClass("ui-selected"),selecting:$this.hasClass("ui-selecting"),unselecting:$this.hasClass("ui-unselecting")})})};this.refresh();this.selectees=selectees.addClass("ui-selectee");this._mouseInit();this.helper=$("\x3cdiv class\x3d'ui-selectable-helper'\x3e\x3c/div\x3e")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");
this._mouseDestroy()},_mouseStart:function(event){var that=this;this.opos=[event.pageX,event.pageY];if(this.options.disabled)return;var options=this.options;this.selectees=$(options.filter,this.element[0]);this._trigger("start",event);$(options.appendTo).append(this.helper);this.helper.css({"left":event.clientX,"top":event.clientY,"width":0,"height":0});if(options.autoRefresh)this.refresh();this.selectees.filter(".ui-selected").each(function(){var selectee=$.data(this,"selectable-item");selectee.startselected=
true;if(!event.metaKey&&!event.ctrlKey){selectee.$element.removeClass("ui-selected");selectee.selected=false;selectee.$element.addClass("ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element})}});$(event.target).parents().andSelf().each(function(){var selectee=$.data(this,"selectable-item");if(selectee){var doSelect=!event.metaKey&&!event.ctrlKey||!selectee.$element.hasClass("ui-selected");selectee.$element.removeClass(doSelect?"ui-unselecting":
"ui-selected").addClass(doSelect?"ui-selecting":"ui-unselecting");selectee.unselecting=!doSelect;selectee.selecting=doSelect;selectee.selected=doSelect;if(doSelect)that._trigger("selecting",event,{selecting:selectee.element});else that._trigger("unselecting",event,{unselecting:selectee.element});return false}})},_mouseDrag:function(event){var that=this;this.dragged=true;if(this.options.disabled)return;var options=this.options;var x1=this.opos[0],y1=this.opos[1],x2=event.pageX,y2=event.pageY;if(x1>
x2){var tmp=x2;x2=x1;x1=tmp}if(y1>y2){var tmp=y2;y2=y1;y1=tmp}this.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1});this.selectees.each(function(){var selectee=$.data(this,"selectable-item");if(!selectee||selectee.element==that.element[0])return;var hit=false;if(options.tolerance=="touch")hit=!(selectee.left>x2||selectee.right<x1||selectee.top>y2||selectee.bottom<y1);else if(options.tolerance=="fit")hit=selectee.left>x1&&selectee.right<x2&&selectee.top>y1&&selectee.bottom<y2;if(hit){if(selectee.selected){selectee.$element.removeClass("ui-selected");
selectee.selected=false}if(selectee.unselecting){selectee.$element.removeClass("ui-unselecting");selectee.unselecting=false}if(!selectee.selecting){selectee.$element.addClass("ui-selecting");selectee.selecting=true;that._trigger("selecting",event,{selecting:selectee.element})}}else{if(selectee.selecting)if((event.metaKey||event.ctrlKey)&&selectee.startselected){selectee.$element.removeClass("ui-selecting");selectee.selecting=false;selectee.$element.addClass("ui-selected");selectee.selected=true}else{selectee.$element.removeClass("ui-selecting");
selectee.selecting=false;if(selectee.startselected){selectee.$element.addClass("ui-unselecting");selectee.unselecting=true}that._trigger("unselecting",event,{unselecting:selectee.element})}if(selectee.selected)if(!event.metaKey&&!event.ctrlKey&&!selectee.startselected){selectee.$element.removeClass("ui-selected");selectee.selected=false;selectee.$element.addClass("ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element})}}});return false},_mouseStop:function(event){var that=
this;this.dragged=false;var options=this.options;$(".ui-unselecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-unselecting");selectee.unselecting=false;selectee.startselected=false;that._trigger("unselected",event,{unselected:selectee.element})});$(".ui-selecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-selecting").addClass("ui-selected");selectee.selecting=false;
selectee.selected=true;selectee.startselected=true;that._trigger("selected",event,{selected:selectee.element})});this._trigger("stop",event);this.helper.remove();return false}})})(jQuery);
(function($,undefined){$.widget("ui.sortable",$.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"\x3e *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var o=
this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?o.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var i=this.items.length-1;i>=0;i--)this.items[i].item.removeData(this.widgetName+
"-item");return this},_setOption:function(key,value){if(key==="disabled"){this.options[key]=value;this.widget().toggleClass("ui-sortable-disabled",!!value)}else $.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(event,overrideHandle){var that=this;if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(event);var currentItem=null,nodes=$(event.target).parents().each(function(){if($.data(this,that.widgetName+"-item")==
that){currentItem=$(this);return false}});if($.data(event.target,that.widgetName+"-item")==that)currentItem=$(event.target);if(!currentItem)return false;if(this.options.handle&&!overrideHandle){var validHandle=false;$(this.options.handle,currentItem).find("*").andSelf().each(function(){if(this==event.target)validHandle=true});if(!validHandle)return false}this.currentItem=currentItem;this._removeCurrentsFromItems();return true},_mouseStart:function(event,overrideHandle,noActivation){var o=this.options;
this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(event);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position",
"absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!=this.currentItem[0])this.currentItem.hide();this._createPlaceholder();if(o.containment)this._setContainment();if(o.cursor){if($("body").css("cursor"))this._storedCursor=$("body").css("cursor");
$("body").css("cursor",o.cursor)}if(o.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");this.helper.css("opacity",o.opacity)}if(o.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",o.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",event,this._uiHash());if(!this._preserveHelperProportions)this._cacheHelperProportions();
if(!noActivation)for(var i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",event,this._uiHash(this));if($.ui.ddmanager)$.ui.ddmanager.current=this;if($.ui.ddmanager&&!o.dropBehaviour)$.ui.ddmanager.prepareOffsets(this,event);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(event);return true},_mouseDrag:function(event){this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs)this.lastPositionAbs=
this.positionAbs;if(this.options.scroll){var o=this.options,scrolled=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-event.pageY<o.scrollSensitivity)this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed;else if(event.pageY-this.overflowOffset.top<o.scrollSensitivity)this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed;if(this.overflowOffset.left+
this.scrollParent[0].offsetWidth-event.pageX<o.scrollSensitivity)this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed;else if(event.pageX-this.overflowOffset.left<o.scrollSensitivity)this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed}else{if(event.pageY-$(document).scrollTop()<o.scrollSensitivity)scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);else if($(window).height()-(event.pageY-$(document).scrollTop())<
o.scrollSensitivity)scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity)scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity)scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed)}if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour)$.ui.ddmanager.prepareOffsets(this,event)}this.positionAbs=this._convertPositionTo("absolute");
if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(var i=this.items.length-1;i>=0;i--){var item=this.items[i],itemElement=item.item[0],intersection=this._intersectsWithPointer(item);if(!intersection)continue;if(item.instance!==this.currentContainer)continue;if(itemElement!=this.currentItem[0]&&this.placeholder[intersection==1?"next":"prev"]()[0]!=itemElement&&
!$.contains(this.placeholder[0],itemElement)&&(this.options.type=="semi-dynamic"?!$.contains(this.element[0],itemElement):true)){this.direction=intersection==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(item))this._rearrange(event,item);else break;this._trigger("change",event,this._uiHash());break}}this._contactContainers(event);if($.ui.ddmanager)$.ui.ddmanager.drag(this,event);this._trigger("sort",event,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},
_mouseStop:function(event,noPropagation){if(!event)return;if($.ui.ddmanager&&!this.options.dropBehaviour)$.ui.ddmanager.drop(this,event);if(this.options.revert){var that=this;var cur=this.placeholder.offset();this.reverting=true;$(this.helper).animate({left:cur.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:cur.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},
parseInt(this.options.revert,10)||500,function(){that._clear(event)})}else this._clear(event,noPropagation);return false},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper=="original")this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");else this.currentItem.show();for(var i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("deactivate",null,this._uiHash(this));if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",
null,this._uiHash(this));this.containers[i].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode)this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.options.helper!="original"&&this.helper&&this.helper[0].parentNode)this.helper.remove();$.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev)$(this.domPosition.prev).after(this.currentItem);else $(this.domPosition.parent).prepend(this.currentItem)}return this},
serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected);var str=[];o=o||{};$(items).each(function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||/(.+)[-=_](.+)/);if(res)str.push((o.key||res[1]+"[]")+"\x3d"+(o.key&&o.expression?res[1]:res[2]))});if(!str.length&&o.key)str.push(o.key+"\x3d");return str.join("\x26")},toArray:function(o){var items=this._getItemsAsjQuery(o&&o.connected);var ret=[];o=o||{};items.each(function(){ret.push($(o.item||this).attr(o.attribute||
"id")||"")});return ret},_intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height;var l=item.left,r=l+item.width,t=item.top,b=t+item.height;var dyClick=this.offset.click.top,dxClick=this.offset.click.left;var isOverElement=y1+dyClick>t&&y1+dyClick<b&&x1+dxClick>l&&x1+dxClick<r;if(this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?
"width":"height"]>item[this.floating?"width":"height"])return isOverElement;else return l<x1+this.helperProportions.width/2&&x2-this.helperProportions.width/2<r&&t<y1+this.helperProportions.height/2&&y2-this.helperProportions.height/2<b},_intersectsWithPointer:function(item){var isOverElementHeight=this.options.axis==="x"||$.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),isOverElementWidth=this.options.axis==="y"||$.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,
item.left,item.width),isOverElement=isOverElementHeight&&isOverElementWidth,verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(!isOverElement)return false;return this.floating?horizontalDirection&&horizontalDirection=="right"||verticalDirection=="down"?2:1:verticalDirection&&(verticalDirection=="down"?2:1)},_intersectsWithSides:function(item){var isOverBottomHalf=$.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,item.top+item.height/
2,item.height),isOverRightHalf=$.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,item.left+item.width/2,item.width),verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(this.floating&&horizontalDirection)return horizontalDirection=="right"&&isOverRightHalf||horizontalDirection=="left"&&!isOverRightHalf;else return verticalDirection&&(verticalDirection=="down"&&isOverBottomHalf||verticalDirection=="up"&&!isOverBottomHalf)},_getDragVerticalDirection:function(){var delta=
this.positionAbs.top-this.lastPositionAbs.top;return delta!=0&&(delta>0?"down":"up")},_getDragHorizontalDirection:function(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return delta!=0&&(delta>0?"right":"left")},refresh:function(event){this._refreshItems(event);this.refreshPositions();return this},_connectWith:function(){var options=this.options;return options.connectWith.constructor==String?[options.connectWith]:options.connectWith},_getItemsAsjQuery:function(connected){var items=[];
var queries=[];var connectWith=this._connectWith();if(connectWith&&connected)for(var i=connectWith.length-1;i>=0;i--){var cur=$(connectWith[i]);for(var j=cur.length-1;j>=0;j--){var inst=$.data(cur[j],this.widgetName);if(inst&&inst!=this&&!inst.options.disabled)queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),inst])}}queries.push([$.isFunction(this.options.items)?this.options.items.call(this.element,
null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var i=queries.length-1;i>=0;i--)queries[i][0].each(function(){items.push(this)});return $(items)},_removeCurrentsFromItems:function(){var list=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(item){for(var j=0;j<list.length;j++)if(list[j]==item.item[0])return false;return true})},_refreshItems:function(event){this.items=
[];this.containers=[this];var items=this.items;var queries=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]];var connectWith=this._connectWith();if(connectWith&&this.ready)for(var i=connectWith.length-1;i>=0;i--){var cur=$(connectWith[i]);for(var j=cur.length-1;j>=0;j--){var inst=$.data(cur[j],this.widgetName);if(inst&&inst!=this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?
inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]);this.containers.push(inst)}}}for(var i=queries.length-1;i>=0;i--){var targetData=queries[i][1];var _queries=queries[i][0];for(var j=0,queriesLength=_queries.length;j<queriesLength;j++){var item=$(_queries[j]);item.data(this.widgetName+"-item",targetData);items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0})}}},refreshPositions:function(fast){if(this.offsetParent&&this.helper)this.offset.parent=
this._getParentOffset();for(var i=this.items.length-1;i>=0;i--){var item=this.items[i];if(item.instance!=this.currentContainer&&this.currentContainer&&item.item[0]!=this.currentItem[0])continue;var t=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item;if(!fast){item.width=t.outerWidth();item.height=t.outerHeight()}var p=t.offset();item.left=p.left;item.top=p.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);
else for(var i=this.containers.length-1;i>=0;i--){var p=this.containers[i].element.offset();this.containers[i].containerCache.left=p.left;this.containers[i].containerCache.top=p.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}return this},_createPlaceholder:function(that){that=that||this;var o=that.options;if(!o.placeholder||o.placeholder.constructor==String){var className=o.placeholder;
o.placeholder={element:function(){var el=$(document.createElement(that.currentItem[0].nodeName)).addClass(className||that.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!className)el.style.visibility="hidden";return el},update:function(container,p){if(className&&!o.forcePlaceholderSize)return;if(!p.height())p.height(that.currentItem.innerHeight()-parseInt(that.currentItem.css("paddingTop")||0,10)-parseInt(that.currentItem.css("paddingBottom")||0,10));
if(!p.width())p.width(that.currentItem.innerWidth()-parseInt(that.currentItem.css("paddingLeft")||0,10)-parseInt(that.currentItem.css("paddingRight")||0,10))}}}that.placeholder=$(o.placeholder.element.call(that.element,that.currentItem));that.currentItem.after(that.placeholder);o.placeholder.update(that,that.placeholder)},_contactContainers:function(event){var innermostContainer=null,innermostIndex=null;for(var i=this.containers.length-1;i>=0;i--){if($.contains(this.currentItem[0],this.containers[i].element[0]))continue;
if(this._intersectsWith(this.containers[i].containerCache)){if(innermostContainer&&$.contains(this.containers[i].element[0],innermostContainer.element[0]))continue;innermostContainer=this.containers[i];innermostIndex=i}else if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",event,this._uiHash(this));this.containers[i].containerCache.over=0}}if(!innermostContainer)return;if(this.containers.length===1){this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));
this.containers[innermostIndex].containerCache.over=1}else{var dist=1E4;var itemWithLeastDistance=null;var posProperty=this.containers[innermostIndex].floating?"left":"top";var sizeProperty=this.containers[innermostIndex].floating?"width":"height";var base=this.positionAbs[posProperty]+this.offset.click[posProperty];for(var j=this.items.length-1;j>=0;j--){if(!$.contains(this.containers[innermostIndex].element[0],this.items[j].item[0]))continue;if(this.items[j].item[0]==this.currentItem[0])continue;
var cur=this.items[j].item.offset()[posProperty];var nearBottom=false;if(Math.abs(cur-base)>Math.abs(cur+this.items[j][sizeProperty]-base)){nearBottom=true;cur+=this.items[j][sizeProperty]}if(Math.abs(cur-base)<dist){dist=Math.abs(cur-base);itemWithLeastDistance=this.items[j];this.direction=nearBottom?"up":"down"}}if(!itemWithLeastDistance&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[innermostIndex];itemWithLeastDistance?this._rearrange(event,itemWithLeastDistance,null,
true):this._rearrange(event,null,this.containers[innermostIndex].element,true);this._trigger("change",event,this._uiHash());this.containers[innermostIndex]._trigger("change",event,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1}},_createHelper:function(event){var o=this.options;var helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],
[event,this.currentItem])):o.helper=="clone"?this.currentItem.clone():this.currentItem;if(!helper.parents("body").length)$(o.appendTo!="parent"?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(helper[0]);if(helper[0]==this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};if(helper[0].style.width==""||o.forceHelperSize)helper.width(this.currentItem.width());
if(helper[0].style.height==""||o.forceHelperSize)helper.height(this.currentItem.height());return helper},_adjustOffsetFromHelper:function(obj){if(typeof obj=="string")obj=obj.split(" ");if($.isArray(obj))obj={left:+obj[0],top:+obj[1]||0};if("left"in obj)this.offset.click.left=obj.left+this.margins.left;if("right"in obj)this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;if("top"in obj)this.offset.click.top=obj.top+this.margins.top;if("bottom"in obj)this.offset.click.top=
this.helperProportions.height-obj.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&$.ui.ie)po={top:0,
left:0};return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var p=this.currentItem.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),
10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var o=this.options;if(o.containment=="parent")o.containment=this.helper[0].parentNode;if(o.containment=="document"||o.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,$(o.containment=="document"?
document:window).width()-this.helperProportions.width-this.margins.left,($(o.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(o.containment)){var ce=$(o.containment)[0];var co=$(o.containment).offset();var over=$(ce).css("overflow")!="hidden";this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,
co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top]}},_convertPositionTo:function(d,pos){if(!pos)pos=this.position;var mod=d=="absolute"?1:-1;var o=this.options,scroll=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);return{top:pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop())*
mod,left:pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod}},_generatePosition:function(event){var o=this.options,scroll=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=
document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();var pageX=event.pageX;var pageY=event.pageY;if(this.originalPosition){if(this.containment){if(event.pageX-this.offset.click.left<this.containment[0])pageX=this.containment[0]+this.offset.click.left;if(event.pageY-this.offset.click.top<this.containment[1])pageY=this.containment[1]+this.offset.click.top;if(event.pageX-this.offset.click.left>this.containment[2])pageX=this.containment[2]+this.offset.click.left;
if(event.pageY-this.offset.click.top>this.containment[3])pageY=this.containment[3]+this.offset.click.top}if(o.grid){var top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1];pageY=this.containment?!(top-this.offset.click.top<this.containment[1]||top-this.offset.click.top>this.containment[3])?top:!(top-this.offset.click.top<this.containment[1])?top-o.grid[1]:top+o.grid[1]:top;var left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0];pageX=this.containment?
!(left-this.offset.click.left<this.containment[0]||left-this.offset.click.left>this.containment[2])?left:!(left-this.offset.click.left<this.containment[0])?left-o.grid[0]:left+o.grid[0]:left}}return{top:pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop()),left:pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():
scrollIsRootNode?0:scroll.scrollLeft())}},_rearrange:function(event,i,a,hardRefresh){a?a[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?i.item[0]:i.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var counter=this.counter;this._delay(function(){if(counter==this.counter)this.refreshPositions(!hardRefresh)})},_clear:function(event,noPropagation){this.reverting=false;var delayedTriggers=[];if(!this._noFinalSort&&this.currentItem.parent().length)this.placeholder.before(this.currentItem);
this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var i in this._storedCSS)if(this._storedCSS[i]=="auto"||this._storedCSS[i]=="static")this._storedCSS[i]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!noPropagation)delayedTriggers.push(function(event){this._trigger("receive",event,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||
this.domPosition.parent!=this.currentItem.parent()[0])&&!noPropagation)delayedTriggers.push(function(event){this._trigger("update",event,this._uiHash())});if(this!==this.currentContainer)if(!noPropagation){delayedTriggers.push(function(event){this._trigger("remove",event,this._uiHash())});delayedTriggers.push(function(c){return function(event){c._trigger("receive",event,this._uiHash(this))}}.call(this,this.currentContainer));delayedTriggers.push(function(c){return function(event){c._trigger("update",
event,this._uiHash(this))}}.call(this,this.currentContainer))}for(var i=this.containers.length-1;i>=0;i--){if(!noPropagation)delayedTriggers.push(function(c){return function(event){c._trigger("deactivate",event,this._uiHash(this))}}.call(this,this.containers[i]));if(this.containers[i].containerCache.over){delayedTriggers.push(function(c){return function(event){c._trigger("out",event,this._uiHash(this))}}.call(this,this.containers[i]));this.containers[i].containerCache.over=0}}if(this._storedCursor)$("body").css("cursor",
this._storedCursor);if(this._storedOpacity)this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex)this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!noPropagation){this._trigger("beforeStop",event,this._uiHash());for(var i=0;i<delayedTriggers.length;i++)delayedTriggers[i].call(this,event);this._trigger("stop",event,this._uiHash())}this.fromOutside=false;return false}if(!noPropagation)this._trigger("beforeStop",
event,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!=this.currentItem[0])this.helper.remove();this.helper=null;if(!noPropagation){for(var i=0;i<delayedTriggers.length;i++)delayedTriggers[i].call(this,event);this._trigger("stop",event,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if($.Widget.prototype._trigger.apply(this,arguments)===false)this.cancel()},_uiHash:function(_inst){var inst=_inst||this;return{helper:inst.helper,
placeholder:inst.placeholder||$([]),position:inst.position,originalPosition:inst.originalPosition,offset:inst.positionAbs,item:inst.currentItem,sender:_inst?_inst.element:null}}})})(jQuery);
jQuery.effects||function($,undefined){var backCompat=$.uiBackCompat!==false,dataSpace="ui-effects-";$.effects={effect:{}};(function(jQuery,undefined){var stepHooks="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],
execResult[2],execResult[3],execResult[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1]*2.55,execResult[2]*2.55,execResult[3]*2.55,execResult[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(execResult){return[parseInt(execResult[1]+
execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]]}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha)},spaces={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},
blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},propTypes={"byte":{floor:true,max:255},"percent":{max:1},"degrees":{mod:360,floor:true}},support=color.support={},supportElem=jQuery("\x3cp\x3e")[0],colors,each=jQuery.each;supportElem.style.cssText="background-color:rgba(1,1,1,.5)";support.rgba=supportElem.style.backgroundColor.indexOf("rgba")>-1;each(spaces,function(spaceName,space){space.cache="_"+spaceName;space.props.alpha=
{idx:3,type:"percent",def:1}});function clamp(value,prop,allowEmpty){var type=propTypes[prop.type]||{};if(value==null)return allowEmpty||!prop.def?null:prop.def;value=type.floor?~~value:parseFloat(value);if(isNaN(value))return prop.def;if(type.mod)return(value+type.mod)%type.mod;return 0>value?0:type.max<value?type.max:value}function stringParse(string){var inst=color(),rgba=inst._rgba=[];string=string.toLowerCase();each(stringParsers,function(i,parser){var parsed,match=parser.re.exec(string),values=
match&&parser.parse(match),spaceName=parser.space||"rgba";if(values){parsed=inst[spaceName](values);inst[spaces[spaceName].cache]=parsed[spaces[spaceName].cache];rgba=inst._rgba=parsed._rgba;return false}});if(rgba.length){if(rgba.join()==="0,0,0,0")jQuery.extend(rgba,colors.transparent);return inst}return colors[string]}color.fn=jQuery.extend(color.prototype,{parse:function(red,green,blue,alpha){if(red===undefined){this._rgba=[null,null,null,null];return this}if(red.jquery||red.nodeType){red=jQuery(red).css(green);
green=undefined}var inst=this,type=jQuery.type(red),rgba=this._rgba=[];if(green!==undefined){red=[red,green,blue,alpha];type="array"}if(type==="string")return this.parse(stringParse(red)||colors._default);if(type==="array"){each(spaces.rgba.props,function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop)});return this}if(type==="object"){if(red instanceof color)each(spaces,function(spaceName,space){if(red[space.cache])inst[space.cache]=red[space.cache].slice()});else each(spaces,function(spaceName,
space){var cache=space.cache;each(space.props,function(key,prop){if(!inst[cache]&&space.to){if(key==="alpha"||red[key]==null)return;inst[cache]=space.to(inst._rgba)}inst[cache][prop.idx]=clamp(red[key],prop,true)});if(inst[cache]&&$.inArray(null,inst[cache].slice(0,3))<0){inst[cache][3]=1;if(space.from)inst._rgba=space.from(inst[cache])}});return this}},is:function(compare){var is=color(compare),same=true,inst=this;each(spaces,function(_,space){var localCache,isCache=is[space.cache];if(isCache){localCache=
inst[space.cache]||space.to&&space.to(inst._rgba)||[];each(space.props,function(_,prop){if(isCache[prop.idx]!=null){same=isCache[prop.idx]===localCache[prop.idx];return same}})}return same});return same},_space:function(){var used=[],inst=this;each(spaces,function(spaceName,space){if(inst[space.cache])used.push(spaceName)});return used.pop()},transition:function(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],startColor=this.alpha()===0?color("transparent"):this,
start=startColor[space.cache]||space.to(startColor._rgba),result=start.slice();end=end[space.cache];each(space.props,function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{};if(endValue===null)return;if(startValue===null)result[index]=endValue;else{if(type.mod)if(endValue-startValue>type.mod/2)startValue+=type.mod;else if(startValue-endValue>type.mod/2)startValue-=type.mod;result[index]=clamp((endValue-startValue)*distance+startValue,prop)}});
return this[spaceName](result)},blend:function(opaque){if(this._rgba[3]===1)return this;var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,function(v,i){return(1-a)*blend[i]+a*v}))},toRgbaString:function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,function(v,i){return v==null?i>2?1:0:v});if(rgba[3]===1){rgba.pop();prefix="rgb("}return prefix+rgba.join()+")"},toHslaString:function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),function(v,i){if(v==null)v=
i>2?1:0;if(i&&i<3)v=Math.round(v*100)+"%";return v});if(hsla[3]===1){hsla.pop();prefix="hsl("}return prefix+hsla.join()+")"},toHexString:function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();if(includeAlpha)rgba.push(~~(alpha*255));return"#"+jQuery.map(rgba,function(v){v=(v||0).toString(16);return v.length===1?"0"+v:v}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});color.fn.parse.prototype=color.fn;function hue2rgb(p,q,h){h=(h+1)%1;if(h*
6<1)return p+(q-p)*h*6;if(h*2<1)return q;if(h*3<2)return p+(q-p)*(2/3-h)*6;return p}spaces.hsla.to=function(rgba){if(rgba[0]==null||rgba[1]==null||rgba[2]==null)return[null,null,null,rgba[3]];var r=rgba[0]/255,g=rgba[1]/255,b=rgba[2]/255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=add*.5,h,s;if(min===max)h=0;else if(r===max)h=60*(g-b)/diff+360;else if(g===max)h=60*(b-r)/diff+120;else h=60*(r-g)/diff+240;if(l===0||l===1)s=l;else if(l<=.5)s=diff/add;else s=diff/(2-add);
return[Math.round(h)%360,s,l,a==null?1:a]};spaces.hsla.from=function(hsla){if(hsla[0]==null||hsla[1]==null||hsla[2]==null)return[null,null,null,hsla[3]];var h=hsla[0]/360,s=hsla[1],l=hsla[2],a=hsla[3],q=l<=.5?l*(1+s):l+s-l*s,p=2*l-q;return[Math.round(hue2rgb(p,q,h+1/3)*255),Math.round(hue2rgb(p,q,h)*255),Math.round(hue2rgb(p,q,h-1/3)*255),a]};each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){if(to&&!this[cache])this[cache]=
to(this._rgba);if(value===undefined)return this[cache].slice();var ret,type=jQuery.type(value),arr=type==="array"||type==="object"?value:arguments,local=this[cache].slice();each(props,function(key,prop){var val=arr[type==="object"?key:prop.idx];if(val==null)val=local[prop.idx];local[prop.idx]=clamp(val,prop)});if(from){ret=color(from(local));ret[cache]=local;return ret}else return color(local)};each(props,function(key,prop){if(color.fn[key])return;color.fn[key]=function(value){var vtype=jQuery.type(value),
fn=key==="alpha"?this._hsla?"hsla":"rgba":spaceName,local=this[fn](),cur=local[prop.idx],match;if(vtype==="undefined")return cur;if(vtype==="function"){value=value.call(this,cur);vtype=jQuery.type(value)}if(value==null&&prop.empty)return this;if(vtype==="string"){match=rplusequals.exec(value);if(match)value=cur+parseFloat(match[2])*(match[1]==="+"?1:-1)}local[prop.idx]=value;return this[fn](local)}})});each(stepHooks,function(i,hook){jQuery.cssHooks[hook]={set:function(elem,value){var parsed,curElem,
backgroundColor="";if(jQuery.type(value)!=="string"||(parsed=stringParse(value))){value=color(parsed||value);if(!support.rgba&&value._rgba[3]!==1){curElem=hook==="backgroundColor"?elem.parentNode:elem;while((backgroundColor===""||backgroundColor==="transparent")&&curElem&&curElem.style)try{backgroundColor=jQuery.css(curElem,"backgroundColor");curElem=curElem.parentNode}catch(e){}value=value.blend(backgroundColor&&backgroundColor!=="transparent"?backgroundColor:"_default")}value=value.toRgbaString()}try{elem.style[hook]=
value}catch(error){}}};jQuery.fx.step[hook]=function(fx){if(!fx.colorInit){fx.start=color(fx.elem,hook);fx.end=color(fx.end);fx.colorInit=true}jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos))}});jQuery.cssHooks.borderColor={expand:function(value){var expanded={};each(["Top","Right","Bottom","Left"],function(i,part){expanded["border"+part+"Color"]=value});return expanded}};colors=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",
green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){var classAnimationActions=["add","remove","toggle"],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],
function(_,prop){$.fx.step[prop]=function(fx){if(fx.end!=="none"&&!fx.setAttr||fx.pos===1&&!fx.setAttr){jQuery.style(fx.elem,prop,fx.end);fx.setAttr=true}}});function getElementStyles(){var style=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,newStyle={},key,len;if(style&&style.length&&style[0]&&style[style[0]]){len=style.length;while(len--){key=style[len];if(typeof style[key]==="string")newStyle[$.camelCase(key)]=style[key]}}else for(key in style)if(typeof style[key]===
"string")newStyle[key]=style[key];return newStyle}function styleDifference(oldStyle,newStyle){var diff={},name,value;for(name in newStyle){value=newStyle[name];if(oldStyle[name]!==value)if(!shorthandStyles[name])if($.fx.step[name]||!isNaN(parseFloat(value)))diff[name]=value}return diff}$.effects.animateClass=function(value,duration,easing,callback){var o=$.speed(duration,easing,callback);return this.queue(function(){var animated=$(this),baseClass=animated.attr("class")||"",applyClassChange,allAnimations=
o.children?animated.find("*").andSelf():animated;allAnimations=allAnimations.map(function(){var el=$(this);return{el:el,start:getElementStyles.call(this)}});applyClassChange=function(){$.each(classAnimationActions,function(i,action){if(value[action])animated[action+"Class"](value[action])})};applyClassChange();allAnimations=allAnimations.map(function(){this.end=getElementStyles.call(this.el[0]);this.diff=styleDifference(this.start,this.end);return this});animated.attr("class",baseClass);allAnimations=
allAnimations.map(function(){var styleInfo=this,dfd=$.Deferred(),opts=jQuery.extend({},o,{queue:false,complete:function(){dfd.resolve(styleInfo)}});this.el.animate(this.diff,opts);return dfd.promise()});$.when.apply($,allAnimations.get()).done(function(){applyClassChange();$.each(arguments,function(){var el=this.el;$.each(this.diff,function(key){el.css(key,"")})});o.complete.call(animated[0])})})};$.fn.extend({_addClass:$.fn.addClass,addClass:function(classNames,speed,easing,callback){return speed?
$.effects.animateClass.call(this,{add:classNames},speed,easing,callback):this._addClass(classNames)},_removeClass:$.fn.removeClass,removeClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.call(this,{remove:classNames},speed,easing,callback):this._removeClass(classNames)},_toggleClass:$.fn.toggleClass,toggleClass:function(classNames,force,speed,easing,callback){if(typeof force==="boolean"||force===undefined)if(!speed)return this._toggleClass(classNames,force);else return $.effects.animateClass.call(this,
force?{add:classNames}:{remove:classNames},speed,easing,callback);else return $.effects.animateClass.call(this,{toggle:classNames},force,speed,easing)},switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.call(this,{add:add,remove:remove},speed,easing,callback)}})})();(function(){$.extend($.effects,{version:"1.9.2",save:function(element,set){for(var i=0;i<set.length;i++)if(set[i]!==null)element.data(dataSpace+set[i],element[0].style[set[i]])},restore:function(element,
set){var val,i;for(i=0;i<set.length;i++)if(set[i]!==null){val=element.data(dataSpace+set[i]);if(val===undefined)val="";element.css(set[i],val)}},setMode:function(el,mode){if(mode==="toggle")mode=el.is(":hidden")?"show":"hide";return mode},getBaseline:function(origin,original){var y,x;switch(origin[0]){case "top":y=0;break;case "middle":y=.5;break;case "bottom":y=1;break;default:y=origin[0]/original.height}switch(origin[1]){case "left":x=0;break;case "center":x=.5;break;case "right":x=1;break;default:x=
origin[1]/original.width}return{x:x,y:y}},createWrapper:function(element){if(element.parent().is(".ui-effects-wrapper"))return element.parent();var props={width:element.outerWidth(true),height:element.outerHeight(true),"float":element.css("float")},wrapper=$("\x3cdiv\x3e\x3c/div\x3e").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),size={width:element.width(),height:element.height()},active=document.activeElement;try{active.id}catch(e){active=
document.body}element.wrap(wrapper);if(element[0]===active||$.contains(element[0],active))$(active).focus();wrapper=element.parent();if(element.css("position")==="static"){wrapper.css({position:"relative"});element.css({position:"relative"})}else{$.extend(props,{position:element.css("position"),zIndex:element.css("z-index")});$.each(["top","left","bottom","right"],function(i,pos){props[pos]=element.css(pos);if(isNaN(parseInt(props[pos],10)))props[pos]="auto"});element.css({position:"relative",top:0,
left:0,right:"auto",bottom:"auto"})}element.css(size);return wrapper.css(props).show()},removeWrapper:function(element){var active=document.activeElement;if(element.parent().is(".ui-effects-wrapper")){element.parent().replaceWith(element);if(element[0]===active||$.contains(element[0],active))$(active).focus()}return element},setTransition:function(element,list,factor,value){value=value||{};$.each(list,function(i,x){var unit=element.cssUnit(x);if(unit[0]>0)value[x]=unit[0]*factor+unit[1]});return value}});
function _normalizeArguments(effect,options,speed,callback){if($.isPlainObject(effect)){options=effect;effect=effect.effect}effect={effect:effect};if(options==null)options={};if($.isFunction(options)){callback=options;speed=null;options={}}if(typeof options==="number"||$.fx.speeds[options]){callback=speed;speed=options;options={}}if($.isFunction(speed)){callback=speed;speed=null}if(options)$.extend(effect,options);speed=speed||options.duration;effect.duration=$.fx.off?0:typeof speed==="number"?speed:
speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default;effect.complete=callback||options.complete;return effect}function standardSpeed(speed){if(!speed||typeof speed==="number"||$.fx.speeds[speed])return true;if(typeof speed==="string"&&!$.effects.effect[speed]){if(backCompat&&$.effects[speed])return false;return true}return false}$.fn.extend({effect:function(){var args=_normalizeArguments.apply(this,arguments),mode=args.mode,queue=args.queue,effectMethod=$.effects.effect[args.effect],oldEffectMethod=
!effectMethod&&backCompat&&$.effects[args.effect];if($.fx.off||!(effectMethod||oldEffectMethod))if(mode)return this[mode](args.duration,args.complete);else return this.each(function(){if(args.complete)args.complete.call(this)});function run(next){var elem=$(this),complete=args.complete,mode=args.mode;function done(){if($.isFunction(complete))complete.call(elem[0]);if($.isFunction(next))next()}if(elem.is(":hidden")?mode==="hide":mode==="show")done();else effectMethod.call(elem[0],args,done)}if(effectMethod)return queue===
false?this.each(run):this.queue(queue||"fx",run);else return oldEffectMethod.call(this,{options:args,duration:args.duration,callback:args.complete,mode:args.mode})},_show:$.fn.show,show:function(speed){if(standardSpeed(speed))return this._show.apply(this,arguments);else{var args=_normalizeArguments.apply(this,arguments);args.mode="show";return this.effect.call(this,args)}},_hide:$.fn.hide,hide:function(speed){if(standardSpeed(speed))return this._hide.apply(this,arguments);else{var args=_normalizeArguments.apply(this,
arguments);args.mode="hide";return this.effect.call(this,args)}},__toggle:$.fn.toggle,toggle:function(speed){if(standardSpeed(speed)||typeof speed==="boolean"||$.isFunction(speed))return this.__toggle.apply(this,arguments);else{var args=_normalizeArguments.apply(this,arguments);args.mode="toggle";return this.effect.call(this,args)}},cssUnit:function(key){var style=this.css(key),val=[];$.each(["em","px","%","pt"],function(i,unit){if(style.indexOf(unit)>0)val=[parseFloat(style),unit]});return val}})})();
(function(){var baseEasings={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2)}});$.extend(baseEasings,{Sine:function(p){return 1-Math.cos(p*Math.PI/2)},Circ:function(p){return 1-Math.sqrt(1-p*p)},Elastic:function(p){return p===0||p===1?p:-Math.pow(2,8*(p-1))*Math.sin(((p-1)*80-7.5)*Math.PI/15)},Back:function(p){return p*p*(3*p-2)},Bounce:function(p){var pow2,bounce=4;while(p<((pow2=Math.pow(2,--bounce))-1)/11);return 1/Math.pow(4,
3-bounce)-7.5625*Math.pow((pow2*3-2)/22-p,2)}});$.each(baseEasings,function(name,easeIn){$.easing["easeIn"+name]=easeIn;$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p)};$.easing["easeInOut"+name]=function(p){return p<.5?easeIn(p*2)/2:1-easeIn(p*-2+2)/2}})})()}(jQuery);
(function($,undefined){var uid=0,hideProps={},showProps={};hideProps.height=hideProps.paddingTop=hideProps.paddingBottom=hideProps.borderTopWidth=hideProps.borderBottomWidth="hide";showProps.height=showProps.paddingTop=showProps.paddingBottom=showProps.borderTopWidth=showProps.borderBottomWidth="show";$.widget("ui.accordion",{version:"1.9.2",options:{active:0,animate:{},collapsible:false,event:"click",header:"\x3e li \x3e :first-child,\x3e :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",
header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var accordionId=this.accordionId="ui-accordion-"+(this.element.attr("id")||++uid),options=this.options;this.prevShow=this.prevHide=$();this.element.addClass("ui-accordion ui-widget ui-helper-reset");this.headers=this.element.find(options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this._hoverable(this.headers);this._focusable(this.headers);this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide();
if(!options.collapsible&&(options.active===false||options.active==null))options.active=0;if(options.active<0)options.active+=this.headers.length;this.active=this._findActive(options.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top");this.active.next().addClass("ui-accordion-content-active").show();this._createIcons();this.refresh();this.element.attr("role","tablist");this.headers.attr("role","tab").each(function(i){var header=$(this),headerId=
header.attr("id"),panel=header.next(),panelId=panel.attr("id");if(!headerId){headerId=accordionId+"-header-"+i;header.attr("id",headerId)}if(!panelId){panelId=accordionId+"-panel-"+i;panel.attr("id",panelId)}header.attr("aria-controls",panelId);panel.attr("aria-labelledby",headerId)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();if(!this.active.length)this.headers.eq(0).attr("tabIndex",
0);else this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"});this._on(this.headers,{keydown:"_keydown"});this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._setupEvents(options.event)},_getCreateEventData:function(){return{header:this.active,content:!this.active.length?$():this.active.next()}},_createIcons:function(){var icons=this.options.icons;if(icons){$("\x3cspan\x3e").addClass("ui-accordion-header-icon ui-icon "+icons.header).prependTo(this.headers);
this.active.children(".ui-accordion-header-icon").removeClass(icons.header).addClass(icons.activeHeader);this.headers.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var contents;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){if(/^ui-accordion/.test(this.id))this.removeAttribute("id")});
this._destroyIcons();contents=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){if(/^ui-accordion/.test(this.id))this.removeAttribute("id")});if(this.options.heightStyle!=="content")contents.css("height","")},_setOption:function(key,value){if(key==="active"){this._activate(value);
return}if(key==="event"){if(this.options.event)this._off(this.headers,this.options.event);this._setupEvents(value)}this._super(key,value);if(key==="collapsible"&&!value&&this.options.active===false)this._activate(0);if(key==="icons"){this._destroyIcons();if(value)this._createIcons()}if(key==="disabled")this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!value)},_keydown:function(event){if(event.altKey||event.ctrlKey)return;var keyCode=$.ui.keyCode,length=this.headers.length,currentIndex=
this.headers.index(event.target),toFocus=false;switch(event.keyCode){case keyCode.RIGHT:case keyCode.DOWN:toFocus=this.headers[(currentIndex+1)%length];break;case keyCode.LEFT:case keyCode.UP:toFocus=this.headers[(currentIndex-1+length)%length];break;case keyCode.SPACE:case keyCode.ENTER:this._eventHandler(event);break;case keyCode.HOME:toFocus=this.headers[0];break;case keyCode.END:toFocus=this.headers[length-1];break}if(toFocus){$(event.target).attr("tabIndex",-1);$(toFocus).attr("tabIndex",0);
toFocus.focus();event.preventDefault()}},_panelKeyDown:function(event){if(event.keyCode===$.ui.keyCode.UP&&event.ctrlKey)$(event.currentTarget).prev().focus()},refresh:function(){var maxHeight,overflow,heightStyle=this.options.heightStyle,parent=this.element.parent();if(heightStyle==="fill"){if(!$.support.minHeight){overflow=parent.css("overflow");parent.css("overflow","hidden")}maxHeight=parent.height();this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");
if(position==="absolute"||position==="fixed")return;maxHeight-=elem.outerHeight(true)});if(overflow)parent.css("overflow",overflow);this.headers.each(function(){maxHeight-=$(this).outerHeight(true)});this.headers.next().each(function(){$(this).height(Math.max(0,maxHeight-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")}else if(heightStyle==="auto"){maxHeight=0;this.headers.next().each(function(){maxHeight=Math.max(maxHeight,$(this).css("height","").height())}).height(maxHeight)}},
_activate:function(index){var active=this._findActive(index)[0];if(active===this.active[0])return;active=active||this.active[0];this._eventHandler({target:active,currentTarget:active,preventDefault:$.noop})},_findActive:function(selector){return typeof selector==="number"?this.headers.eq(selector):$()},_setupEvents:function(event){var events={};if(!event)return;$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler"});this._on(this.headers,events)},_eventHandler:function(event){var options=
this.options,active=this.active,clicked=$(event.currentTarget),clickedIsActive=clicked[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():clicked.next(),toHide=active.next(),eventData={oldHeader:active,oldPanel:toHide,newHeader:collapsing?$():clicked,newPanel:toShow};event.preventDefault();if(clickedIsActive&&!options.collapsible||this._trigger("beforeActivate",event,eventData)===false)return;options.active=collapsing?false:this.headers.index(clicked);this.active=
clickedIsActive?$():clicked;this._toggle(eventData);active.removeClass("ui-accordion-header-active ui-state-active");if(options.icons)active.children(".ui-accordion-header-icon").removeClass(options.icons.activeHeader).addClass(options.icons.header);if(!clickedIsActive){clicked.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");if(options.icons)clicked.children(".ui-accordion-header-icon").removeClass(options.icons.header).addClass(options.icons.activeHeader);
clicked.next().addClass("ui-accordion-content-active")}},_toggle:function(data){var toShow=data.newPanel,toHide=this.prevShow.length?this.prevShow:data.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=toShow;this.prevHide=toHide;if(this.options.animate)this._animate(toShow,toHide,data);else{toHide.hide();toShow.show();this._toggleComplete(data)}toHide.attr({"aria-expanded":"false","aria-hidden":"true"});toHide.prev().attr("aria-selected","false");if(toShow.length&&toHide.length)toHide.prev().attr("tabIndex",
-1);else if(toShow.length)this.headers.filter(function(){return $(this).attr("tabIndex")===0}).attr("tabIndex",-1);toShow.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(toShow,toHide,data){var total,easing,duration,that=this,adjust=0,down=toShow.length&&(!toHide.length||toShow.index()<toHide.index()),animate=this.options.animate||{},options=down&&animate.down||animate,complete=function(){that._toggleComplete(data)};if(typeof options===
"number")duration=options;if(typeof options==="string")easing=options;easing=easing||options.easing||animate.easing;duration=duration||options.duration||animate.duration;if(!toHide.length)return toShow.animate(showProps,duration,easing,complete);if(!toShow.length)return toHide.animate(hideProps,duration,easing,complete);total=toShow.show().outerHeight();toHide.animate(hideProps,{duration:duration,easing:easing,step:function(now,fx){fx.now=Math.round(now)}});toShow.hide().animate(showProps,{duration:duration,
easing:easing,complete:complete,step:function(now,fx){fx.now=Math.round(now);if(fx.prop!=="height")adjust+=fx.now;else if(that.options.heightStyle!=="content"){fx.now=Math.round(total-toHide.outerHeight()-adjust);adjust=0}}})},_toggleComplete:function(data){var toHide=data.oldPanel;toHide.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");if(toHide.length)toHide.parent()[0].className=toHide.parent()[0].className;this._trigger("activate",null,data)}});
if($.uiBackCompat!==false){(function($,prototype){$.extend(prototype.options,{navigation:false,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var _create=prototype._create;prototype._create=function(){if(this.options.navigation){var that=this,headers=this.element.find(this.options.header),content=headers.next(),current=headers.add(content).find("a").filter(this.options.navigationFilter)[0];if(current)headers.add(content).each(function(index){if($.contains(this,
current)){that.options.active=Math.floor(index/2);return false}})}_create.call(this)}})(jQuery,jQuery.ui.accordion.prototype);(function($,prototype){$.extend(prototype.options,{heightStyle:null,autoHeight:true,clearStyle:false,fillSpace:false});var _create=prototype._create,_setOption=prototype._setOption;$.extend(prototype,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle();_create.call(this)},_setOption:function(key){if(key==="autoHeight"||key==="clearStyle"||
key==="fillSpace")this.options.heightStyle=this._mergeHeightStyle();_setOption.apply(this,arguments)},_mergeHeightStyle:function(){var options=this.options;if(options.fillSpace)return"fill";if(options.clearStyle)return"content";if(options.autoHeight)return"auto"}})})(jQuery,jQuery.ui.accordion.prototype);(function($,prototype){$.extend(prototype.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var _createIcons=prototype._createIcons;prototype._createIcons=function(){if(this.options.icons)this.options.icons.activeHeader=
this.options.icons.activeHeader||this.options.icons.headerSelected;_createIcons.call(this)}})(jQuery,jQuery.ui.accordion.prototype);(function($,prototype){prototype.activate=prototype._activate;var _findActive=prototype._findActive;prototype._findActive=function(index){if(index===-1)index=false;if(index&&typeof index!=="number"){index=this.headers.index(this.headers.filter(index));if(index===-1)index=false}return _findActive.call(this,index)}})(jQuery,jQuery.ui.accordion.prototype);jQuery.ui.accordion.prototype.resize=
jQuery.ui.accordion.prototype.refresh;(function($,prototype){$.extend(prototype.options,{change:null,changestart:null});var _trigger=prototype._trigger;prototype._trigger=function(type,event,data){var ret=_trigger.apply(this,arguments);if(!ret)return false;if(type==="beforeActivate")ret=_trigger.call(this,"changestart",event,{oldHeader:data.oldHeader,oldContent:data.oldPanel,newHeader:data.newHeader,newContent:data.newPanel});else if(type==="activate")ret=_trigger.call(this,"change",event,{oldHeader:data.oldHeader,
oldContent:data.oldPanel,newHeader:data.newHeader,newContent:data.newPanel});return ret}})(jQuery,jQuery.ui.accordion.prototype);(function($,prototype){$.extend(prototype.options,{animate:null,animated:"slide"});var _create=prototype._create;prototype._create=function(){var options=this.options;if(options.animate===null)if(!options.animated)options.animate=false;else if(options.animated==="slide")options.animate=300;else if(options.animated==="bounceslide")options.animate={duration:200,down:{easing:"easeOutBounce",
duration:1E3}};else options.animate=options.animated;_create.call(this)}})(jQuery,jQuery.ui.accordion.prototype)}})(jQuery);
(function($,undefined){var requestIndex=0;$.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"\x3cinput\x3e",options:{appendTo:"body",autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var suppressKeyPress,suppressKeyPressRepeat,suppressInput;this.isMultiLine=this._isMultiLine();this.valueMethod=this.element[this.element.is("input,textarea")?
"val":"text"];this.isNewMenu=true;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(event){if(this.element.prop("readOnly")){suppressKeyPress=true;suppressInput=true;suppressKeyPressRepeat=true;return}suppressKeyPress=false;suppressInput=false;suppressKeyPressRepeat=false;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:suppressKeyPress=true;this._move("previousPage",event);break;case keyCode.PAGE_DOWN:suppressKeyPress=
true;this._move("nextPage",event);break;case keyCode.UP:suppressKeyPress=true;this._keyEvent("previous",event);break;case keyCode.DOWN:suppressKeyPress=true;this._keyEvent("next",event);break;case keyCode.ENTER:case keyCode.NUMPAD_ENTER:if(this.menu.active){suppressKeyPress=true;event.preventDefault();this.menu.select(event)}break;case keyCode.TAB:if(this.menu.active)this.menu.select(event);break;case keyCode.ESCAPE:if(this.menu.element.is(":visible")){this._value(this.term);this.close(event);event.preventDefault()}break;
default:suppressKeyPressRepeat=true;this._searchTimeout(event);break}},keypress:function(event){if(suppressKeyPress){suppressKeyPress=false;event.preventDefault();return}if(suppressKeyPressRepeat)return;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:this._move("previousPage",event);break;case keyCode.PAGE_DOWN:this._move("nextPage",event);break;case keyCode.UP:this._keyEvent("previous",event);break;case keyCode.DOWN:this._keyEvent("next",event);break}},input:function(event){if(suppressInput){suppressInput=
false;event.preventDefault();return}this._searchTimeout(event)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(event);this._change(event)}});this._initSource();this.menu=$("\x3cul\x3e").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:$(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu");this._on(this.menu.element,
{mousedown:function(event){event.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur});var menuElement=this.menu.element[0];if(!$(event.target).closest(".ui-menu-item").length)this._delay(function(){var that=this;this.document.one("mousedown",function(event){if(event.target!==that.element[0]&&event.target!==menuElement&&!$.contains(menuElement,event.target))that.close()})})},menufocus:function(event,ui){if(this.isNewMenu){this.isNewMenu=false;if(event.originalEvent&&
/^mouse/.test(event.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){$(event.target).trigger(event.originalEvent)});return}}var item=ui.item.data("ui-autocomplete-item")||ui.item.data("item.autocomplete");if(false!==this._trigger("focus",event,{item:item})){if(event.originalEvent&&/^key/.test(event.originalEvent.type))this._value(item.value)}else this.liveRegion.text(item.value)},menuselect:function(event,ui){var item=ui.item.data("ui-autocomplete-item")||ui.item.data("item.autocomplete"),
previous=this.previous;if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=previous;this._delay(function(){this.previous=previous;this.selectedItem=item})}if(false!==this._trigger("select",event,{item:item}))this._value(item.value);this.term=this._value();this.close(event);this.selectedItem=item}});this.liveRegion=$("\x3cspan\x3e",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element);if($.fn.bgiframe)this.menu.element.bgiframe();
this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(key,value){this._super(key,value);if(key==="source")this._initSource();if(key==="appendTo")this.menu.element.appendTo(this.document.find(value||"body")[0]);if(key==="disabled"&&value&&this.xhr)this.xhr.abort()},_isMultiLine:function(){if(this.element.is("textarea"))return true;
if(this.element.is("input"))return false;return this.element.prop("isContentEditable")},_initSource:function(){var array,url,that=this;if($.isArray(this.options.source)){array=this.options.source;this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term))}}else if(typeof this.options.source==="string"){url=this.options.source;this.source=function(request,response){if(that.xhr)that.xhr.abort();that.xhr=$.ajax({url:url,data:request,dataType:"json",success:function(data){response(data)},
error:function(){response([])}})}}else this.source=this.options.source},_searchTimeout:function(event){clearTimeout(this.searching);this.searching=this._delay(function(){if(this.term!==this._value()){this.selectedItem=null;this.search(null,event)}},this.options.delay)},search:function(value,event){value=value!=null?value:this._value();this.term=this._value();if(value.length<this.options.minLength)return this.close(event);if(this._trigger("search",event)===false)return;return this._search(value)},
_search:function(value){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:value},this._response())},_response:function(){var that=this,index=++requestIndex;return function(content){if(index===requestIndex)that.__response(content);that.pending--;if(!that.pending)that.element.removeClass("ui-autocomplete-loading")}},__response:function(content){if(content)content=this._normalize(content);this._trigger("response",null,{content:content});if(!this.options.disabled&&
content&&content.length&&!this.cancelSearch){this._suggest(content);this._trigger("open")}else this._close()},close:function(event){this.cancelSearch=true;this._close(event)},_close:function(event){if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",event)}},_change:function(event){if(this.previous!==this._value())this._trigger("change",event,{item:this.selectedItem})},_normalize:function(items){if(items.length&&items[0].label&&
items[0].value)return items;return $.map(items,function(item){if(typeof item==="string")return{label:item,value:item};return $.extend({label:item.label||item.value,value:item.value||item.label},item)})},_suggest:function(items){var ul=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(ul,items);this.menu.refresh();ul.show();this._resizeMenu();ul.position($.extend({of:this.element},this.options.position));if(this.options.autoFocus)this.menu.next()},_resizeMenu:function(){var ul=
this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(ul,items){var that=this;$.each(items,function(index,item){that._renderItemData(ul,item)})},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-autocomplete-item",item)},_renderItem:function(ul,item){return $("\x3cli\x3e").append($("\x3ca\x3e").text(item.label)).appendTo(ul)},_move:function(direction,event){if(!this.menu.element.is(":visible")){this.search(null,
event);return}if(this.menu.isFirstItem()&&/^previous/.test(direction)||this.menu.isLastItem()&&/^next/.test(direction)){this._value(this.term);this.menu.blur();return}this.menu[direction](event)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(keyEvent,event){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(keyEvent,event);event.preventDefault()}}});$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$\x26")},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||value.value||value)})}});$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(amount){return amount+(amount>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(content){var message;this._superApply(arguments);if(this.options.disabled||
this.cancelSearch)return;if(content&&content.length)message=this.options.messages.results(content.length);else message=this.options.messages.noResults;this.liveRegion.text(message)}})})(jQuery);
(function($,undefined){var lastActive,startXPos,startYPos,clickDragged,baseClasses="ui-button ui-widget ui-state-default ui-corner-all",stateClasses="ui-state-hover ui-state-active ",typeClasses="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",formResetHandler=function(){var buttons=$(this).find(":ui-button");setTimeout(function(){buttons.button("refresh")},1)},radioGroup=function(radio){var name=radio.name,
form=radio.form,radios=$([]);if(name)if(form)radios=$(form).find("[name\x3d'"+name+"']");else radios=$("[name\x3d'"+name+"']",radio.ownerDocument).filter(function(){return!this.form});return radios};$.widget("ui.button",{version:"1.9.2",defaultElement:"\x3cbutton\x3e",options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,formResetHandler);if(typeof this.options.disabled!==
"boolean")this.options.disabled=!!this.element.prop("disabled");else this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var that=this,options=this.options,toggleButton=this.type==="checkbox"||this.type==="radio",activeClass=!toggleButton?"ui-state-active":"",focusClass="ui-state-focus";if(options.label===null)options.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html();this._hoverable(this.buttonElement);
this.buttonElement.addClass(baseClasses).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(options.disabled)return;if(this===lastActive)$(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){if(options.disabled)return;$(this).removeClass(activeClass)}).bind("click"+this.eventNamespace,function(event){if(options.disabled){event.preventDefault();event.stopImmediatePropagation()}});this.element.bind("focus"+this.eventNamespace,function(){that.buttonElement.addClass(focusClass)}).bind("blur"+
this.eventNamespace,function(){that.buttonElement.removeClass(focusClass)});if(toggleButton){this.element.bind("change"+this.eventNamespace,function(){if(clickDragged)return;that.refresh()});this.buttonElement.bind("mousedown"+this.eventNamespace,function(event){if(options.disabled)return;clickDragged=false;startXPos=event.pageX;startYPos=event.pageY}).bind("mouseup"+this.eventNamespace,function(event){if(options.disabled)return;if(startXPos!==event.pageX||startYPos!==event.pageY)clickDragged=true})}if(this.type===
"checkbox")this.buttonElement.bind("click"+this.eventNamespace,function(){if(options.disabled||clickDragged)return false;$(this).toggleClass("ui-state-active");that.buttonElement.attr("aria-pressed",that.element[0].checked)});else if(this.type==="radio")this.buttonElement.bind("click"+this.eventNamespace,function(){if(options.disabled||clickDragged)return false;$(this).addClass("ui-state-active");that.buttonElement.attr("aria-pressed","true");var radio=that.element[0];radioGroup(radio).not(radio).map(function(){return $(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",
"false")});else{this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(options.disabled)return false;$(this).addClass("ui-state-active");lastActive=this;that.document.one("mouseup",function(){lastActive=null})}).bind("mouseup"+this.eventNamespace,function(){if(options.disabled)return false;$(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(event){if(options.disabled)return false;if(event.keyCode===$.ui.keyCode.SPACE||event.keyCode===$.ui.keyCode.ENTER)$(this).addClass("ui-state-active")}).bind("keyup"+
this.eventNamespace,function(){$(this).removeClass("ui-state-active")});if(this.buttonElement.is("a"))this.buttonElement.keyup(function(event){if(event.keyCode===$.ui.keyCode.SPACE)$(this).click()})}this._setOption("disabled",options.disabled);this._resetButton()},_determineButtonType:function(){var ancestor,labelSelector,checked;if(this.element.is("[type\x3dcheckbox]"))this.type="checkbox";else if(this.element.is("[type\x3dradio]"))this.type="radio";else if(this.element.is("input"))this.type="input";
else this.type="button";if(this.type==="checkbox"||this.type==="radio"){ancestor=this.element.parents().last();labelSelector="label[for\x3d'"+this.element.attr("id")+"']";this.buttonElement=ancestor.find(labelSelector);if(!this.buttonElement.length){ancestor=ancestor.length?ancestor.siblings():this.element.siblings();this.buttonElement=ancestor.filter(labelSelector);if(!this.buttonElement.length)this.buttonElement=ancestor.find(labelSelector)}this.element.addClass("ui-helper-hidden-accessible");checked=
this.element.is(":checked");if(checked)this.buttonElement.addClass("ui-state-active");this.buttonElement.prop("aria-pressed",checked)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(baseClasses+" "+stateClasses+" "+typeClasses).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle)this.buttonElement.removeAttr("title")},
_setOption:function(key,value){this._super(key,value);if(key==="disabled"){if(value)this.element.prop("disabled",true);else this.element.prop("disabled",false);return}this._resetButton()},refresh:function(){var isDisabled=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");if(isDisabled!==this.options.disabled)this._setOption("disabled",isDisabled);if(this.type==="radio")radioGroup(this.element[0]).each(function(){if($(this).is(":checked"))$(this).button("widget").addClass("ui-state-active").attr("aria-pressed",
"true");else $(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")});else if(this.type==="checkbox")if(this.element.is(":checked"))this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true");else this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false")},_resetButton:function(){if(this.type==="input"){if(this.options.label)this.element.val(this.options.label);return}var buttonElement=this.buttonElement.removeClass(typeClasses),buttonText=
$("\x3cspan\x3e\x3c/span\x3e",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(buttonElement.empty()).text(),icons=this.options.icons,multipleIcons=icons.primary&&icons.secondary,buttonClasses=[];if(icons.primary||icons.secondary){if(this.options.text)buttonClasses.push("ui-button-text-icon"+(multipleIcons?"s":icons.primary?"-primary":"-secondary"));if(icons.primary)buttonElement.prepend("\x3cspan class\x3d'ui-button-icon-primary ui-icon "+icons.primary+"'\x3e\x3c/span\x3e");
if(icons.secondary)buttonElement.append("\x3cspan class\x3d'ui-button-icon-secondary ui-icon "+icons.secondary+"'\x3e\x3c/span\x3e");if(!this.options.text){buttonClasses.push(multipleIcons?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle)buttonElement.attr("title",$.trim(buttonText))}}else buttonClasses.push("ui-button-text-only");buttonElement.addClass(buttonClasses.join(" "))}});$.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type\x3dbutton], input[type\x3dsubmit], input[type\x3dreset], input[type\x3dcheckbox], input[type\x3dradio], a, :data(button)"},
_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(key,value){if(key==="disabled")this.buttons.button("option",key,value);this._super(key,value)},refresh:function(){var rtl=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return $(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(rtl?
"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(rtl?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return $(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);
(function($,undefined){$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker";var dpuuid=(new Date).getTime();var instActive;function Datepicker(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass=
"ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday",
"Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,
changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};$.extend(this._defaults,this.regional[""]);this.dpDiv=bindHover($('\x3cdiv id\x3d"'+
this._mainDivId+'" class\x3d"ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"\x3e\x3c/div\x3e'))}$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){if(this.debug)console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=
target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase();var inline=nodeName=="div"||nodeName=="span";if(!target.id){this.uuid+=1;target.id="dp"+this.uuid}var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{});if(nodeName=="input")this._connectDatepicker(target,inst);else if(inline)this._inlineDatepicker(target,
inst)},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:!inline?this.dpDiv:bindHover($('\x3cdiv class\x3d"'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"\x3e\x3c/div\x3e'))}},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName))return;
this._attachments(input,inst);input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)});this._autoSize(inst);$.data(target,PROP_NAME,inst);if(inst.settings.disabled)this._disableDatepicker(target)},_attachments:function(input,inst){var appendText=this._get(inst,"appendText");var isRTL=this._get(inst,
"isRTL");if(inst.append)inst.append.remove();if(appendText){inst.append=$('\x3cspan class\x3d"'+this._appendClass+'"\x3e'+appendText+"\x3c/span\x3e");input[isRTL?"before":"after"](inst.append)}input.unbind("focus",this._showDatepicker);if(inst.trigger)inst.trigger.remove();var showOn=this._get(inst,"showOn");if(showOn=="focus"||showOn=="both")input.focus(this._showDatepicker);if(showOn=="button"||showOn=="both"){var buttonText=this._get(inst,"buttonText");var buttonImage=this._get(inst,"buttonImage");
inst.trigger=$(this._get(inst,"buttonImageOnly")?$("\x3ca/\x3e").addClass("btn btn-default icon-calendar").addClass(this._triggerClass).attr({alt:buttonText,title:buttonText}):$('\x3cbutton type\x3d"button"\x3e\x3c/button\x3e').addClass("btn btn-default").addClass(this._triggerClass).html(buttonImage==""?buttonText:$("\x3cimg/\x3e").attr({src:buttonImage,alt:buttonText,title:buttonText})));input.siblings(".input-group-btn").append(inst.trigger);inst.trigger.click(function(){if($.datepicker._datepickerShowing&&
$.datepicker._lastInput==input[0])$.datepicker._hideDatepicker();else if($.datepicker._datepickerShowing&&$.datepicker._lastInput!=input[0]){$.datepicker._hideDatepicker();$.datepicker._showDatepicker(input[0])}else $.datepicker._showDatepicker(input[0]);return false})}},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var date=new Date(2009,12-1,20);var dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){var findMax=function(names){var max=0;var maxI=0;for(var i=
0;i<names.length;i++)if(names[i].length>max){max=names[i].length;maxI=i}return maxI};date.setMonth(findMax(this._get(inst,dateFormat.match(/MM/)?"monthNames":"monthNamesShort")));date.setDate(findMax(this._get(inst,dateFormat.match(/DD/)?"dayNames":"dayNamesShort"))+20-date.getDay())}inst.input.attr("size",this._formatDate(inst,date).length)}},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName))return;divSpan.addClass(this.markerClassName).append(inst.dpDiv).bind("setData.datepicker",
function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)});$.data(target,PROP_NAME,inst);this._setDate(inst,this._getDefaultDate(inst),true);this._updateDatepicker(inst);this._updateAlternate(inst);if(inst.settings.disabled)this._disableDatepicker(target);inst.dpDiv.css("display","block")},_dialogDatepicker:function(input,date,onSelect,settings,pos){var inst=this._dialogInst;if(!inst){this.uuid+=1;var id="dp"+this.uuid;this._dialogInput=
$('\x3cinput type\x3d"text" id\x3d"'+id+'" style\x3d"position: absolute; top: -100px; width: 0px;"/\x3e');this._dialogInput.keydown(this._doKeyDown);$("body").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],PROP_NAME,inst)}extendRemove(inst.settings,settings||{});date=date&&date.constructor==Date?this._formatDate(inst,date):date;this._dialogInput.val(date);this._pos=pos?pos.length?pos:[pos.pageX,pos.pageY]:null;if(!this._pos){var browserWidth=
document.documentElement.clientWidth;var browserHeight=document.documentElement.clientHeight;var scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;var scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[browserWidth/2-100+scrollX,browserHeight/2-150+scrollY]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);
if($.blockUI)$.blockUI(this.dpDiv);$.data(this._dialogInput[0],PROP_NAME,inst);return this},_destroyDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName))return;var nodeName=target.nodeName.toLowerCase();$.removeData(target,PROP_NAME);if(nodeName=="input"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",
this._doKeyPress).unbind("keyup",this._doKeyUp)}else if(nodeName=="div"||nodeName=="span")$target.removeClass(this.markerClassName).empty()},_enableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName))return;var nodeName=target.nodeName.toLowerCase();if(nodeName=="input"){target.disabled=false;inst.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if(nodeName==
"div"||nodeName=="span"){var inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}this._disabledInputs=$.map(this._disabledInputs,function(value){return value==target?null:value})},_disableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName))return;var nodeName=target.nodeName.toLowerCase();
if(nodeName=="input"){target.disabled=true;inst.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if(nodeName=="div"||nodeName=="span"){var inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}this._disabledInputs=$.map(this._disabledInputs,function(value){return value==target?null:value});this._disabledInputs[this._disabledInputs.length]=
target},_isDisabledDatepicker:function(target){if(!target)return false;for(var i=0;i<this._disabledInputs.length;i++)if(this._disabledInputs[i]==target)return true;return false},_getInst:function(target){try{return $.data(target,PROP_NAME)}catch(err){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(target,name,value){var inst=this._getInst(target);if(arguments.length==2&&typeof name=="string")return name=="defaults"?$.extend({},$.datepicker._defaults):inst?name=="all"?
$.extend({},inst.settings):this._get(inst,name):null;var settings=name||{};if(typeof name=="string"){settings={};settings[name]=value}if(inst){if(this._curInst==inst)this._hideDatepicker();var date=this._getDateDatepicker(target,true);var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");extendRemove(inst.settings,settings);if(minDate!==null&&settings["dateFormat"]!==undefined&&settings["minDate"]===undefined)inst.settings.minDate=this._formatDate(inst,minDate);if(maxDate!==
null&&settings["dateFormat"]!==undefined&&settings["maxDate"]===undefined)inst.settings.maxDate=this._formatDate(inst,maxDate);this._attachments($(target),inst);this._autoSize(inst);this._setDate(inst,date);this._updateAlternate(inst);this._updateDatepicker(inst)}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value)},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst)this._updateDatepicker(inst)},_setDateDatepicker:function(target,date){var inst=
this._getInst(target);if(inst){this._setDate(inst,date);this._updateDatepicker(inst);this._updateAlternate(inst)}},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);if(inst&&!inst.inline)this._setDateFromField(inst,noDefault);return inst?this._getDate(inst):null},_doKeyDown:function(event){var inst=$.datepicker._getInst(event.target);var handled=true;var isRTL=inst.dpDiv.is(".ui-datepicker-rtl");inst._keyEvent=true;if($.datepicker._datepickerShowing)switch(event.keyCode){case 9:$.datepicker._hideDatepicker();
handled=false;break;case 13:var sel=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",inst.dpDiv);if(sel[0])$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]);var onSelect=$.datepicker._get(inst,"onSelect");if(onSelect){var dateStr=$.datepicker._formatDate(inst);onSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst])}else $.datepicker._hideDatepicker();return false;break;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,
event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths"),"M");break;case 35:if(event.ctrlKey||event.metaKey)$.datepicker._clearDate(event.target);handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey)$.datepicker._gotoToday(event.target);handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||
event.metaKey)$.datepicker._adjustDate(event.target,isRTL?+1:-1,"D");handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey)$.datepicker._adjustDate(event.target,event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths"),"M");break;case 38:if(event.ctrlKey||event.metaKey)$.datepicker._adjustDate(event.target,-7,"D");handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey)$.datepicker._adjustDate(event.target,isRTL?-1:+1,"D");
handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey)$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths"),"M");break;case 40:if(event.ctrlKey||event.metaKey)$.datepicker._adjustDate(event.target,+7,"D");handled=event.ctrlKey||event.metaKey;break;default:handled=false}else if(event.keyCode==36&&event.ctrlKey)$.datepicker._showDatepicker(this);else handled=false;if(handled){event.preventDefault();event.stopPropagation()}},
_doKeyPress:function(event){var inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){var chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat"));var chr=String.fromCharCode(event.charCode==undefined?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||(chr<" "||!chars||chars.indexOf(chr)>-1)}},_doKeyUp:function(event){var inst=$.datepicker._getInst(event.target);if(inst.input.val()!=inst.lastVal)try{var date=$.datepicker.parseDate($.datepicker._get(inst,
"dateFormat"),inst.input?inst.input.val():null,$.datepicker._getFormatConfig(inst));if(date){$.datepicker._setDateFromField(inst);$.datepicker._updateAlternate(inst);$.datepicker._updateDatepicker(inst)}}catch(err){$.datepicker.log(err)}return true},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!="input")input=$("input",input.parentNode)[0];if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput==input)return;var inst=$.datepicker._getInst(input);
if($.datepicker._curInst&&$.datepicker._curInst!=inst){$.datepicker._curInst.dpDiv.stop(true,true);if(inst&&$.datepicker._datepickerShowing)$.datepicker._hideDatepicker($.datepicker._curInst.input[0])}var beforeShow=$.datepicker._get(inst,"beforeShow");var beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{};if(beforeShowSettings===false)return;extendRemove(inst.settings,beforeShowSettings);inst.lastVal=null;$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog)input.value=
"";if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight}var isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")=="fixed";return!isFixed});var offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.dpDiv.empty();inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:$.datepicker._inDialog&&
$.blockUI?"static":isFixed?"fixed":"absolute",display:"none",left:offset.left+"px",top:offset.top+"px"});if(!inst.inline){var showAnim=$.datepicker._get(inst,"showAnim");var duration=$.datepicker._get(inst,"duration");var postProcess=function(){var cover=inst.dpDiv.find("iframe.ui-datepicker-cover");if(!!cover.length){var borders=$.datepicker._getBorders(inst.dpDiv);cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()})}};inst.dpDiv.zIndex($(input).zIndex()+
1);$.datepicker._datepickerShowing=true;if($.effects&&($.effects.effect[showAnim]||$.effects[showAnim]))inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess);else inst.dpDiv[showAnim||"show"](showAnim?duration:null,postProcess);if(!showAnim||!duration)postProcess();if(inst.input.is(":visible")&&!inst.input.is(":disabled"))inst.input.focus();$.datepicker._curInst=inst}},_updateDatepicker:function(inst){this.maxRows=4;var borders=$.datepicker._getBorders(inst.dpDiv);instActive=
inst;inst.dpDiv.empty().append(this._generateHTML(inst));this._attachHandlers(inst);var cover=inst.dpDiv.find("iframe.ui-datepicker-cover");if(!!cover.length)cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()});inst.dpDiv.find("."+this._dayOverClass+" a").mouseover();var numMonths=this._getNumberOfMonths(inst);var cols=numMonths[1];var width=17;inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");
if(cols>1)inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",width*cols+"em");inst.dpDiv[(numMonths[0]!=1||numMonths[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(inst==$.datepicker._curInst&&$.datepicker._datepickerShowing&&inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&inst.input[0]!=document.activeElement)inst.input.focus();if(inst.yearshtml){var origyearshtml=inst.yearshtml;
setTimeout(function(){if(origyearshtml===inst.yearshtml&&inst.yearshtml)inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml);origyearshtml=inst.yearshtml=null},0)}},_getBorders:function(elem){var convert=function(value){return{thin:1,medium:2,thick:3}[value]||value};return[parseFloat(convert(elem.css("border-left-width"))),parseFloat(convert(elem.css("border-top-width")))]},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth();var dpHeight=inst.dpDiv.outerHeight();
var inputWidth=inst.input?inst.input.outerWidth():0;var inputHeight=inst.input?inst.input.outerHeight():0;var viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft());var viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());offset.left-=this._get(inst,"isRTL")?dpWidth-inputWidth:0;offset.left-=isFixed&&offset.left==inst.input.offset().left?$(document).scrollLeft():0;offset.top-=isFixed&&offset.top==inst.input.offset().top+inputHeight?$(document).scrollTop():
0;offset.left-=Math.min(offset.left,offset.left+dpWidth>viewWidth&&viewWidth>dpWidth?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,offset.top+dpHeight>viewHeight&&viewHeight>dpHeight?Math.abs(dpHeight+inputHeight):0);return offset},_findPos:function(obj){var inst=this._getInst(obj);var isRTL=this._get(inst,"isRTL");while(obj&&(obj.type=="hidden"||obj.nodeType!=1||$.expr.filters.hidden(obj)))obj=obj[isRTL?"previousSibling":"nextSibling"];var position=$(obj).offset();return[position.left,
position.top]},_hideDatepicker:function(input){var inst=this._curInst;if(!inst||input&&inst!=$.data(input,PROP_NAME))return;if(this._datepickerShowing){var showAnim=this._get(inst,"showAnim");var duration=this._get(inst,"duration");var postProcess=function(){$.datepicker._tidyDialog(inst)};if($.effects&&($.effects.effect[showAnim]||$.effects[showAnim]))inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess);else inst.dpDiv[showAnim=="slideDown"?"slideUp":showAnim=="fadeIn"?
"fadeOut":"hide"](showAnim?duration:null,postProcess);if(!showAnim)postProcess();this._datepickerShowing=false;var onClose=this._get(inst,"onClose");if(onClose)onClose.apply(inst.input?inst.input[0]:null,[inst.input?inst.input.val():"",inst]);this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(event){if(!$.datepicker._curInst)return;var $target=$(event.target),inst=$.datepicker._getInst($target[0]);if($target[0].id!=$.datepicker._mainDivId&&$target.parents("#"+$.datepicker._mainDivId).length==0&&!$target.hasClass($.datepicker.markerClassName)&&!$target.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)||$target.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=inst)$.datepicker._hideDatepicker()},
_adjustDate:function(id,offset,period){var target=$(id);var inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0]))return;this._adjustInstDate(inst,offset+(period=="M"?this._get(inst,"showCurrentAtPos"):0),period);this._updateDatepicker(inst)},_gotoToday:function(id){var target=$(id);var inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=
inst.currentYear}else{var date=new Date;inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear()}this._notifyChange(inst);this._adjustDate(target)},_selectMonthYear:function(id,select,period){var target=$(id);var inst=this._getInst(target[0]);inst["selected"+(period=="M"?"Month":"Year")]=inst["draw"+(period=="M"?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target)},
_selectDay:function(id,month,year,td){var target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0]))return;var inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear))},_clearDate:function(id){var target=$(id);var inst=this._getInst(target[0]);this._selectDate(target,
"")},_selectDate:function(id,dateStr){var target=$(id);var inst=this._getInst(target[0]);dateStr=dateStr!=null?dateStr:this._formatDate(inst);if(inst.input)inst.input.val(dateStr);this._updateAlternate(inst);var onSelect=this._get(inst,"onSelect");if(onSelect)onSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst]);else if(inst.input)inst.input.trigger("change");if(inst.inline)this._updateDatepicker(inst);else{this._hideDatepicker();this._lastInput=inst.input[0];if(typeof inst.input[0]!="object")inst.input.focus();
this._lastInput=null}},_updateAlternate:function(inst){var altField=this._get(inst,"altField");if(altField){var altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat");var date=this._getDate(inst);var dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr)})}},noWeekends:function(date){var day=date.getDay();return[day>0&&day<6,""]},iso8601Week:function(date){var checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+
4-(checkDate.getDay()||7));var time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/864E5)/7)+1},parseDate:function(format,value,settings){if(format==null||value==null)throw"Invalid arguments";value=typeof value=="object"?value.toString():value+"";if(value=="")return null;var shortYearCutoff=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff;shortYearCutoff=typeof shortYearCutoff!="string"?shortYearCutoff:(new Date).getFullYear()%
100+parseInt(shortYearCutoff,10);var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var year=-1;var month=-1;var day=-1;var doy=-1;var literal=false;var lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+
1)==match;if(matches)iFormat++;return matches};var getNumber=function(match){var isDoubled=lookAhead(match);var size=match=="@"?14:match=="!"?20:match=="y"&&isDoubled?4:match=="o"?3:2;var digits=new RegExp("^\\d{1,"+size+"}");var num=value.substring(iValue).match(digits);if(!num)throw"Missing number at position "+iValue;iValue+=num[0].length;return parseInt(num[0],10)};var getName=function(match,shortNames,longNames){var names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]]}).sort(function(a,
b){return-(a[1].length-b[1].length)});var index=-1;$.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()==name.toLowerCase()){index=pair[0];iValue+=name.length;return false}});if(index!=-1)return index+1;else throw"Unknown name at position "+iValue;};var checkLiteral=function(){if(value.charAt(iValue)!=format.charAt(iFormat))throw"Unexpected literal at position "+iValue;iValue++};var iValue=0;for(var iFormat=0;iFormat<format.length;iFormat++)if(literal)if(format.charAt(iFormat)==
"'"&&!lookAhead("'"))literal=false;else checkLiteral();else switch(format.charAt(iFormat)){case "d":day=getNumber("d");break;case "D":getName("D",dayNamesShort,dayNames);break;case "o":doy=getNumber("o");break;case "m":month=getNumber("m");break;case "M":month=getName("M",monthNamesShort,monthNames);break;case "y":year=getNumber("y");break;case "@":var date=new Date(getNumber("@"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case "!":var date=new Date((getNumber("!")-
this._ticksTo1970)/1E4);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case "'":if(lookAhead("'"))checkLiteral();else literal=true;break;default:checkLiteral()}if(iValue<value.length){var extra=value.substr(iValue);if(!/^\s+/.test(extra))throw"Extra/unparsed characters found in date: "+extra;}if(year==-1)year=(new Date).getFullYear();else if(year<100)year+=(new Date).getFullYear()-(new Date).getFullYear()%100+(year<=shortYearCutoff?0:-100);if(doy>-1){month=1;day=doy;do{var dim=
this._getDaysInMonth(year,month-1);if(day<=dim)break;month++;day-=dim}while(true)}var date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!=year||date.getMonth()+1!=month||date.getDate()!=day)throw"Invalid date";return date},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:((1970-1)*365+Math.floor(1970/
4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1E7,formatDate:function(format,date,settings){if(!date)return"";var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var lookAhead=function(match){var matches=iFormat+1<
format.length&&format.charAt(iFormat+1)==match;if(matches)iFormat++;return matches};var formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match))while(num.length<len)num="0"+num;return num};var formatName=function(match,value,shortNames,longNames){return lookAhead(match)?longNames[value]:shortNames[value]};var output="";var literal=false;if(date)for(var iFormat=0;iFormat<format.length;iFormat++)if(literal)if(format.charAt(iFormat)=="'"&&!lookAhead("'"))literal=false;else output+=
format.charAt(iFormat);else switch(format.charAt(iFormat)){case "d":output+=formatNumber("d",date.getDate(),2);break;case "D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case "o":output+=formatNumber("o",Math.round(((new Date(date.getFullYear(),date.getMonth(),date.getDate())).getTime()-(new Date(date.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":output+=formatNumber("m",date.getMonth()+1,2);break;case "M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);
break;case "y":output+=lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100;break;case "@":output+=date.getTime();break;case "!":output+=date.getTime()*1E4+this._ticksTo1970;break;case "'":if(lookAhead("'"))output+="'";else literal=true;break;default:output+=format.charAt(iFormat)}return output},_possibleChars:function(format){var chars="";var literal=false;var lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)==match;if(matches)iFormat++;
return matches};for(var iFormat=0;iFormat<format.length;iFormat++)if(literal)if(format.charAt(iFormat)=="'"&&!lookAhead("'"))literal=false;else chars+=format.charAt(iFormat);else switch(format.charAt(iFormat)){case "d":case "m":case "y":case "@":chars+="0123456789";break;case "D":case "M":return null;case "'":if(lookAhead("'"))chars+="'";else literal=true;break;default:chars+=format.charAt(iFormat)}return chars},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name]},
_setDateFromField:function(inst,noDefault){if(inst.input.val()==inst.lastVal)return;var dateFormat=this._get(inst,"dateFormat");var dates=inst.lastVal=inst.input?inst.input.val():null;var date,defaultDate;date=defaultDate=this._getDefaultDate(inst);var settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate}catch(event){this.log(event);dates=noDefault?"":dates}inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=
inst.selectedYear=date.getFullYear();inst.currentDay=dates?date.getDate():0;inst.currentMonth=dates?date.getMonth():0;inst.currentYear=dates?date.getFullYear():0;this._adjustInstDate(inst)},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date))},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date;date.setDate(date.getDate()+offset);return date};var offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,
"dateFormat"),offset,$.datepicker._getFormatConfig(inst))}catch(e){}var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date;var year=date.getFullYear();var month=date.getMonth();var day=date.getDate();var pattern=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g;var matches=pattern.exec(offset);while(matches){switch(matches[2]||"d"){case "d":case "D":day+=parseInt(matches[1],10);break;case "w":case "W":day+=parseInt(matches[1],10)*7;break;case "m":case "M":month+=parseInt(matches[1],
10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case "y":case "Y":year+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break}matches=pattern.exec(offset)}return new Date(year,month,day)};var newDate=date==null||date===""?defaultDate:typeof date=="string"?offsetString(date):typeof date=="number"?isNaN(date)?defaultDate:offsetNumeric(date):new Date(date.getTime());newDate=newDate&&newDate.toString()=="Invalid Date"?defaultDate:newDate;if(newDate){newDate.setHours(0);
newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0)}return this._daylightSavingAdjust(newDate)},_daylightSavingAdjust:function(date){if(!date)return null;date.setHours(date.getHours()>12?date.getHours()+2:0);return date},_setDate:function(inst,date,noChange){var clear=!date;var origMonth=inst.selectedMonth;var origYear=inst.selectedYear;var newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date));inst.selectedDay=inst.currentDay=newDate.getDate();inst.drawMonth=
inst.selectedMonth=inst.currentMonth=newDate.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear();if((origMonth!=inst.selectedMonth||origYear!=inst.selectedYear)&&!noChange)this._notifyChange(inst);this._adjustInstDate(inst);if(inst.input)inst.input.val(clear?"":this._formatDate(inst))},_getDate:function(inst){var startDate=!inst.currentYear||inst.input&&inst.input.val()==""?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));
return startDate},_attachHandlers:function(inst){var stepMonths=this._get(inst,"stepMonths");var id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(id,-stepMonths,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(id,+stepMonths,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(id)},
selectDay:function(){window["DP_jQuery_"+dpuuid].datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(id,this,"M");return false},selectYear:function(){window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(id,this,"Y");return false}};$(this).bind(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")])})},_generateHTML:function(inst){var today=
new Date;today=this._daylightSavingAdjust(new Date(today.getFullYear(),today.getMonth(),today.getDate()));var isRTL=this._get(inst,"isRTL");var showButtonPanel=this._get(inst,"showButtonPanel");var hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext");var navigationAsDateFormat=this._get(inst,"navigationAsDateFormat");var numMonths=this._getNumberOfMonths(inst);var showCurrentAtPos=this._get(inst,"showCurrentAtPos");var stepMonths=this._get(inst,"stepMonths");var isMultiMonth=numMonths[0]!=1||numMonths[1]!=
1;var currentDate=this._daylightSavingAdjust(!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay));var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");var drawMonth=inst.drawMonth-showCurrentAtPos;var drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--}if(maxDate){var maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-numMonths[0]*numMonths[1]+1,maxDate.getDate()));maxDraw=
minDate&&maxDraw<minDate?minDate:maxDraw;while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--}}}inst.drawMonth=drawMonth;inst.drawYear=drawYear;var prevText=this._get(inst,"prevText");prevText=!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst));var prev=this._canAdjustMonth(inst,-1,drawYear,drawMonth)?'\x3ca class\x3d"ui-datepicker-prev ui-corner-all" data-handler\x3d"prev" data-event\x3d"click"'+
' title\x3d"'+prevText+'"\x3e\x3cspan class\x3d"ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'"\x3e'+prevText+"\x3c/span\x3e\x3c/a\x3e":hideIfNoPrevNext?"":'\x3ca class\x3d"ui-datepicker-prev ui-corner-all ui-state-disabled" title\x3d"'+prevText+'"\x3e\x3cspan class\x3d"ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'"\x3e'+prevText+"\x3c/span\x3e\x3c/a\x3e";var nextText=this._get(inst,"nextText");nextText=!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,
drawMonth+stepMonths,1)),this._getFormatConfig(inst));var next=this._canAdjustMonth(inst,+1,drawYear,drawMonth)?'\x3ca class\x3d"ui-datepicker-next ui-corner-all" data-handler\x3d"next" data-event\x3d"click"'+' title\x3d"'+nextText+'"\x3e\x3cspan class\x3d"ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'"\x3e'+nextText+"\x3c/span\x3e\x3c/a\x3e":hideIfNoPrevNext?"":'\x3ca class\x3d"ui-datepicker-next ui-corner-all ui-state-disabled" title\x3d"'+nextText+'"\x3e\x3cspan class\x3d"ui-icon ui-icon-circle-triangle-'+
(isRTL?"w":"e")+'"\x3e'+nextText+"\x3c/span\x3e\x3c/a\x3e";var currentText=this._get(inst,"currentText");var gotoDate=this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today;currentText=!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst));var controls=!inst.inline?'\x3cbutton type\x3d"button" class\x3d"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler\x3d"hide" data-event\x3d"click"\x3e'+this._get(inst,"closeText")+
"\x3c/button\x3e":"";var buttonPanel=showButtonPanel?'\x3cdiv class\x3d"ui-datepicker-buttonpane ui-widget-content"\x3e'+(isRTL?controls:"")+(this._isInRange(inst,gotoDate)?'\x3cbutton type\x3d"button" class\x3d"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler\x3d"today" data-event\x3d"click"'+"\x3e"+currentText+"\x3c/button\x3e":"")+(isRTL?"":controls)+"\x3c/div\x3e":"";var firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=isNaN(firstDay)?0:firstDay;
var showWeek=this._get(inst,"showWeek");var dayNames=this._get(inst,"dayNames");var dayNamesShort=this._get(inst,"dayNamesShort");var dayNamesMin=this._get(inst,"dayNamesMin");var monthNames=this._get(inst,"monthNames");var monthNamesShort=this._get(inst,"monthNamesShort");var beforeShowDay=this._get(inst,"beforeShowDay");var showOtherMonths=this._get(inst,"showOtherMonths");var selectOtherMonths=this._get(inst,"selectOtherMonths");var calculateWeek=this._get(inst,"calculateWeek")||this.iso8601Week;
var defaultDate=this._getDefaultDate(inst);var html="";for(var row=0;row<numMonths[0];row++){var group="";this.maxRows=4;for(var col=0;col<numMonths[1];col++){var selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));var cornerClass=" ui-corner-all";var calender="";if(isMultiMonth){calender+='\x3cdiv class\x3d"ui-datepicker-group';if(numMonths[1]>1)switch(col){case 0:calender+=" ui-datepicker-group-first";cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-
1:calender+=" ui-datepicker-group-last";cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle";cornerClass="";break}calender+='"\x3e'}calender+='\x3cdiv class\x3d"ui-datepicker-header ui-widget-header ui-helper-clearfix'+cornerClass+'"\x3e'+(/all|left/.test(cornerClass)&&row==0?isRTL?next:prev:"")+(/all|right/.test(cornerClass)&&row==0?isRTL?prev:next:"")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+
'\x3c/div\x3e\x3ctable class\x3d"ui-datepicker-calendar"\x3e\x3cthead\x3e'+"\x3ctr\x3e";var thead=showWeek?'\x3cth class\x3d"ui-datepicker-week-col"\x3e'+this._get(inst,"weekHeader")+"\x3c/th\x3e":"";for(var dow=0;dow<7;dow++){var day=(dow+firstDay)%7;thead+="\x3cth"+((dow+firstDay+6)%7>=5?' class\x3d"ui-datepicker-week-end"':"")+"\x3e"+'\x3cspan title\x3d"'+dayNames[day]+'"\x3e'+dayNamesMin[day]+"\x3c/span\x3e\x3c/th\x3e"}calender+=thead+"\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e";var daysInMonth=this._getDaysInMonth(drawYear,
drawMonth);if(drawYear==inst.selectedYear&&drawMonth==inst.selectedMonth)inst.selectedDay=Math.min(inst.selectedDay,daysInMonth);var leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;var curRows=Math.ceil((leadDays+daysInMonth)/7);var numRows=isMultiMonth?this.maxRows>curRows?this.maxRows:curRows:curRows;this.maxRows=numRows;var printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(var dRow=0;dRow<numRows;dRow++){calender+="\x3ctr\x3e";var tbody=!showWeek?
"":'\x3ctd class\x3d"ui-datepicker-week-col"\x3e'+this._get(inst,"calculateWeek")(printDate)+"\x3c/td\x3e";for(var dow=0;dow<7;dow++){var daySettings=beforeShowDay?beforeShowDay.apply(inst.input?inst.input[0]:null,[printDate]):[true,""];var otherMonth=printDate.getMonth()!=drawMonth;var unselectable=otherMonth&&!selectOtherMonths||!daySettings[0]||minDate&&printDate<minDate||maxDate&&printDate>maxDate;tbody+='\x3ctd class\x3d"'+((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+(otherMonth?" ui-datepicker-other-month":
"")+(printDate.getTime()==selectedDate.getTime()&&drawMonth==inst.selectedMonth&&inst._keyEvent||defaultDate.getTime()==printDate.getTime()&&defaultDate.getTime()==selectedDate.getTime()?" "+this._dayOverClass:"")+(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()==currentDate.getTime()?" "+this._currentClass:"")+(printDate.getTime()==today.getTime()?" ui-datepicker-today":""))+'"'+((!otherMonth||showOtherMonths)&&
daySettings[2]?' title\x3d"'+daySettings[2]+'"':"")+(unselectable?"":' data-handler\x3d"selectDay" data-event\x3d"click" data-month\x3d"'+printDate.getMonth()+'" data-year\x3d"'+printDate.getFullYear()+'"')+"\x3e"+(otherMonth&&!showOtherMonths?"\x26#xa0;":unselectable?'\x3cspan class\x3d"ui-state-default"\x3e'+printDate.getDate()+"\x3c/span\x3e":'\x3ca class\x3d"ui-state-default'+(printDate.getTime()==today.getTime()?" ui-state-highlight":"")+(printDate.getTime()==currentDate.getTime()?" ui-state-active":
"")+(otherMonth?" ui-priority-secondary":"")+'" href\x3d"#"\x3e'+printDate.getDate()+"\x3c/a\x3e")+"\x3c/td\x3e";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate)}calender+=tbody+"\x3c/tr\x3e"}drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++}calender+="\x3c/tbody\x3e\x3c/table\x3e"+(isMultiMonth?"\x3c/div\x3e"+(numMonths[0]>0&&col==numMonths[1]-1?'\x3cdiv class\x3d"ui-datepicker-row-break"\x3e\x3c/div\x3e':""):"");group+=calender}html+=group}html+=buttonPanel+
($.ui.ie6&&!inst.inline?'\x3ciframe src\x3d"javascript:false;" class\x3d"ui-datepicker-cover" frameborder\x3d"0"\x3e\x3c/iframe\x3e':"");inst._keyEvent=false;return html},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var changeMonth=this._get(inst,"changeMonth");var changeYear=this._get(inst,"changeYear");var showMonthAfterYear=this._get(inst,"showMonthAfterYear");var html='\x3cdiv class\x3d"ui-datepicker-title"\x3e';var monthHtml=
"";if(secondary||!changeMonth)monthHtml+='\x3cspan class\x3d"ui-datepicker-month"\x3e'+monthNames[drawMonth]+"\x3c/span\x3e";else{var inMinYear=minDate&&minDate.getFullYear()==drawYear;var inMaxYear=maxDate&&maxDate.getFullYear()==drawYear;monthHtml+='\x3cselect class\x3d"ui-datepicker-month" data-handler\x3d"selectMonth" data-event\x3d"change"\x3e';for(var month=0;month<12;month++)if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth()))monthHtml+='\x3coption value\x3d"'+
month+'"'+(month==drawMonth?' selected\x3d"selected"':"")+"\x3e"+monthNamesShort[month]+"\x3c/option\x3e";monthHtml+="\x3c/select\x3e"}if(!showMonthAfterYear)html+=monthHtml+(secondary||!(changeMonth&&changeYear)?"\x26#xa0;":"");if(!inst.yearshtml){inst.yearshtml="";if(secondary||!changeYear)html+='\x3cspan class\x3d"ui-datepicker-year"\x3e'+drawYear+"\x3c/span\x3e";else{var years=this._get(inst,"yearRange").split(":");var thisYear=(new Date).getFullYear();var determineYear=function(value){var year=
value.match(/c[+-].*/)?drawYear+parseInt(value.substring(1),10):value.match(/[+-].*/)?thisYear+parseInt(value,10):parseInt(value,10);return isNaN(year)?thisYear:year};var year=determineYear(years[0]);var endYear=Math.max(year,determineYear(years[1]||""));year=minDate?Math.max(year,minDate.getFullYear()):year;endYear=maxDate?Math.min(endYear,maxDate.getFullYear()):endYear;inst.yearshtml+='\x3cselect class\x3d"ui-datepicker-year" data-handler\x3d"selectYear" data-event\x3d"change"\x3e';for(;year<=endYear;year++)inst.yearshtml+=
'\x3coption value\x3d"'+year+'"'+(year==drawYear?' selected\x3d"selected"':"")+"\x3e"+year+"\x3c/option\x3e";inst.yearshtml+="\x3c/select\x3e";html+=inst.yearshtml;inst.yearshtml=null}}html+=this._get(inst,"yearSuffix");if(showMonthAfterYear)html+=(secondary||!(changeMonth&&changeYear)?"\x26#xa0;":"")+monthHtml;html+="\x3c/div\x3e";return html},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+(period=="Y"?offset:0);var month=inst.drawMonth+(period=="M"?offset:0);var day=Math.min(inst.selectedDay,
this._getDaysInMonth(year,month))+(period=="D"?offset:0);var date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period=="M"||period=="Y")this._notifyChange(inst)},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");var newDate=minDate&&date<minDate?minDate:date;
newDate=maxDate&&newDate>maxDate?maxDate:newDate;return newDate},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");if(onChange)onChange.apply(inst.input?inst.input[0]:null,[inst.selectedYear,inst.selectedMonth+1,inst])},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return numMonths==null?[1,1]:typeof numMonths=="number"?[1,numMonths]:numMonths},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+
"Date"),null)},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate()},_getFirstDayOfMonth:function(year,month){return(new Date(year,month,1)).getDay()},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst);var date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));if(offset<0)date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()));return this._isInRange(inst,
date)},_isInRange:function(inst,date){var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");return(!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime())},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");shortYearCutoff=typeof shortYearCutoff!="string"?shortYearCutoff:(new Date).getFullYear()%100+parseInt(shortYearCutoff,10);return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,
"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")}},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear}var date=day?typeof day=="object"?day:this._daylightSavingAdjust(new Date(year,month,day)):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));return this.formatDate(this._get(inst,
"dateFormat"),date,this._getFormatConfig(inst))}});function bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.delegate(selector,"mouseout",function(){$(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!=-1)$(this).removeClass("ui-datepicker-prev-hover");if(this.className.indexOf("ui-datepicker-next")!=-1)$(this).removeClass("ui-datepicker-next-hover")}).delegate(selector,"mouseover",function(){if(!$.datepicker._isDisabledDatepicker(instActive.inline?
dpDiv.parent()[0]:instActive.input[0])){$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");$(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!=-1)$(this).addClass("ui-datepicker-prev-hover");if(this.className.indexOf("ui-datepicker-next")!=-1)$(this).addClass("ui-datepicker-next-hover")}})}function extendRemove(target,props){$.extend(target,props);for(var name in props)if(props[name]==null||props[name]==undefined)target[name]=props[name];
return target}$.fn.datepicker=function(options){if(!this.length)return this;if(!$.datepicker.initialized){$(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv);$.datepicker.initialized=true}var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options=="string"&&(options=="isDisabled"||options=="getDate"||options=="widget"))return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));if(options=="option"&&
arguments.length==2&&typeof arguments[1]=="string")return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));return this.each(function(){typeof options=="string"?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options)})};$.datepicker=new Datepicker;$.datepicker.initialized=false;$.datepicker.uuid=(new Date).getTime();$.datepicker.version="1.9.2";window["DP_jQuery_"+dpuuid]=$})(jQuery);
(function($,undefined){var uiDialogClasses="ui-dialog ui-widget ui-widget-content ui-corner-all ",sizeRelatedOptions={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};$.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,
minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(pos){var topOffset=$(this).css(pos).offset().top;if(topOffset<0)$(this).css("top",pos.top-topOffset)}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1E3},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string")this.originalTitle="";this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};
this.options.title=this.options.title||this.originalTitle;var that=this,options=this.options,title=options.title||"\x26#160;",uiDialog,uiDialogTitlebar,uiDialogTitlebarClose,uiDialogTitle,uiDialogButtonPane;uiDialog=(this.uiDialog=$("\x3cdiv\x3e")).addClass(uiDialogClasses+options.dialogClass).css({display:"none",outline:0,zIndex:options.zIndex}).attr("tabIndex",-1).keydown(function(event){if(options.closeOnEscape&&!event.isDefaultPrevented()&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE){that.close(event);
event.preventDefault()}}).mousedown(function(event){that.moveToTop(false,event)}).appendTo("body");this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(uiDialog);uiDialogTitlebar=(this.uiDialogTitlebar=$("\x3cdiv\x3e")).addClass("ui-dialog-titlebar  ui-widget-header  "+"ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){uiDialog.focus()}).prependTo(uiDialog);uiDialogTitlebarClose=$("\x3ca href\x3d'#'\x3e\x3c/a\x3e").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role",
"button").click(function(event){event.preventDefault();that.close(event)}).appendTo(uiDialogTitlebar);(this.uiDialogTitlebarCloseText=$("\x3cspan\x3e")).addClass("ui-icon ui-icon-closethick").text(options.closeText).appendTo(uiDialogTitlebarClose);uiDialogTitle=$("\x3cspan\x3e").uniqueId().addClass("ui-dialog-title").html(title).prependTo(uiDialogTitlebar);uiDialogButtonPane=(this.uiDialogButtonPane=$("\x3cdiv\x3e")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");(this.uiButtonSet=
$("\x3cdiv\x3e")).addClass("ui-dialog-buttonset").appendTo(uiDialogButtonPane);uiDialog.attr({role:"dialog","aria-labelledby":uiDialogTitle.attr("id")});uiDialogTitlebar.find("*").add(uiDialogTitlebar).disableSelection();this._hoverable(uiDialogTitlebarClose);this._focusable(uiDialogTitlebarClose);if(options.draggable&&$.fn.draggable)this._makeDraggable();if(options.resizable&&$.fn.resizable)this._makeResizable();this._createButtons(options.buttons);this._isOpen=false;if($.fn.bgiframe)uiDialog.bgiframe();
this._on(uiDialog,{keydown:function(event){if(!options.modal||event.keyCode!==$.ui.keyCode.TAB)return;var tabbables=$(":tabbable",uiDialog),first=tabbables.filter(":first"),last=tabbables.filter(":last");if(event.target===last[0]&&!event.shiftKey){first.focus(1);return false}else if(event.target===first[0]&&event.shiftKey){last.focus(1);return false}}})},_init:function(){if(this.options.autoOpen)this.open()},_destroy:function(){var next,oldPosition=this.oldPosition;if(this.overlay)this.overlay.destroy();
this.uiDialog.hide();this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");this.uiDialog.remove();if(this.originalTitle)this.element.attr("title",this.originalTitle);next=oldPosition.parent.children().eq(oldPosition.index);if(next.length&&next[0]!==this.element[0])next.before(this.element);else oldPosition.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(event){var that=this,maxZ,thisZ;if(!this._isOpen)return;if(false===this._trigger("beforeClose",
event))return;this._isOpen=false;if(this.overlay)this.overlay.destroy();if(this.options.hide)this._hide(this.uiDialog,this.options.hide,function(){that._trigger("close",event)});else{this.uiDialog.hide();this._trigger("close",event)}$.ui.dialog.overlay.resize();if(this.options.modal){maxZ=0;$(".ui-dialog").each(function(){if(this!==that.uiDialog[0]){thisZ=$(this).css("z-index");if(!isNaN(thisZ))maxZ=Math.max(maxZ,thisZ)}});$.ui.dialog.maxZ=maxZ}return this},isOpen:function(){return this._isOpen},
moveToTop:function(force,event){var options=this.options,saveScroll;if(options.modal&&!force||!options.stack&&!options.modal)return this._trigger("focus",event);if(options.zIndex>$.ui.dialog.maxZ)$.ui.dialog.maxZ=options.zIndex;if(this.overlay){$.ui.dialog.maxZ+=1;$.ui.dialog.overlay.maxZ=$.ui.dialog.maxZ;this.overlay.$el.css("z-index",$.ui.dialog.overlay.maxZ)}saveScroll={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()};$.ui.dialog.maxZ+=1;this.uiDialog.css("z-index",$.ui.dialog.maxZ);
this.element.attr(saveScroll);this._trigger("focus",event);return this},open:function(){if(this._isOpen)return;var hasFocus,options=this.options,uiDialog=this.uiDialog;this._size();this._position(options.position);uiDialog.show(options.show);this.overlay=options.modal?new $.ui.dialog.overlay(this):null;this.moveToTop(true);hasFocus=this.element.find(":tabbable");if(!hasFocus.length){hasFocus=this.uiDialogButtonPane.find(":tabbable");if(!hasFocus.length)hasFocus=uiDialog}hasFocus.eq(0).focus();this._isOpen=
true;this._trigger("open");return this},_createButtons:function(buttons){var that=this,hasButtons=false;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if(typeof buttons==="object"&&buttons!==null)$.each(buttons,function(){return!(hasButtons=true)});if(hasButtons){$.each(buttons,function(name,props){var button,click;props=$.isFunction(props)?{click:props,text:name}:props;props=$.extend({type:"button"},props);click=props.click;props.click=function(){click.apply(that.element[0],arguments)};
button=$("\x3cbutton\x3e\x3c/button\x3e",props).appendTo(that.uiButtonSet);if($.fn.button)button.button()});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)}else this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){var that=this,options=this.options;function filteredUi(ui){return{position:ui.position,offset:ui.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",
start:function(event,ui){$(this).addClass("ui-dialog-dragging");that._trigger("dragStart",event,filteredUi(ui))},drag:function(event,ui){that._trigger("drag",event,filteredUi(ui))},stop:function(event,ui){options.position=[ui.position.left-that.document.scrollLeft(),ui.position.top-that.document.scrollTop()];$(this).removeClass("ui-dialog-dragging");that._trigger("dragStop",event,filteredUi(ui));$.ui.dialog.overlay.resize()}})},_makeResizable:function(handles){handles=handles===undefined?this.options.resizable:
handles;var that=this,options=this.options,position=this.uiDialog.css("position"),resizeHandles=typeof handles==="string"?handles:"n,e,s,w,se,sw,ne,nw";function filteredUi(ui){return{originalPosition:ui.originalPosition,originalSize:ui.originalSize,position:ui.position,size:ui.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:options.maxWidth,maxHeight:options.maxHeight,minWidth:options.minWidth,minHeight:this._minHeight(),handles:resizeHandles,
start:function(event,ui){$(this).addClass("ui-dialog-resizing");that._trigger("resizeStart",event,filteredUi(ui))},resize:function(event,ui){that._trigger("resize",event,filteredUi(ui))},stop:function(event,ui){$(this).removeClass("ui-dialog-resizing");options.height=$(this).height();options.width=$(this).width();that._trigger("resizeStop",event,filteredUi(ui));$.ui.dialog.overlay.resize()}}).css("position",position).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var options=
this.options;if(options.height==="auto")return options.minHeight;else return Math.min(options.minHeight,options.height)},_position:function(position){var myAt=[],offset=[0,0],isVisible;if(position){if(typeof position==="string"||typeof position==="object"&&"0"in position){myAt=position.split?position.split(" "):[position[0],position[1]];if(myAt.length===1)myAt[1]=myAt[0];$.each(["left","top"],function(i,offsetPosition){if(+myAt[i]===myAt[i]){offset[i]=myAt[i];myAt[i]=offsetPosition}});position={my:myAt[0]+
(offset[0]<0?offset[0]:"+"+offset[0])+" "+myAt[1]+(offset[1]<0?offset[1]:"+"+offset[1]),at:myAt.join(" ")}}position=$.extend({},$.ui.dialog.prototype.options.position,position)}else position=$.ui.dialog.prototype.options.position;isVisible=this.uiDialog.is(":visible");if(!isVisible)this.uiDialog.show();this.uiDialog.position(position);if(!isVisible)this.uiDialog.hide()},_setOptions:function(options){var that=this,resizableOptions={},resize=false;$.each(options,function(key,value){that._setOption(key,
value);if(key in sizeRelatedOptions)resize=true;if(key in resizableRelatedOptions)resizableOptions[key]=value});if(resize)this._size();if(this.uiDialog.is(":data(resizable)"))this.uiDialog.resizable("option",resizableOptions)},_setOption:function(key,value){var isDraggable,isResizable,uiDialog=this.uiDialog;switch(key){case "buttons":this._createButtons(value);break;case "closeText":this.uiDialogTitlebarCloseText.text(""+value);break;case "dialogClass":uiDialog.removeClass(this.options.dialogClass).addClass(uiDialogClasses+
value);break;case "disabled":if(value)uiDialog.addClass("ui-dialog-disabled");else uiDialog.removeClass("ui-dialog-disabled");break;case "draggable":isDraggable=uiDialog.is(":data(draggable)");if(isDraggable&&!value)uiDialog.draggable("destroy");if(!isDraggable&&value)this._makeDraggable();break;case "position":this._position(value);break;case "resizable":isResizable=uiDialog.is(":data(resizable)");if(isResizable&&!value)uiDialog.resizable("destroy");if(isResizable&&typeof value==="string")uiDialog.resizable("option",
"handles",value);if(!isResizable&&value!==false)this._makeResizable(value);break;case "title":$(".ui-dialog-title",this.uiDialogTitlebar).html(""+(value||"\x26#160;"));break}this._super(key,value)},_size:function(){var nonContentHeight,minContentHeight,autoHeight,options=this.options,isVisible=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(options.minWidth>options.width)options.width=options.minWidth;nonContentHeight=this.uiDialog.css({height:"auto",width:options.width}).outerHeight();
minContentHeight=Math.max(0,options.minHeight-nonContentHeight);if(options.height==="auto")if($.support.minHeight)this.element.css({minHeight:minContentHeight,height:"auto"});else{this.uiDialog.show();autoHeight=this.element.css("height","auto").height();if(!isVisible)this.uiDialog.hide();this.element.height(Math.max(autoHeight,minContentHeight))}else this.element.height(Math.max(options.height-nonContentHeight,0));if(this.uiDialog.is(":data(resizable)"))this.uiDialog.resizable("option","minHeight",
this._minHeight())}});$.extend($.ui.dialog,{uuid:0,maxZ:0,getTitleId:function($el){var id=$el.attr("id");if(!id){this.uuid+=1;id=this.uuid}return"ui-dialog-title-"+id},overlay:function(dialog){this.$el=$.ui.dialog.overlay.create(dialog)}});$.extend($.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:$.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(event){return event+".dialog-overlay"}).join(" "),create:function(dialog){if(this.instances.length===0){setTimeout(function(){if($.ui.dialog.overlay.instances.length)$(document).bind($.ui.dialog.overlay.events,
function(event){if($(event.target).zIndex()<$.ui.dialog.overlay.maxZ)return false})},1);$(window).bind("resize.dialog-overlay",$.ui.dialog.overlay.resize)}var $el=this.oldInstances.pop()||$("\x3cdiv\x3e").addClass("ui-widget-overlay");$(document).bind("keydown.dialog-overlay",function(event){var instances=$.ui.dialog.overlay.instances;if(instances.length!==0&&instances[instances.length-1]===$el&&dialog.options.closeOnEscape&&!event.isDefaultPrevented()&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE){dialog.close(event);
event.preventDefault()}});$el.appendTo(document.body).css({width:this.width(),height:this.height()});if($.fn.bgiframe)$el.bgiframe();this.instances.push($el);return $el},destroy:function($el){var indexOf=$.inArray($el,this.instances),maxZ=0;if(indexOf!==-1)this.oldInstances.push(this.instances.splice(indexOf,1)[0]);if(this.instances.length===0)$([document,window]).unbind(".dialog-overlay");$el.height(0).width(0).remove();$.each(this.instances,function(){maxZ=Math.max(maxZ,this.css("z-index"))});this.maxZ=
maxZ},height:function(){var scrollHeight,offsetHeight;if($.ui.ie){scrollHeight=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);offsetHeight=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(scrollHeight<offsetHeight)return $(window).height()+"px";else return scrollHeight+"px"}else return $(document).height()+"px"},width:function(){var scrollWidth,offsetWidth;if($.ui.ie){scrollWidth=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);
offsetWidth=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(scrollWidth<offsetWidth)return $(window).width()+"px";else return scrollWidth+"px"}else return $(document).width()+"px"},resize:function(){var $overlays=$([]);$.each($.ui.dialog.overlay.instances,function(){$overlays=$overlays.add(this)});$overlays.css({width:0,height:0}).css({width:$.ui.dialog.overlay.width(),height:$.ui.dialog.overlay.height()})}});$.extend($.ui.dialog.overlay.prototype,{destroy:function(){$.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);
(function($,undefined){var rvertical=/up|down|vertical/,rpositivemotion=/up|left|vertical|horizontal/;$.effects.effect.blind=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),direction=o.direction||"up",vertical=rvertical.test(direction),ref=vertical?"height":"width",ref2=vertical?"top":"left",motion=rpositivemotion.test(direction),animation={},show=mode==="show",wrapper,distance,margin;if(el.parent().is(".ui-effects-wrapper"))$.effects.save(el.parent(),
props);else $.effects.save(el,props);el.show();wrapper=$.effects.createWrapper(el).css({overflow:"hidden"});distance=wrapper[ref]();margin=parseFloat(wrapper.css(ref2))||0;animation[ref]=show?distance:0;if(!motion){el.css(vertical?"bottom":"right",0).css(vertical?"top":"left","auto").css({position:"absolute"});animation[ref2]=show?margin:distance+margin}if(show){wrapper.css(ref,0);if(!motion)wrapper.css(ref2,margin+distance)}wrapper.animate(animation,{duration:o.duration,easing:o.easing,queue:false,
complete:function(){if(mode==="hide")el.hide();$.effects.restore(el,props);$.effects.removeWrapper(el);done()}})}})(jQuery);
(function($,undefined){$.effects.effect.bounce=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"effect"),hide=mode==="hide",show=mode==="show",direction=o.direction||"up",distance=o.distance,times=o.times||5,anims=times*2+(show||hide?1:0),speed=o.duration/anims,easing=o.easing,ref=direction==="up"||direction==="down"?"top":"left",motion=direction==="up"||direction==="left",i,upAnim,downAnim,queue=el.queue(),queuelen=
queue.length;if(show||hide)props.push("opacity");$.effects.save(el,props);el.show();$.effects.createWrapper(el);if(!distance)distance=el[ref==="top"?"outerHeight":"outerWidth"]()/3;if(show){downAnim={opacity:1};downAnim[ref]=0;el.css("opacity",0).css(ref,motion?-distance*2:distance*2).animate(downAnim,speed,easing)}if(hide)distance=distance/Math.pow(2,times-1);downAnim={};downAnim[ref]=0;for(i=0;i<times;i++){upAnim={};upAnim[ref]=(motion?"-\x3d":"+\x3d")+distance;el.animate(upAnim,speed,easing).animate(downAnim,
speed,easing);distance=hide?distance*2:distance/2}if(hide){upAnim={opacity:0};upAnim[ref]=(motion?"-\x3d":"+\x3d")+distance;el.animate(upAnim,speed,easing)}el.queue(function(){if(hide)el.hide();$.effects.restore(el,props);$.effects.removeWrapper(el);done()});if(queuelen>1)queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1)));el.dequeue()}})(jQuery);
(function($,undefined){$.effects.effect.clip=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",direction=o.direction||"vertical",vert=direction==="vertical",size=vert?"height":"width",position=vert?"top":"left",animation={},wrapper,animate,distance;$.effects.save(el,props);el.show();wrapper=$.effects.createWrapper(el).css({overflow:"hidden"});animate=el[0].tagName==="IMG"?wrapper:el;distance=
animate[size]();if(show){animate.css(size,0);animate.css(position,distance/2)}animation[size]=show?distance:0;animation[position]=show?0:distance/2;animate.animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(!show)el.hide();$.effects.restore(el,props);$.effects.removeWrapper(el);done()}})}})(jQuery);
(function($,undefined){$.effects.effect.drop=function(o,done){var el=$(this),props=["position","top","bottom","left","right","opacity","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",direction=o.direction||"left",ref=direction==="up"||direction==="down"?"top":"left",motion=direction==="up"||direction==="left"?"pos":"neg",animation={opacity:show?1:0},distance;$.effects.save(el,props);el.show();$.effects.createWrapper(el);distance=o.distance||el[ref==="top"?"outerHeight":
"outerWidth"](true)/2;if(show)el.css("opacity",0).css(ref,motion==="pos"?-distance:distance);animation[ref]=(show?motion==="pos"?"+\x3d":"-\x3d":motion==="pos"?"-\x3d":"+\x3d")+distance;el.animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(mode==="hide")el.hide();$.effects.restore(el,props);$.effects.removeWrapper(el);done()}})}})(jQuery);
(function($,undefined){$.effects.effect.explode=function(o,done){var rows=o.pieces?Math.round(Math.sqrt(o.pieces)):3,cells=rows,el=$(this),mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",offset=el.show().css("visibility","hidden").offset(),width=Math.ceil(el.outerWidth()/cells),height=Math.ceil(el.outerHeight()/rows),pieces=[],i,j,left,top,mx,my;function childComplete(){pieces.push(this);if(pieces.length===rows*cells)animComplete()}for(i=0;i<rows;i++){top=offset.top+i*height;my=i-(rows-
1)/2;for(j=0;j<cells;j++){left=offset.left+j*width;mx=j-(cells-1)/2;el.clone().appendTo("body").wrap("\x3cdiv\x3e\x3c/div\x3e").css({position:"absolute",visibility:"visible",left:-j*width,top:-i*height}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:width,height:height,left:left+(show?mx*width:0),top:top+(show?my*height:0),opacity:show?0:1}).animate({left:left+(show?0:mx*width),top:top+(show?0:my*height),opacity:show?1:0},o.duration||500,o.easing,childComplete)}}function animComplete(){el.css({visibility:"visible"});
$(pieces).remove();if(!show)el.hide();done()}}})(jQuery);(function($,undefined){$.effects.effect.fade=function(o,done){var el=$(this),mode=$.effects.setMode(el,o.mode||"toggle");el.animate({opacity:mode},{queue:false,duration:o.duration,easing:o.easing,complete:done})}})(jQuery);
(function($,undefined){$.effects.effect.fold=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",hide=mode==="hide",size=o.size||15,percent=/([0-9]+)%/.exec(size),horizFirst=!!o.horizFirst,widthFirst=show!==horizFirst,ref=widthFirst?["width","height"]:["height","width"],duration=o.duration/2,wrapper,distance,animation1={},animation2={};$.effects.save(el,props);el.show();wrapper=$.effects.createWrapper(el).css({overflow:"hidden"});
distance=widthFirst?[wrapper.width(),wrapper.height()]:[wrapper.height(),wrapper.width()];if(percent)size=parseInt(percent[1],10)/100*distance[hide?0:1];if(show)wrapper.css(horizFirst?{height:0,width:size}:{height:size,width:0});animation1[ref[0]]=show?distance[0]:size;animation2[ref[1]]=show?distance[1]:0;wrapper.animate(animation1,duration,o.easing).animate(animation2,duration,o.easing,function(){if(hide)el.hide();$.effects.restore(el,props);$.effects.removeWrapper(el);done()})}})(jQuery);
(function($,undefined){$.effects.effect.highlight=function(o,done){var elem=$(this),props=["backgroundImage","backgroundColor","opacity"],mode=$.effects.setMode(elem,o.mode||"show"),animation={backgroundColor:elem.css("backgroundColor")};if(mode==="hide")animation.opacity=0;$.effects.save(elem,props);elem.show().css({backgroundImage:"none",backgroundColor:o.color||"#ffff99"}).animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(mode==="hide")elem.hide();$.effects.restore(elem,
props);done()}})}})(jQuery);
(function($,undefined){$.effects.effect.pulsate=function(o,done){var elem=$(this),mode=$.effects.setMode(elem,o.mode||"show"),show=mode==="show",hide=mode==="hide",showhide=show||mode==="hide",anims=(o.times||5)*2+(showhide?1:0),duration=o.duration/anims,animateTo=0,queue=elem.queue(),queuelen=queue.length,i;if(show||!elem.is(":visible")){elem.css("opacity",0).show();animateTo=1}for(i=1;i<anims;i++){elem.animate({opacity:animateTo},duration,o.easing);animateTo=1-animateTo}elem.animate({opacity:animateTo},duration,
o.easing);elem.queue(function(){if(hide)elem.hide();done()});if(queuelen>1)queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1)));elem.dequeue()}})(jQuery);
(function($,undefined){$.effects.effect.puff=function(o,done){var elem=$(this),mode=$.effects.setMode(elem,o.mode||"hide"),hide=mode==="hide",percent=parseInt(o.percent,10)||150,factor=percent/100,original={height:elem.height(),width:elem.width(),outerHeight:elem.outerHeight(),outerWidth:elem.outerWidth()};$.extend(o,{effect:"scale",queue:false,fade:true,mode:mode,complete:done,percent:hide?percent:100,from:hide?original:{height:original.height*factor,width:original.width*factor,outerHeight:original.outerHeight*
factor,outerWidth:original.outerWidth*factor}});elem.effect(o)};$.effects.effect.scale=function(o,done){var el=$(this),options=$.extend(true,{},o),mode=$.effects.setMode(el,o.mode||"effect"),percent=parseInt(o.percent,10)||(parseInt(o.percent,10)===0?0:mode==="hide"?0:100),direction=o.direction||"both",origin=o.origin,original={height:el.height(),width:el.width(),outerHeight:el.outerHeight(),outerWidth:el.outerWidth()},factor={y:direction!=="horizontal"?percent/100:1,x:direction!=="vertical"?percent/
100:1};options.effect="size";options.queue=false;options.complete=done;if(mode!=="effect"){options.origin=origin||["middle","center"];options.restore=true}options.from=o.from||(mode==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:original);options.to={height:original.height*factor.y,width:original.width*factor.x,outerHeight:original.outerHeight*factor.y,outerWidth:original.outerWidth*factor.x};if(options.fade){if(mode==="show"){options.from.opacity=0;options.to.opacity=1}if(mode==="hide"){options.from.opacity=
1;options.to.opacity=0}}el.effect(options)};$.effects.effect.size=function(o,done){var original,baseline,factor,el=$(this),props0=["position","top","bottom","left","right","width","height","overflow","opacity"],props1=["position","top","bottom","left","right","overflow","opacity"],props2=["width","height","overflow"],cProps=["fontSize"],vProps=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],hProps=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],mode=$.effects.setMode(el,
o.mode||"effect"),restore=o.restore||mode!=="effect",scale=o.scale||"both",origin=o.origin||["middle","center"],position=el.css("position"),props=restore?props0:props1,zero={height:0,width:0,outerHeight:0,outerWidth:0};if(mode==="show")el.show();original={height:el.height(),width:el.width(),outerHeight:el.outerHeight(),outerWidth:el.outerWidth()};if(o.mode==="toggle"&&mode==="show"){el.from=o.to||zero;el.to=o.from||original}else{el.from=o.from||(mode==="show"?zero:original);el.to=o.to||(mode==="hide"?
zero:original)}factor={from:{y:el.from.height/original.height,x:el.from.width/original.width},to:{y:el.to.height/original.height,x:el.to.width/original.width}};if(scale==="box"||scale==="both"){if(factor.from.y!==factor.to.y){props=props.concat(vProps);el.from=$.effects.setTransition(el,vProps,factor.from.y,el.from);el.to=$.effects.setTransition(el,vProps,factor.to.y,el.to)}if(factor.from.x!==factor.to.x){props=props.concat(hProps);el.from=$.effects.setTransition(el,hProps,factor.from.x,el.from);
el.to=$.effects.setTransition(el,hProps,factor.to.x,el.to)}}if(scale==="content"||scale==="both")if(factor.from.y!==factor.to.y){props=props.concat(cProps).concat(props2);el.from=$.effects.setTransition(el,cProps,factor.from.y,el.from);el.to=$.effects.setTransition(el,cProps,factor.to.y,el.to)}$.effects.save(el,props);el.show();$.effects.createWrapper(el);el.css("overflow","hidden").css(el.from);if(origin){baseline=$.effects.getBaseline(origin,original);el.from.top=(original.outerHeight-el.outerHeight())*
baseline.y;el.from.left=(original.outerWidth-el.outerWidth())*baseline.x;el.to.top=(original.outerHeight-el.to.outerHeight)*baseline.y;el.to.left=(original.outerWidth-el.to.outerWidth)*baseline.x}el.css(el.from);if(scale==="content"||scale==="both"){vProps=vProps.concat(["marginTop","marginBottom"]).concat(cProps);hProps=hProps.concat(["marginLeft","marginRight"]);props2=props0.concat(vProps).concat(hProps);el.find("*[width]").each(function(){var child=$(this),c_original={height:child.height(),width:child.width(),
outerHeight:child.outerHeight(),outerWidth:child.outerWidth()};if(restore)$.effects.save(child,props2);child.from={height:c_original.height*factor.from.y,width:c_original.width*factor.from.x,outerHeight:c_original.outerHeight*factor.from.y,outerWidth:c_original.outerWidth*factor.from.x};child.to={height:c_original.height*factor.to.y,width:c_original.width*factor.to.x,outerHeight:c_original.height*factor.to.y,outerWidth:c_original.width*factor.to.x};if(factor.from.y!==factor.to.y){child.from=$.effects.setTransition(child,
vProps,factor.from.y,child.from);child.to=$.effects.setTransition(child,vProps,factor.to.y,child.to)}if(factor.from.x!==factor.to.x){child.from=$.effects.setTransition(child,hProps,factor.from.x,child.from);child.to=$.effects.setTransition(child,hProps,factor.to.x,child.to)}child.css(child.from);child.animate(child.to,o.duration,o.easing,function(){if(restore)$.effects.restore(child,props2)})})}el.animate(el.to,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(el.to.opacity===
0)el.css("opacity",el.from.opacity);if(mode==="hide")el.hide();$.effects.restore(el,props);if(!restore)if(position==="static")el.css({position:"relative",top:el.to.top,left:el.to.left});else $.each(["top","left"],function(idx,pos){el.css(pos,function(_,str){var val=parseInt(str,10),toRef=idx?el.to.left:el.to.top;if(str==="auto")return toRef+"px";return val+toRef+"px"})});$.effects.removeWrapper(el);done()}})}})(jQuery);
(function($,undefined){$.effects.effect.shake=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"effect"),direction=o.direction||"left",distance=o.distance||20,times=o.times||3,anims=times*2+1,speed=Math.round(o.duration/anims),ref=direction==="up"||direction==="down"?"top":"left",positiveMotion=direction==="up"||direction==="left",animation={},animation1={},animation2={},i,queue=el.queue(),queuelen=queue.length;$.effects.save(el,
props);el.show();$.effects.createWrapper(el);animation[ref]=(positiveMotion?"-\x3d":"+\x3d")+distance;animation1[ref]=(positiveMotion?"+\x3d":"-\x3d")+distance*2;animation2[ref]=(positiveMotion?"-\x3d":"+\x3d")+distance*2;el.animate(animation,speed,o.easing);for(i=1;i<times;i++)el.animate(animation1,speed,o.easing).animate(animation2,speed,o.easing);el.animate(animation1,speed,o.easing).animate(animation,speed/2,o.easing).queue(function(){if(mode==="hide")el.hide();$.effects.restore(el,props);$.effects.removeWrapper(el);
done()});if(queuelen>1)queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1)));el.dequeue()}})(jQuery);
(function($,undefined){$.effects.effect.slide=function(o,done){var el=$(this),props=["position","top","bottom","left","right","width","height"],mode=$.effects.setMode(el,o.mode||"show"),show=mode==="show",direction=o.direction||"left",ref=direction==="up"||direction==="down"?"top":"left",positiveMotion=direction==="up"||direction==="left",distance,animation={};$.effects.save(el,props);el.show();distance=o.distance||el[ref==="top"?"outerHeight":"outerWidth"](true);$.effects.createWrapper(el).css({overflow:"hidden"});
if(show)el.css(ref,positiveMotion?isNaN(distance)?"-"+distance:-distance:distance);animation[ref]=(show?positiveMotion?"+\x3d":"-\x3d":positiveMotion?"-\x3d":"+\x3d")+distance;el.animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(mode==="hide")el.hide();$.effects.restore(el,props);$.effects.removeWrapper(el);done()}})}})(jQuery);
(function($,undefined){$.effects.effect.transfer=function(o,done){var elem=$(this),target=$(o.to),targetFixed=target.css("position")==="fixed",body=$("body"),fixTop=targetFixed?body.scrollTop():0,fixLeft=targetFixed?body.scrollLeft():0,endPosition=target.offset(),animation={top:endPosition.top-fixTop,left:endPosition.left-fixLeft,height:target.innerHeight(),width:target.innerWidth()},startPosition=elem.offset(),transfer=$('\x3cdiv class\x3d"ui-effects-transfer"\x3e\x3c/div\x3e').appendTo(document.body).addClass(o.className).css({top:startPosition.top-
fixTop,left:startPosition.left-fixLeft,height:elem.innerHeight(),width:elem.innerWidth(),position:targetFixed?"fixed":"absolute"}).animate(animation,o.duration,o.easing,function(){transfer.remove();done()})}})(jQuery);
(function($,undefined){var mouseHandled=false;$.widget("ui.menu",{version:"1.9.2",defaultElement:"\x3cul\x3e",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+
this.eventNamespace,$.proxy(function(event){if(this.options.disabled)event.preventDefault()},this));if(this.options.disabled)this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item \x3e a":function(event){event.preventDefault()},"click .ui-state-disabled \x3e a":function(event){event.preventDefault()},"click .ui-menu-item:has(a)":function(event){var target=$(event.target).closest(".ui-menu-item");if(!mouseHandled&&target.not(".ui-state-disabled").length){mouseHandled=
true;this.select(event);if(target.has(".ui-menu").length)this.expand(event);else if(!this.element.is(":focus")){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1)clearTimeout(this.timer)}}},"mouseenter .ui-menu-item":function(event){var target=$(event.currentTarget);target.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(event,target)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(event,keepActiveItem){var item=
this.active||this.element.children(".ui-menu-item").eq(0);if(!keepActiveItem)this.focus(event,item)},blur:function(event){this._delay(function(){if(!$.contains(this.element[0],this.document[0].activeElement))this.collapseAll(event)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(event){if(!$(event.target).closest(".ui-menu").length)this.collapseAll(event);mouseHandled=false}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var elem=$(this);if(elem.data("ui-menu-submenu-carat"))elem.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(event){var match,prev,character,skip,regex,
preventDefault=true;function escape(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")}switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move("first","first",event);break;case $.ui.keyCode.END:this._move("last","last",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;
case $.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled"))this.expand(event);break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=false;prev=this.previousFilter||"";character=String.fromCharCode(event.keyCode);skip=false;clearTimeout(this.filterTimer);if(character===prev)skip=true;else character=prev+character;regex=new RegExp("^"+escape(character),"i");match=this.activeMenu.children(".ui-menu-item").filter(function(){return regex.test($(this).children("a").text())});
match=skip&&match.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):match;if(!match.length){character=String.fromCharCode(event.keyCode);regex=new RegExp("^"+escape(character),"i");match=this.activeMenu.children(".ui-menu-item").filter(function(){return regex.test($(this).children("a").text())})}if(match.length){this.focus(event,match);if(match.length>1){this.previousFilter=character;this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)}else delete this.previousFilter}else delete this.previousFilter}if(preventDefault)event.preventDefault()},
_activate:function(event){if(!this.active.is(".ui-state-disabled"))if(this.active.children("a[aria-haspopup\x3d'true']").length)this.expand(event);else this.select(event)},refresh:function(){var menus,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);submenus.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var menu=$(this),item=menu.prev("a"),
submenuCarat=$("\x3cspan\x3e").addClass("ui-menu-icon ui-icon "+icon).data("ui-menu-submenu-carat",true);item.attr("aria-haspopup","true").prepend(submenuCarat);menu.attr("aria-labelledby",item.attr("id"))});menus=submenus.add(this.element);menus.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});menus.children(":not(.ui-menu-item)").each(function(){var item=$(this);
if(!/[^\-\u2014\u2013\s]/.test(item.text()))item.addClass("ui-widget-content ui-menu-divider")});menus.children(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!$.contains(this.element[0],this.active[0]))this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(event,item){var nested,focused;this.blur(event,event&&event.type==="focus");this._scrollIntoView(item);this.active=item.first();focused=this.active.children("a").addClass("ui-state-focus");
if(this.options.role)this.element.attr("aria-activedescendant",focused.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");if(event&&event.type==="keydown")this._close();else this.timer=this._delay(function(){this._close()},this.delay);nested=item.children(".ui-menu");if(nested.length&&/^mouse/.test(event.type))this._startOpening(nested);this.activeMenu=item.parent();this._trigger("focus",event,{item:item})},_scrollIntoView:function(item){var borderTop,
paddingTop,offset,scroll,elementHeight,itemHeight;if(this._hasScroll()){borderTop=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0;paddingTop=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0;offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop;scroll=this.activeMenu.scrollTop();elementHeight=this.activeMenu.height();itemHeight=item.height();if(offset<0)this.activeMenu.scrollTop(scroll+offset);else if(offset+itemHeight>elementHeight)this.activeMenu.scrollTop(scroll+
offset-elementHeight+itemHeight)}},blur:function(event,fromFocus){if(!fromFocus)clearTimeout(this.timer);if(!this.active)return;this.active.children("a").removeClass("ui-state-focus");this.active=null;this._trigger("blur",event,{item:this.active})},_startOpening:function(submenu){clearTimeout(this.timer);if(submenu.attr("aria-hidden")!=="true")return;this.timer=this._delay(function(){this._close();this._open(submenu)},this.delay)},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);
clearTimeout(this.timer);this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden","true");submenu.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(position)},collapseAll:function(event,all){clearTimeout(this.timer);this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(".ui-menu"));if(!currentMenu.length)currentMenu=this.element;this._close(currentMenu);this.blur(event);this.activeMenu=
currentMenu},this.delay)},_close:function(startMenu){if(!startMenu)startMenu=this.active?this.active.parent():this.element;startMenu.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(event){var newItem=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(newItem&&newItem.length){this._close();this.focus(event,newItem)}},expand:function(event){var newItem=this.active&&
this.active.children(".ui-menu ").children(".ui-menu-item").first();if(newItem&&newItem.length){this._open(newItem.parent());this._delay(function(){this.focus(event,newItem)})}},next:function(event){this._move("next","first",event)},previous:function(event){this._move("prev","last",event)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(direction,filter,event){var next;
if(this.active)if(direction==="first"||direction==="last")next=this.active[direction==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1);else next=this.active[direction+"All"](".ui-menu-item").eq(0);if(!next||!next.length||!this.active)next=this.activeMenu.children(".ui-menu-item")[filter]();this.focus(event,next)},nextPage:function(event){var item,base,height;if(!this.active){this.next(event);return}if(this.isLastItem())return;if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();
this.active.nextAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base-height<0});this.focus(event,item)}else this.focus(event,this.activeMenu.children(".ui-menu-item")[!this.active?"first":"last"]())},previousPage:function(event){var item,base,height;if(!this.active){this.next(event);return}if(this.isFirstItem())return;if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-
base+height>0});this.focus(event,item)}else this.focus(event,this.activeMenu.children(".ui-menu-item").first())},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(event){this.active=this.active||$(event.target).closest(".ui-menu-item");var ui={item:this.active};if(!this.active.has(".ui-menu").length)this.collapseAll(event,true);this._trigger("select",event,ui)}})})(jQuery);
(function($,undefined){$.ui=$.ui||{};var cachedScrollbarWidth,max=Math.max,abs=Math.abs,round=Math.round,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(offsets,width,height){return[parseInt(offsets[0],10)*(rpercent.test(offsets[0])?width/100:1),parseInt(offsets[1],10)*(rpercent.test(offsets[1])?height/100:1)]}function parseCss(element,property){return parseInt($.css(element,property),10)||
0}$.position={scrollbarWidth:function(){if(cachedScrollbarWidth!==undefined)return cachedScrollbarWidth;var w1,w2,div=$("\x3cdiv style\x3d'display:block;width:50px;height:50px;overflow:hidden;'\x3e\x3cdiv style\x3d'height:100px;width:auto;'\x3e\x3c/div\x3e\x3c/div\x3e"),innerDiv=div.children()[0];$("body").append(div);w1=innerDiv.offsetWidth;div.css("overflow","scroll");w2=innerDiv.offsetWidth;if(w1===w2)w2=div[0].clientWidth;div.remove();return cachedScrollbarWidth=w1-w2},getScrollInfo:function(within){var overflowX=
within.isWindow?"":within.element.css("overflow-x"),overflowY=within.isWindow?"":within.element.css("overflow-y"),hasOverflowX=overflowX==="scroll"||overflowX==="auto"&&within.width<within.element[0].scrollWidth,hasOverflowY=overflowY==="scroll"||overflowY==="auto"&&within.height<within.element[0].scrollHeight;return{width:hasOverflowX?$.position.scrollbarWidth():0,height:hasOverflowY?$.position.scrollbarWidth():0}},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]);
return{element:withinElement,isWindow:isWindow,offset:withinElement.offset()||{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:isWindow?withinElement.width():withinElement.outerWidth(),height:isWindow?withinElement.height():withinElement.outerHeight()}}};$.fn.position=function(options){if(!options||!options.of)return _position.apply(this,arguments);options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,target=$(options.of),
within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),targetElem=target[0],collision=(options.collision||"flip").split(" "),offsets={};if(targetElem.nodeType===9){targetWidth=target.width();targetHeight=target.height();targetOffset={top:0,left:0}}else if($.isWindow(targetElem)){targetWidth=target.width();targetHeight=target.height();targetOffset={top:target.scrollTop(),left:target.scrollLeft()}}else if(targetElem.preventDefault){options.at="left top";targetWidth=
targetHeight=0;targetOffset={top:targetElem.pageY,left:targetElem.pageX}}else{targetWidth=target.outerWidth();targetHeight=target.outerHeight();targetOffset=target.offset()}basePosition=$.extend({},targetOffset);$.each(["my","at"],function(){var pos=(options[this]||"").split(" "),horizontalOffset,verticalOffset;if(pos.length===1)pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"];pos[0]=rhorizontal.test(pos[0])?pos[0]:"center";pos[1]=
rvertical.test(pos[1])?pos[1]:"center";horizontalOffset=roffset.exec(pos[0]);verticalOffset=roffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]]});if(collision.length===1)collision[1]=collision[0];if(options.at[0]==="right")basePosition.left+=targetWidth;else if(options.at[0]==="center")basePosition.left+=targetWidth/2;if(options.at[1]==="bottom")basePosition.top+=targetHeight;
else if(options.at[1]==="center")basePosition.top+=targetHeight/2;atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+
parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==="right")position.left-=elemWidth;else if(options.my[0]==="center")position.left-=elemWidth/2;if(options.my[1]==="bottom")position.top-=elemHeight;else if(options.my[1]==="center")position.top-=elemHeight/2;position.left+=myOffset[0];position.top+=myOffset[1];if(!$.support.offsetFractions){position.left=round(position.left);position.top=
round(position.top)}collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]])$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem})});if($.fn.bgiframe)elem.bgiframe();
if(options.using)using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};if(targetWidth<
elemWidth&&abs(left+right)<targetWidth)feedback.horizontal="center";if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight)feedback.vertical="middle";if(max(abs(left),abs(right))>max(abs(top),abs(bottom)))feedback.important="horizontal";else feedback.important="vertical";options.using.call(this,props,feedback)};elem.offset($.extend(position,{using:using}))})};$.ui.position={fit:{left:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,
outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>outerWidth)if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight}else if(overRight>0&&overLeft<=0)position.left=withinOffset;else if(overLeft>overRight)position.left=withinOffset+
outerWidth-data.collisionWidth;else position.left=withinOffset;else if(overLeft>0)position.left+=overLeft;else if(overRight>0)position.left-=overRight;else position.left=max(position.left-collisionPosLeft,position.left)},top:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-
outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight)if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom}else if(overBottom>0&&overTop<=0)position.top=withinOffset;else if(overTop>overBottom)position.top=withinOffset+outerHeight-data.collisionHeight;else position.top=withinOffset;else if(overTop>0)position.top+=overTop;else if(overBottom>0)position.top-=overBottom;else position.top=
max(position.top-collisionPosTop,position.top)}},flip:{left:function(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=
data.at[0]==="left"?data.targetWidth:data.at[0]==="right"?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft))position.left+=myOffset+atOffset+offset}else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight)position.left+=
myOffset+atOffset+offset}},top:function(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==="top",myOffset=top?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:
data.at[1]==="bottom"?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if(position.top+myOffset+atOffset+offset>overTop&&(newOverBottom<0||newOverBottom<abs(overTop)))position.top+=myOffset+atOffset+offset}else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if(position.top+myOffset+atOffset+offset>overBottom&&
(newOverTop>0||abs(newOverTop)<overBottom))position.top+=myOffset+atOffset+offset}}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments);$.ui.position.fit.left.apply(this,arguments)},top:function(){$.ui.position.flip.top.apply(this,arguments);$.ui.position.fit.top.apply(this,arguments)}}};(function(){var testElement,testElementParent,testElementStyle,offsetLeft,i,body=document.getElementsByTagName("body")[0],div=document.createElement("div");testElement=document.createElement(body?
"div":"body");testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(body)$.extend(testElementStyle,{position:"absolute",left:"-1000px",top:"-1000px"});for(i in testElementStyle)testElement.style[i]=testElementStyle[i];testElement.appendChild(div);testElementParent=body||document.documentElement;testElementParent.insertBefore(testElement,testElementParent.firstChild);div.style.cssText="position: absolute; left: 10.7432222px;";offsetLeft=$(div).offset().left;
$.support.offsetFractions=offsetLeft>10&&offsetLeft<11;testElement.innerHTML="";testElementParent.removeChild(testElement)})();if($.uiBackCompat!==false)(function($){var _position=$.fn.position;$.fn.position=function(options){if(!options||!options.offset)return _position.call(this,options);var offset=options.offset.split(" "),at=options.at.split(" ");if(offset.length===1)offset[1]=offset[0];if(/^\d/.test(offset[0]))offset[0]="+"+offset[0];if(/^\d/.test(offset[1]))offset[1]="+"+offset[1];if(at.length===
1)if(/left|center|right/.test(at[0]))at[1]="center";else{at[1]=at[0];at[0]="center"}return _position.call(this,$.extend(options,{at:at[0]+offset[0]+" "+at[1]+offset[1],offset:undefined}))}})(jQuery)})(jQuery);
(function($,undefined){$.widget("ui.progressbar",{version:"1.9.2",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()});this.valueDiv=$("\x3cdiv class\x3d'ui-progressbar-value ui-widget-header ui-corner-left'\x3e\x3c/div\x3e").appendTo(this.element);this.oldValue=this._value();this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove()},value:function(newValue){if(newValue===undefined)return this._value();this._setOption("value",newValue);return this},_setOption:function(key,value){if(key==="value"){this.options.value=value;this._refreshValue();if(this._value()===this.options.max)this._trigger("complete")}this._super(key,value)},_value:function(){var val=this.options.value;if(typeof val!=="number")val=0;return Math.min(this.options.max,Math.max(this.min,val))},_percentage:function(){return 100*this._value()/
this.options.max},_refreshValue:function(){var value=this.value(),percentage=this._percentage();if(this.oldValue!==value){this.oldValue=value;this._trigger("change")}this.valueDiv.toggle(value>this.min).toggleClass("ui-corner-right",value===this.options.max).width(percentage.toFixed(0)+"%");this.element.attr("aria-valuenow",value)}})})(jQuery);
(function($,undefined){var numPages=5;$.widget("ui.slider",$.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var i,handleCount,o=this.options,existingHandles=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),handle="\x3ca class\x3d'ui-slider-handle ui-state-default ui-corner-all' href\x3d'#'\x3e\x3c/a\x3e",handles=[];this._keySliding=
false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider"+" ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(o.disabled?" ui-slider-disabled ui-disabled":""));this.range=$([]);if(o.range){if(o.range===true){if(!o.values)o.values=[this._valueMin(),this._valueMin()];if(o.values.length&&o.values.length!==2)o.values=[o.values[0],o.values[0]]}this.range=$("\x3cdiv\x3e\x3c/div\x3e").appendTo(this.element).addClass("ui-slider-range"+
" ui-widget-header"+(o.range==="min"||o.range==="max"?" ui-slider-range-"+o.range:""))}handleCount=o.values&&o.values.length||1;for(i=existingHandles.length;i<handleCount;i++)handles.push(handle);this.handles=existingHandles.add($(handles.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(event){event.preventDefault()}).mouseenter(function(){if(!o.disabled)$(this).addClass("ui-state-hover")}).mouseleave(function(){$(this).removeClass("ui-state-hover")}).focus(function(){if(!o.disabled){$(".ui-slider .ui-state-focus").removeClass("ui-state-focus");
$(this).addClass("ui-state-focus")}else $(this).blur()}).blur(function(){$(this).removeClass("ui-state-focus")});this.handles.each(function(i){$(this).data("ui-slider-handle-index",i)});this._on(this.handles,{keydown:function(event){var allowed,curVal,newVal,step,index=$(event.target).data("ui-slider-handle-index");switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:event.preventDefault();
if(!this._keySliding){this._keySliding=true;$(event.target).addClass("ui-state-active");allowed=this._start(event,index);if(allowed===false)return}break}step=this.options.step;if(this.options.values&&this.options.values.length)curVal=newVal=this.values(index);else curVal=newVal=this.value();switch(event.keyCode){case $.ui.keyCode.HOME:newVal=this._valueMin();break;case $.ui.keyCode.END:newVal=this._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=this._trimAlignValue(curVal+(this._valueMax()-this._valueMin())/
numPages);break;case $.ui.keyCode.PAGE_DOWN:newVal=this._trimAlignValue(curVal-(this._valueMax()-this._valueMin())/numPages);break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===this._valueMax())return;newVal=this._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===this._valueMin())return;newVal=this._trimAlignValue(curVal-step);break}this._slide(event,index,newVal)},keyup:function(event){var index=$(event.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=
false;this._stop(event,index);this._change(event,index);$(event.target).removeClass("ui-state-active")}}});this._refreshValue();this._animateOff=false},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider"+" ui-slider-horizontal"+" ui-slider-vertical"+" ui-slider-disabled"+" ui-widget"+" ui-widget-content"+" ui-corner-all");this._mouseDestroy()},_mouseCapture:function(event){var position,normValue,distance,closestHandle,index,allowed,offset,mouseOverHandle,
that=this,o=this.options;if(o.disabled)return false;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();position={x:event.pageX,y:event.pageY};normValue=this._normValueFromMouse(position);distance=this._valueMax()-this._valueMin()+1;this.handles.each(function(i){var thisDistance=Math.abs(normValue-that.values(i));if(distance>thisDistance){distance=thisDistance;closestHandle=$(this);index=i}});if(o.range===true&&this.values(1)===
o.min){index+=1;closestHandle=$(this.handles[index])}allowed=this._start(event,index);if(allowed===false)return false;this._mouseSliding=true;this._handleIndex=index;closestHandle.addClass("ui-state-active").focus();offset=closestHandle.offset();mouseOverHandle=!$(event.target).parents().andSelf().is(".ui-slider-handle");this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-closestHandle.width()/2,top:event.pageY-offset.top-closestHandle.height()/2-(parseInt(closestHandle.css("borderTopWidth"),
10)||0)-(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+(parseInt(closestHandle.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover"))this._slide(event,index,normValue);this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);this._slide(event,this._handleIndex,normValue);return false},_mouseStop:function(event){this.handles.removeClass("ui-state-active");
this._mouseSliding=false;this._stop(event,this._handleIndex);this._change(event,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;if(this.orientation==="horizontal"){pixelTotal=this.elementSize.width;pixelMouse=position.x-this.elementOffset.left-
(this._clickOffset?this._clickOffset.left:0)}else{pixelTotal=this.elementSize.height;pixelMouse=position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}percentMouse=pixelMouse/pixelTotal;if(percentMouse>1)percentMouse=1;if(percentMouse<0)percentMouse=0;if(this.orientation==="vertical")percentMouse=1-percentMouse;valueTotal=this._valueMax()-this._valueMin();valueMouse=this._valueMin()+percentMouse*valueTotal;return this._trimAlignValue(valueMouse)},_start:function(event,index){var uiHash=
{handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values()}return this._trigger("start",event,uiHash)},_slide:function(event,index,newVal){var otherVal,newValues,allowed;if(this.options.values&&this.options.values.length){otherVal=this.values(index?0:1);if(this.options.values.length===2&&this.options.range===true&&(index===0&&newVal>otherVal||index===1&&newVal<otherVal))newVal=otherVal;if(newVal!==
this.values(index)){newValues=this.values();newValues[index]=newVal;allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal,values:newValues});otherVal=this.values(index?0:1);if(allowed!==false)this.values(index,newVal,true)}}else if(newVal!==this.value()){allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal});if(allowed!==false)this.value(newVal)}},_stop:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&
this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values()}this._trigger("stop",event,uiHash)},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values()}this._trigger("change",event,uiHash)}},value:function(newValue){if(arguments.length){this.options.value=this._trimAlignValue(newValue);
this._refreshValue();this._change(null,0);return}return this._value()},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1){this.options.values[index]=this._trimAlignValue(newValue);this._refreshValue();this._change(null,index);return}if(arguments.length)if($.isArray(arguments[0])){vals=this.options.values;newValues=arguments[0];for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(newValues[i]);this._change(null,i)}this._refreshValue()}else if(this.options.values&&this.options.values.length)return this._values(index);
else return this.value();else return this._values()},_setOption:function(key,value){var i,valsLength=0;if($.isArray(this.options.values))valsLength=this.options.values.length;$.Widget.prototype._setOption.apply(this,arguments);switch(key){case "disabled":if(value){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.prop("disabled",true);this.element.addClass("ui-disabled")}else{this.handles.prop("disabled",false);this.element.removeClass("ui-disabled")}break;
case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case "value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case "values":this._animateOff=true;this._refreshValue();for(i=0;i<valsLength;i+=1)this._change(null,i);this._animateOff=false;break;case "min":case "max":this._animateOff=true;this._refreshValue();this._animateOff=
false;break}},_value:function(){var val=this.options.value;val=this._trimAlignValue(val);return val},_values:function(index){var val,vals,i;if(arguments.length){val=this.options.values[index];val=this._trimAlignValue(val);return val}else{vals=this.options.values.slice();for(i=0;i<vals.length;i+=1)vals[i]=this._trimAlignValue(vals[i]);return vals}},_trimAlignValue:function(val){if(val<=this._valueMin())return this._valueMin();if(val>=this._valueMax())return this._valueMax();var step=this.options.step>
0?this.options.step:1,valModStep=(val-this._valueMin())%step,alignValue=val-valModStep;if(Math.abs(valModStep)*2>=step)alignValue+=valModStep>0?step:-step;return parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var lastValPercent,valPercent,value,valueMin,valueMax,oRange=this.options.range,o=this.options,that=this,animate=!this._animateOff?o.animate:false,_set={};if(this.options.values&&this.options.values.length)this.handles.each(function(i){valPercent=
(that.values(i)-that._valueMin())/(that._valueMax()-that._valueMin())*100;_set[that.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate);if(that.options.range===true)if(that.orientation==="horizontal"){if(i===0)that.range.stop(1,1)[animate?"animate":"css"]({left:valPercent+"%"},o.animate);if(i===1)that.range[animate?"animate":"css"]({width:valPercent-lastValPercent+"%"},{queue:false,duration:o.animate})}else{if(i===0)that.range.stop(1,
1)[animate?"animate":"css"]({bottom:valPercent+"%"},o.animate);if(i===1)that.range[animate?"animate":"css"]({height:valPercent-lastValPercent+"%"},{queue:false,duration:o.animate})}lastValPercent=valPercent});else{value=this.value();valueMin=this._valueMin();valueMax=this._valueMax();valPercent=valueMax!==valueMin?(value-valueMin)/(valueMax-valueMin)*100:0;_set[this.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate);if(oRange===
"min"&&this.orientation==="horizontal")this.range.stop(1,1)[animate?"animate":"css"]({width:valPercent+"%"},o.animate);if(oRange==="max"&&this.orientation==="horizontal")this.range[animate?"animate":"css"]({width:100-valPercent+"%"},{queue:false,duration:o.animate});if(oRange==="min"&&this.orientation==="vertical")this.range.stop(1,1)[animate?"animate":"css"]({height:valPercent+"%"},o.animate);if(oRange==="max"&&this.orientation==="vertical")this.range[animate?"animate":"css"]({height:100-valPercent+
"%"},{queue:false,duration:o.animate})}}})})(jQuery);
(function($){function modifier(fn){return function(){var previous=this.element.val();fn.apply(this,arguments);this._refresh();if(previous!==this.element.val())this._trigger("change")}}$.widget("ui.spinner",{version:"1.9.2",defaultElement:"\x3cinput\x3e",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",
this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),true);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var options={},element=this.element;$.each(["min","max","step"],function(i,option){var value=element.attr(option);if(value!==undefined&&value.length)options[option]=value});return options},_events:{keydown:function(event){if(this._start(event)&&
this._keydown(event))event.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return}this._refresh();if(this.previous!==this.element.val())this._trigger("change",event)},mousewheel:function(event,delta){if(!delta)return;if(!this.spinning&&!this._start(event))return false;this._spin((delta>0?1:-1)*this.options.step,event);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning)this._stop(event)},
100);event.preventDefault()},"mousedown .ui-spinner-button":function(event){var previous;previous=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();function checkFocus(){var isActive=this.element[0]===this.document[0].activeElement;if(!isActive){this.element.focus();this.previous=previous;this._delay(function(){this.previous=previous})}}event.preventDefault();checkFocus.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;checkFocus.call(this)});
if(this._start(event)===false)return;this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(event){if(!$(event.currentTarget).hasClass("ui-state-active"))return;if(this._start(event)===false)return false;this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var uiSpinner=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete",
"off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=uiSpinner.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");if(this.buttons.height()>Math.ceil(uiSpinner.height()*.5)&&uiSpinner.height()>0)uiSpinner.height(uiSpinner.height());if(this.options.disabled)this.disable()},_keydown:function(event){var options=this.options,keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.UP:this._repeat(null,
1,event);return true;case keyCode.DOWN:this._repeat(null,-1,event);return true;case keyCode.PAGE_UP:this._repeat(null,options.page,event);return true;case keyCode.PAGE_DOWN:this._repeat(null,-options.page,event);return true}return false},_uiSpinnerHtml:function(){return"\x3cspan class\x3d'ui-spinner ui-widget ui-widget-content ui-corner-all'\x3e\x3c/span\x3e"},_buttonHtml:function(){return""+"\x3ca class\x3d'ui-spinner-button ui-spinner-up ui-corner-tr'\x3e"+"\x3cspan class\x3d'ui-icon "+this.options.icons.up+
"'\x3e\x26#9650;\x3c/span\x3e"+"\x3c/a\x3e"+"\x3ca class\x3d'ui-spinner-button ui-spinner-down ui-corner-br'\x3e"+"\x3cspan class\x3d'ui-icon "+this.options.icons.down+"'\x3e\x26#9660;\x3c/span\x3e"+"\x3c/a\x3e"},_start:function(event){if(!this.spinning&&this._trigger("start",event)===false)return false;if(!this.counter)this.counter=1;this.spinning=true;return true},_repeat:function(i,steps,event){i=i||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,steps,event)},i);
this._spin(steps*this.options.step,event)},_spin:function(step,event){var value=this.value()||0;if(!this.counter)this.counter=1;value=this._adjustValue(value+step*this._increment(this.counter));if(!this.spinning||this._trigger("spin",event,{value:value})!==false){this._value(value);this.counter++}},_increment:function(i){var incremental=this.options.incremental;if(incremental)return $.isFunction(incremental)?incremental(i):Math.floor(i*i*i/5E4-i*i/500+17*i/200+1);return 1},_precision:function(){var precision=
this._precisionOf(this.options.step);if(this.options.min!==null)precision=Math.max(precision,this._precisionOf(this.options.min));return precision},_precisionOf:function(num){var str=num.toString(),decimal=str.indexOf(".");return decimal===-1?0:str.length-decimal-1},_adjustValue:function(value){var base,aboveMin,options=this.options;base=options.min!==null?options.min:0;aboveMin=value-base;aboveMin=Math.round(aboveMin/options.step)*options.step;value=base+aboveMin;value=parseFloat(value.toFixed(this._precision()));
if(options.max!==null&&value>options.max)return options.max;if(options.min!==null&&value<options.min)return options.min;return value},_stop:function(event){if(!this.spinning)return;clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",event)},_setOption:function(key,value){if(key==="culture"||key==="numberFormat"){var prevValue=this._parse(this.element.val());this.options[key]=value;this.element.val(this._format(prevValue));return}if(key===
"max"||key==="min"||key==="step")if(typeof value==="string")value=this._parse(value);this._super(key,value);if(key==="disabled")if(value){this.element.prop("disabled",true);this.buttons.button("disable")}else{this.element.prop("disabled",false);this.buttons.button("enable")}},_setOptions:modifier(function(options){this._super(options);this._value(this.element.val())}),_parse:function(val){if(typeof val==="string"&&val!=="")val=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(val,10,
this.options.culture):+val;return val===""||isNaN(val)?null:val},_format:function(value){if(value==="")return"";return window.Globalize&&this.options.numberFormat?Globalize.format(value,this.options.numberFormat,this.options.culture):value},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(value,allowAny){var parsed;if(value!==""){parsed=this._parse(value);if(parsed!==null){if(!allowAny)parsed=
this._adjustValue(parsed);value=this._format(parsed)}}this.element.val(value);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",false).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:modifier(function(steps){this._stepUp(steps)}),_stepUp:function(steps){this._spin((steps||1)*this.options.step)},stepDown:modifier(function(steps){this._stepDown(steps)}),
_stepDown:function(steps){this._spin((steps||1)*-this.options.step)},pageUp:modifier(function(pages){this._stepUp((pages||1)*this.options.page)}),pageDown:modifier(function(pages){this._stepDown((pages||1)*this.options.page)}),value:function(newVal){if(!arguments.length)return this._parse(this.element.val());modifier(this._value).call(this,newVal)},widget:function(){return this.uiSpinner}})})(jQuery);
(function($,undefined){var tabId=0,rhash=/#.*$/;function getNextTabId(){return++tabId}function isLocal(anchor){return anchor.hash.length>1&&anchor.href.replace(rhash,"")===location.href.replace(rhash,"").replace(/\s/g,"%20")}$.widget("ui.tabs",{version:"1.9.2",delay:300,options:{active:null,collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var that=this,options=this.options,active=options.active,
locationHash=location.hash.substring(1);this.running=false;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",options.collapsible).delegate(".ui-tabs-nav \x3e li","mousedown"+this.eventNamespace,function(event){if($(this).is(".ui-state-disabled"))event.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){if($(this).closest("li").is(".ui-state-disabled"))this.blur()});this._processTabs();if(active===null){if(locationHash)this.tabs.each(function(i,
tab){if($(tab).attr("aria-controls")===locationHash){active=i;return false}});if(active===null)active=this.tabs.index(this.tabs.filter(".ui-tabs-active"));if(active===null||active===-1)active=this.tabs.length?0:false}if(active!==false){active=this.tabs.index(this.tabs.eq(active));if(active===-1)active=options.collapsible?false:0}options.active=active;if(!options.collapsible&&options.active===false&&this.anchors.length)options.active=0;if($.isArray(options.disabled))options.disabled=$.unique(options.disabled.concat($.map(this.tabs.filter(".ui-state-disabled"),
function(li){return that.tabs.index(li)}))).sort();if(this.options.active!==false&&this.anchors.length)this.active=this._findActive(this.options.active);else this.active=$();this._refresh();if(this.active.length)this.load(options.active)},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?$():this._getPanelForTab(this.active)}},_tabKeydown:function(event){var focusedTab=$(this.document[0].activeElement).closest("li"),selectedIndex=this.tabs.index(focusedTab),goingForward=
true;if(this._handlePageNav(event))return;switch(event.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:selectedIndex++;break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:goingForward=false;selectedIndex--;break;case $.ui.keyCode.END:selectedIndex=this.anchors.length-1;break;case $.ui.keyCode.HOME:selectedIndex=0;break;case $.ui.keyCode.SPACE:event.preventDefault();clearTimeout(this.activating);this._activate(selectedIndex);return;case $.ui.keyCode.ENTER:event.preventDefault();clearTimeout(this.activating);
this._activate(selectedIndex===this.options.active?false:selectedIndex);return;default:return}event.preventDefault();clearTimeout(this.activating);selectedIndex=this._focusNextTab(selectedIndex,goingForward);if(!event.ctrlKey){focusedTab.attr("aria-selected","false");this.tabs.eq(selectedIndex).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",selectedIndex)},this.delay)}},_panelKeydown:function(event){if(this._handlePageNav(event))return;if(event.ctrlKey&&event.keyCode===
$.ui.keyCode.UP){event.preventDefault();this.active.focus()}},_handlePageNav:function(event){if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(index,goingForward){var lastTabIndex=this.tabs.length-1;function constrain(){if(index>lastTabIndex)index=0;if(index<0)index=
lastTabIndex;return index}while($.inArray(constrain(),this.options.disabled)!==-1)index=goingForward?index+1:index-1;return index},_focusNextTab:function(index,goingForward){index=this._findNextTab(index,goingForward);this.tabs.eq(index).focus();return index},_setOption:function(key,value){if(key==="active"){this._activate(value);return}if(key==="disabled"){this._setupDisabled(value);return}this._super(key,value);if(key==="collapsible"){this.element.toggleClass("ui-tabs-collapsible",value);if(!value&&
this.options.active===false)this._activate(0)}if(key==="event")this._setupEvents(value);if(key==="heightStyle")this._setupHeightStyle(value)},_tabId:function(tab){return tab.attr("aria-controls")||"ui-tabs-"+getNextTabId()},_sanitizeSelector:function(hash){return hash?hash.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$\x26"):""},refresh:function(){var options=this.options,lis=this.tablist.children(":has(a[href])");options.disabled=$.map(lis.filter(".ui-state-disabled"),function(tab){return lis.index(tab)});
this._processTabs();if(options.active===false||!this.anchors.length){options.active=false;this.active=$()}else if(this.active.length&&!$.contains(this.tablist[0],this.active[0]))if(this.tabs.length===options.disabled.length){options.active=false;this.active=$()}else this._activate(this._findNextTab(Math.max(0,options.active-1),false));else options.active=this.tabs.index(this.active);this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);
this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});if(!this.active.length)this.tabs.eq(0).attr("tabIndex",0);else{this.active.addClass("active").attr({"aria-selected":"true",tabIndex:0});this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})}},_processTabs:function(){var that=this;
this.tablist=this._getList().addClass("nav nav-tabs").attr("role","tablist");this.tabs=this.tablist.find("\x3e li:has(a[href])").addClass("").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return $("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=$();this.anchors.each(function(i,anchor){var selector,panel,panelId,anchorId=$(anchor).uniqueId().attr("id"),tab=$(anchor).closest("li"),originalAriaControls=tab.attr("aria-controls");if(isLocal(anchor)){selector=
anchor.hash;panel=that.element.find(that._sanitizeSelector(selector))}else{panelId=that._tabId(tab);selector="#"+panelId;panel=that.element.find(selector);if(!panel.length){panel=that._createPanel(panelId);panel.insertAfter(that.panels[i-1]||that.tablist)}panel.attr("aria-live","polite")}if(panel.length)that.panels=that.panels.add(panel);if(originalAriaControls)tab.data("ui-tabs-aria-controls",originalAriaControls);tab.attr({"aria-controls":selector.substring(1),"aria-labelledby":anchorId});panel.attr("aria-labelledby",
anchorId)});this.panels.addClass("").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(id){return $("\x3cdiv\x3e").attr("id",id).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true)},_setupDisabled:function(disabled){if($.isArray(disabled))if(!disabled.length)disabled=false;else if(disabled.length===this.anchors.length)disabled=true;for(var i=0,li;li=this.tabs[i];i++)if(disabled===true||$.inArray(i,disabled)!==
-1)$(li).addClass("ui-state-disabled").attr("aria-disabled","true");else $(li).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=disabled},_setupEvents:function(event){var events={click:function(event){event.preventDefault()}};if(event)$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,events);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,
{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(heightStyle){var maxHeight,overflow,parent=this.element.parent();if(heightStyle==="fill"){if(!$.support.minHeight){overflow=parent.css("overflow");parent.css("overflow","hidden")}maxHeight=parent.height();this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");if(position==="absolute"||position==="fixed")return;maxHeight-=elem.outerHeight(true)});if(overflow)parent.css("overflow",
overflow);this.element.children().not(this.panels).each(function(){maxHeight-=$(this).outerHeight(true)});this.panels.each(function(){$(this).height(Math.max(0,maxHeight-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")}else if(heightStyle==="auto"){maxHeight=0;this.panels.each(function(){maxHeight=Math.max(maxHeight,$(this).height("").height())}).height(maxHeight)}},_eventHandler:function(event){var options=this.options,active=this.active,anchor=$(event.currentTarget),tab=anchor.closest("li"),
clickedIsActive=tab[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():this._getPanelForTab(tab),toHide=!active.length?$():this._getPanelForTab(active),eventData={oldTab:active,oldPanel:toHide,newTab:collapsing?$():tab,newPanel:toShow};event.preventDefault();if(tab.hasClass("ui-state-disabled")||tab.hasClass("ui-tabs-loading")||this.running||clickedIsActive&&!options.collapsible||this._trigger("beforeActivate",event,eventData)===false)return;options.active=collapsing?
false:this.tabs.index(tab);this.active=clickedIsActive?$():tab;if(this.xhr)this.xhr.abort();if(!toHide.length&&!toShow.length)$.error("jQuery UI Tabs: Mismatching fragment identifier.");if(toShow.length)this.load(this.tabs.index(tab),event);this._toggle(event,eventData)},_toggle:function(event,eventData){var that=this,toShow=eventData.newPanel,toHide=eventData.oldPanel;this.running=true;function complete(){that.running=false;that._trigger("activate",event,eventData)}function show(){eventData.newTab.closest("li").addClass("active");
if(toShow.length&&that.options.show)that._show(toShow,that.options.show,complete);else{toShow.show();complete()}}if(toHide.length&&this.options.hide)this._hide(toHide,this.options.hide,function(){eventData.oldTab.closest("li").removeClass("active");show()});else{eventData.oldTab.closest("li").removeClass("active");toHide.hide();show()}toHide.attr({"aria-expanded":"false","aria-hidden":"true"});eventData.oldTab.attr("aria-selected","false");if(toShow.length&&toHide.length)eventData.oldTab.attr("tabIndex",
-1);else if(toShow.length)this.tabs.filter(function(){return $(this).attr("tabIndex")===0}).attr("tabIndex",-1);toShow.attr({"aria-expanded":"true","aria-hidden":"false"});eventData.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(index){var anchor,active=this._findActive(index);if(active[0]===this.active[0])return;if(!active.length)active=this.active;anchor=active.find(".ui-tabs-anchor")[0];this._eventHandler({target:anchor,currentTarget:anchor,preventDefault:$.noop})},_findActive:function(index){return index===
false?$():this.tabs.eq(index)},_getIndex:function(index){if(typeof index==="string")index=this.anchors.index(this.anchors.filter("[href$\x3d'"+index+"']"));return index},_destroy:function(){if(this.xhr)this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId();
this.tabs.add(this.panels).each(function(){if($.data(this,"ui-tabs-destroy"))$(this).remove();else $(this).removeClass("ui-state-default ui-state-active ui-state-disabled "+"ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var li=$(this),prev=
li.data("ui-tabs-aria-controls");if(prev)li.attr("aria-controls",prev);else li.removeAttr("aria-controls")});this.panels.show();if(this.options.heightStyle!=="content")this.panels.css("height","")},enable:function(index){var disabled=this.options.disabled;if(disabled===false)return;if(index===undefined)disabled=false;else{index=this._getIndex(index);if($.isArray(disabled))disabled=$.map(disabled,function(num){return num!==index?num:null});else disabled=$.map(this.tabs,function(li,num){return num!==
index?num:null})}this._setupDisabled(disabled)},disable:function(index){var disabled=this.options.disabled;if(disabled===true)return;if(index===undefined)disabled=true;else{index=this._getIndex(index);if($.inArray(index,disabled)!==-1)return;if($.isArray(disabled))disabled=$.merge([index],disabled).sort();else disabled=[index]}this._setupDisabled(disabled)},load:function(index,event){index=this._getIndex(index);var that=this,tab=this.tabs.eq(index),anchor=tab.find(".ui-tabs-anchor"),panel=this._getPanelForTab(tab),
eventData={tab:tab,panel:panel};if(isLocal(anchor[0]))return;this.xhr=$.ajax(this._ajaxSettings(anchor,event,eventData));if(this.xhr&&this.xhr.statusText!=="canceled"){tab.addClass("ui-tabs-loading");panel.attr("aria-busy","true");this.xhr.success(function(response){setTimeout(function(){panel.html(response);that._trigger("load",event,eventData)},1)}).complete(function(jqXHR,status){setTimeout(function(){if(status==="abort")that.panels.stop(false,true);tab.removeClass("ui-tabs-loading");panel.removeAttr("aria-busy");
if(jqXHR===that.xhr)delete that.xhr},1)})}},_ajaxSettings:function(anchor,event,eventData){var that=this;return{url:anchor.attr("href"),beforeSend:function(jqXHR,settings){return that._trigger("beforeLoad",event,$.extend({jqXHR:jqXHR,ajaxSettings:settings},eventData))}}},_getPanelForTab:function(tab){var id=$(tab).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+id))}});if($.uiBackCompat!==false){$.ui.tabs.prototype._ui=function(tab,panel){return{tab:tab,panel:panel,index:this.anchors.index(tab)}};
$.widget("ui.tabs",$.ui.tabs,{url:function(index,url){this.anchors.eq(index).attr("href",url)}});$.widget("ui.tabs",$.ui.tabs,{options:{ajaxOptions:null,cache:false},_create:function(){this._super();var that=this;this._on({tabsbeforeload:function(event,ui){if($.data(ui.tab[0],"cache.tabs")){event.preventDefault();return}ui.jqXHR.success(function(){if(that.options.cache)$.data(ui.tab[0],"cache.tabs",true)})}})},_ajaxSettings:function(anchor,event,ui){var ajaxOptions=this.options.ajaxOptions;return $.extend({},
ajaxOptions,{error:function(xhr,status){try{ajaxOptions.error(xhr,status,ui.tab.closest("li").index(),ui.tab[0])}catch(error){}}},this._superApply(arguments))},_setOption:function(key,value){if(key==="cache"&&value===false)this.anchors.removeData("cache.tabs");this._super(key,value)},_destroy:function(){this.anchors.removeData("cache.tabs");this._super()},url:function(index){this.anchors.eq(index).removeData("cache.tabs");this._superApply(arguments)}});$.widget("ui.tabs",$.ui.tabs,{abort:function(){if(this.xhr)this.xhr.abort()}});
$.widget("ui.tabs",$.ui.tabs,{options:{spinner:"\x3cem\x3eLoading\x26#8230;\x3c/em\x3e"},_create:function(){this._super();this._on({tabsbeforeload:function(event,ui){if(event.target!==this.element[0]||!this.options.spinner)return;var span=ui.tab.find("span"),html=span.html();span.html(this.options.spinner);ui.jqXHR.complete(function(){span.html(html)})}})}});$.widget("ui.tabs",$.ui.tabs,{options:{enable:null,disable:null},enable:function(index){var options=this.options,trigger;if(index&&options.disabled===
true||$.isArray(options.disabled)&&$.inArray(index,options.disabled)!==-1)trigger=true;this._superApply(arguments);if(trigger)this._trigger("enable",null,this._ui(this.anchors[index],this.panels[index]))},disable:function(index){var options=this.options,trigger;if(index&&options.disabled===false||$.isArray(options.disabled)&&$.inArray(index,options.disabled)===-1)trigger=true;this._superApply(arguments);if(trigger)this._trigger("disable",null,this._ui(this.anchors[index],this.panels[index]))}});$.widget("ui.tabs",
$.ui.tabs,{options:{add:null,remove:null,tabTemplate:"\x3cli\x3e\x3ca href\x3d'#{href}'\x3e\x3cspan\x3e#{label}\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e"},add:function(url,label,index){if(index===undefined)index=this.anchors.length;var doInsertAfter,panel,options=this.options,li=$(options.tabTemplate.replace(/#\{href\}/g,url).replace(/#\{label\}/g,label)),id=!url.indexOf("#")?url.replace("#",""):this._tabId(li);li.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",true);li.attr("aria-controls",
id);doInsertAfter=index>=this.tabs.length;panel=this.element.find("#"+id);if(!panel.length){panel=this._createPanel(id);if(doInsertAfter)if(index>0)panel.insertAfter(this.panels.eq(-1));else panel.appendTo(this.element);else panel.insertBefore(this.panels[index])}panel.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide();if(doInsertAfter)li.appendTo(this.tablist);else li.insertBefore(this.tabs[index]);options.disabled=$.map(options.disabled,function(n){return n>=index?++n:n});this.refresh();
if(this.tabs.length===1&&options.active===false)this.option("active",0);this._trigger("add",null,this._ui(this.anchors[index],this.panels[index]));return this},remove:function(index){index=this._getIndex(index);var options=this.options,tab=this.tabs.eq(index).remove(),panel=this._getPanelForTab(tab).remove();if(tab.hasClass("ui-tabs-active")&&this.anchors.length>2)this._activate(index+(index+1<this.anchors.length?1:-1));options.disabled=$.map($.grep(options.disabled,function(n){return n!==index}),
function(n){return n>=index?--n:n});this.refresh();this._trigger("remove",null,this._ui(tab.find("a")[0],panel[0]));return this}});$.widget("ui.tabs",$.ui.tabs,{length:function(){return this.anchors.length}});$.widget("ui.tabs",$.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(tab){var a=tab.is("li")?tab.find("a[href]"):tab;a=a[0];return $(a).closest("li").attr("aria-controls")||a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+getNextTabId()}});
$.widget("ui.tabs",$.ui.tabs,{options:{panelTemplate:"\x3cdiv\x3e\x3c/div\x3e"},_createPanel:function(id){return $(this.options.panelTemplate).attr("id",id).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true)}});$.widget("ui.tabs",$.ui.tabs,{_create:function(){var options=this.options;if(options.active===null&&options.selected!==undefined)options.active=options.selected===-1?false:options.selected;this._super();options.selected=options.active;if(options.selected===
false)options.selected=-1},_setOption:function(key,value){if(key!=="selected")return this._super(key,value);var options=this.options;this._super("active",value===-1?false:value);options.selected=options.active;if(options.selected===false)options.selected=-1},_eventHandler:function(){this._superApply(arguments);this.options.selected=this.options.active;if(this.options.selected===false)this.options.selected=-1}});$.widget("ui.tabs",$.ui.tabs,{options:{show:null,select:null},_create:function(){this._super();
if(this.options.active!==false)this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(type,event,data){var tab,panel,ret=this._superApply(arguments);if(!ret)return false;if(type==="beforeActivate"){tab=data.newTab.length?data.newTab:data.oldTab;panel=data.newPanel.length?data.newPanel:data.oldPanel;ret=this._super("select",event,{tab:tab.find(".ui-tabs-anchor")[0],panel:panel[0],index:tab.closest("li").index()})}else if(type===
"activate"&&data.newTab.length)ret=this._super("show",event,{tab:data.newTab.find(".ui-tabs-anchor")[0],panel:data.newPanel[0],index:data.newTab.closest("li").index()});return ret}});$.widget("ui.tabs",$.ui.tabs,{select:function(index){index=this._getIndex(index);if(index===-1)if(this.options.collapsible&&this.options.selected!==-1)index=this.options.selected;else return;this.anchors.eq(index).trigger(this.options.event+this.eventNamespace)}});(function(){var listId=0;$.widget("ui.tabs",$.ui.tabs,
{options:{cookie:null},_create:function(){var options=this.options,active;if(options.active==null&&options.cookie){active=parseInt(this._cookie(),10);if(active===-1)active=false;options.active=active}this._super()},_cookie:function(active){var cookie=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++listId)];if(arguments.length){cookie.push(active===false?-1:active);cookie.push(this.options.cookie)}return $.cookie.apply(null,cookie)},_refresh:function(){this._super();if(this.options.cookie)this._cookie(this.options.active,
this.options.cookie)},_eventHandler:function(){this._superApply(arguments);if(this.options.cookie)this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super();if(this.options.cookie)this._cookie(null,this.options.cookie)}})})();$.widget("ui.tabs",$.ui.tabs,{_trigger:function(type,event,data){var _data=$.extend({},data);if(type==="load"){_data.panel=_data.panel[0];_data.tab=_data.tab.find(".ui-tabs-anchor")[0]}return this._super(type,event,_data)}});$.widget("ui.tabs",$.ui.tabs,
{options:{fx:null},_getFx:function(){var hide,show,fx=this.options.fx;if(fx)if($.isArray(fx)){hide=fx[0];show=fx[1]}else hide=show=fx;return fx?{show:show,hide:hide}:null},_toggle:function(event,eventData){var that=this,toShow=eventData.newPanel,toHide=eventData.oldPanel,fx=this._getFx();if(!fx)return this._super(event,eventData);that.running=true;function complete(){that.running=false;that._trigger("activate",event,eventData)}function show(){eventData.newTab.closest("li").addClass("active");if(toShow.length&&
fx.show)toShow.animate(fx.show,fx.show.duration,function(){complete()});else{toShow.show();complete()}}if(toHide.length&&fx.hide)toHide.animate(fx.hide,fx.hide.duration,function(){eventData.oldTab.closest("li").removeClass("active");show()});else{eventData.oldTab.closest("li").removeClass("active");toHide.hide();show()}}})}})(jQuery);
(function($){var increments=0;function addDescribedBy(elem,id){var describedby=(elem.attr("aria-describedby")||"").split(/\s+/);describedby.push(id);elem.data("ui-tooltip-id",id).attr("aria-describedby",$.trim(describedby.join(" ")))}function removeDescribedBy(elem){var id=elem.data("ui-tooltip-id"),describedby=(elem.attr("aria-describedby")||"").split(/\s+/),index=$.inArray(id,describedby);if(index!==-1)describedby.splice(index,1);elem.removeData("ui-tooltip-id");describedby=$.trim(describedby.join(" "));
if(describedby)elem.attr("aria-describedby",describedby);else elem.removeAttr("aria-describedby")}$.widget("ui.tooltip",{version:"1.9.2",options:{content:function(){return $(this).attr("title")},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,tooltipClass:null,track:false,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};if(this.options.disabled)this._disable()},
_setOption:function(key,value){var that=this;if(key==="disabled"){this[value?"_disable":"_enable"]();this.options[key]=value;return}this._super(key,value);if(key==="content")$.each(this.tooltips,function(id,element){that._updateContent(element)})},_disable:function(){var that=this;$.each(this.tooltips,function(id,element){var event=$.Event("blur");event.target=event.currentTarget=element[0];that.close(event,true)});this.element.find(this.options.items).andSelf().each(function(){var element=$(this);
if(element.is("[title]"))element.data("ui-tooltip-title",element.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var element=$(this);if(element.data("ui-tooltip-title"))element.attr("title",element.data("ui-tooltip-title"))})},open:function(event){var that=this,target=$(event?event.target:this.element).closest(this.options.items);if(!target.length||target.data("ui-tooltip-id"))return;if(target.attr("title"))target.data("ui-tooltip-title",
target.attr("title"));target.data("ui-tooltip-open",true);if(event&&event.type==="mouseover")target.parents().each(function(){var parent=$(this),blurEvent;if(parent.data("ui-tooltip-open")){blurEvent=$.Event("blur");blurEvent.target=blurEvent.currentTarget=this;that.close(blurEvent,true)}if(parent.attr("title")){parent.uniqueId();that.parents[this.id]={element:this,title:parent.attr("title")};parent.attr("title","")}});this._updateContent(target,event)},_updateContent:function(target,event){var content,
contentOption=this.options.content,that=this,eventType=event?event.type:null;if(typeof contentOption==="string")return this._open(event,target,contentOption);content=contentOption.call(target[0],function(response){if(!target.data("ui-tooltip-open"))return;that._delay(function(){if(event)event.type=eventType;this._open(event,target,response)})});if(content)this._open(event,target,content)},_open:function(event,target,content){var tooltip,events,delayedShow,positionOption=$.extend({},this.options.position);
if(!content)return;tooltip=this._find(target);if(tooltip.length){tooltip.find(".ui-tooltip-content").html(content);return}if(target.is("[title]"))if(event&&event.type==="mouseover")target.attr("title","");else target.removeAttr("title");tooltip=this._tooltip(target);addDescribedBy(target,tooltip.attr("id"));tooltip.find(".ui-tooltip-content").html(content);function position(event){positionOption.of=event;if(tooltip.is(":hidden"))return;tooltip.position(positionOption)}if(this.options.track&&event&&
/^mouse/.test(event.type)){this._on(this.document,{mousemove:position});position(event)}else tooltip.position($.extend({of:target},this.options.position));tooltip.hide();this._show(tooltip,this.options.show);if(this.options.show&&this.options.show.delay)delayedShow=setInterval(function(){if(tooltip.is(":visible")){position(positionOption.of);clearInterval(delayedShow)}},$.fx.interval);this._trigger("open",event,{tooltip:tooltip});events={keyup:function(event){if(event.keyCode===$.ui.keyCode.ESCAPE){var fakeEvent=
$.Event(event);fakeEvent.currentTarget=target[0];this.close(fakeEvent,true)}},remove:function(){this._removeTooltip(tooltip)}};if(!event||event.type==="mouseover")events.mouseleave="close";if(!event||event.type==="focusin")events.focusout="close";this._on(true,target,events)},close:function(event){var that=this,target=$(event?event.currentTarget:this.element),tooltip=this._find(target);if(this.closing)return;if(target.data("ui-tooltip-title"))target.attr("title",target.data("ui-tooltip-title"));removeDescribedBy(target);
tooltip.stop(true);this._hide(tooltip,this.options.hide,function(){that._removeTooltip($(this))});target.removeData("ui-tooltip-open");this._off(target,"mouseleave focusout keyup");if(target[0]!==this.element[0])this._off(target,"remove");this._off(this.document,"mousemove");if(event&&event.type==="mouseleave")$.each(this.parents,function(id,parent){$(parent.element).attr("title",parent.title);delete that.parents[id]});this.closing=true;this._trigger("close",event,{tooltip:tooltip});this.closing=
false},_tooltip:function(element){var id="ui-tooltip-"+increments++,tooltip=$("\x3cdiv\x3e").attr({id:id,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));$("\x3cdiv\x3e").addClass("ui-tooltip-content").appendTo(tooltip);tooltip.appendTo(this.document[0].body);if($.fn.bgiframe)tooltip.bgiframe();this.tooltips[id]=element;return tooltip},_find:function(target){var id=target.data("ui-tooltip-id");return id?$("#"+id):$()},_removeTooltip:function(tooltip){tooltip.remove();
delete this.tooltips[tooltip.attr("id")]},_destroy:function(){var that=this;$.each(this.tooltips,function(id,element){var event=$.Event("blur");event.target=event.currentTarget=element[0];that.close(event,true);$("#"+id).remove();if(element.data("ui-tooltip-title")){element.attr("title",element.data("ui-tooltip-title"));element.removeData("ui-tooltip-title")}})}})})(jQuery);
(function($){var proto=$.ui.autocomplete.prototype,initSource=proto._initSource;function filter(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test($("\x3cdiv\x3e").html(value.label||value.value||value).text())})}$.extend(proto,{_initSource:function(){if(this.options.html&&$.isArray(this.options.source))this.source=function(request,response){response(filter(this.options.source,request.term))};else initSource.call(this)},
_renderItem:function(ul,item){return $("\x3cli\x3e\x3c/li\x3e").data("item.autocomplete",item).append($("\x3ca\x3e\x3c/a\x3e")[this.options.html?"html":"text"](item.label)).appendTo(ul)}})})(jQuery);window["PR_SHOULD_USE_CONTINUATION"]=true;
(function(){var FLOW_CONTROL_KEYWORDS=["break,continue,do,else,for,if,return,while"];var C_KEYWORDS=[FLOW_CONTROL_KEYWORDS,"auto,case,char,const,default,"+"double,enum,extern,float,goto,int,long,register,short,signed,sizeof,"+"static,struct,switch,typedef,union,unsigned,void,volatile"];var COMMON_KEYWORDS=[C_KEYWORDS,"catch,class,delete,false,import,"+"new,operator,private,protected,public,this,throw,true,try,typeof"];var CPP_KEYWORDS=[COMMON_KEYWORDS,"alignof,align_union,asm,axiom,bool,"+"concept,concept_map,const_cast,constexpr,decltype,"+
"dynamic_cast,explicit,export,friend,inline,late_check,"+"mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,"+"template,typeid,typename,using,virtual,where"];var JAVA_KEYWORDS=[COMMON_KEYWORDS,"abstract,boolean,byte,extends,final,finally,implements,import,"+"instanceof,null,native,package,strictfp,super,synchronized,throws,"+"transient"];var CSHARP_KEYWORDS=[JAVA_KEYWORDS,"as,base,by,checked,decimal,delegate,descending,dynamic,event,"+"fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,"+
"object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,"+"stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"];var COFFEE_KEYWORDS="all,and,by,catch,class,else,extends,false,finally,"+"for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,"+"true,try,unless,until,when,while,yes";var JSCRIPT_KEYWORDS=[COMMON_KEYWORDS,"debugger,eval,export,function,get,null,set,undefined,var,with,"+"Infinity,NaN"];var PERL_KEYWORDS="caller,delete,die,do,dump,elsif,eval,exit,foreach,for,"+
"goto,if,import,last,local,my,next,no,our,print,package,redo,require,"+"sub,undef,unless,until,use,wantarray,while,BEGIN,END";var PYTHON_KEYWORDS=[FLOW_CONTROL_KEYWORDS,"and,as,assert,class,def,del,"+"elif,except,exec,finally,from,global,import,in,is,lambda,"+"nonlocal,not,or,pass,print,raise,try,with,yield,"+"False,True,None"];var RUBY_KEYWORDS=[FLOW_CONTROL_KEYWORDS,"alias,and,begin,case,class,"+"def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,"+"rescue,retry,self,super,then,true,undef,unless,until,when,yield,"+
"BEGIN,END"];var SH_KEYWORDS=[FLOW_CONTROL_KEYWORDS,"case,done,elif,esac,eval,fi,"+"function,in,local,set,then,until"];var ALL_KEYWORDS=[CPP_KEYWORDS,CSHARP_KEYWORDS,JSCRIPT_KEYWORDS,PERL_KEYWORDS+PYTHON_KEYWORDS,RUBY_KEYWORDS,SH_KEYWORDS];var C_TYPES=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/;var PR_STRING="str";var PR_KEYWORD="kwd";var PR_COMMENT="com";var PR_TYPE="typ";var PR_LITERAL="lit";var PR_PUNCTUATION="pun";var PR_PLAIN=
"pln";var PR_TAG="tag";var PR_DECLARATION="dec";var PR_SOURCE="src";var PR_ATTRIB_NAME="atn";var PR_ATTRIB_VALUE="atv";var PR_NOCODE="nocode";var REGEXP_PRECEDER_PATTERN="(?:^^\\.?|[+-]|\\!|\\!\x3d|\\!\x3d\x3d|\\#|\\%|\\%\x3d|\x26|\x26\x26|\x26\x26\x3d|\x26\x3d|\\(|\\*|\\*\x3d|\\+\x3d|\\,|\\-\x3d|\\-\x3e|\\/|\\/\x3d|:|::|\\;|\x3c|\x3c\x3c|\x3c\x3c\x3d|\x3c\x3d|\x3d|\x3d\x3d|\x3d\x3d\x3d|\x3e|\x3e\x3d|\x3e\x3e|\x3e\x3e\x3d|\x3e\x3e\x3e|\x3e\x3e\x3e\x3d|\\?|\\@|\\[|\\^|\\^\x3d|\\^\\^|\\^\\^\x3d|\\{|\\||\\|\x3d|\\|\\||\\|\\|\x3d|\\~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*";
function combinePrefixPatterns(regexs){var capturedGroupIndex=0;var needToFoldCase=false;var ignoreCase=false;for(var i=0,n=regexs.length;i<n;++i){var regex=regexs[i];if(regex.ignoreCase)ignoreCase=true;else if(/[a-z]/i.test(regex.source.replace(/\\u[0-9a-f]{4}|\\x[0-9a-f]{2}|\\[^ux]/gi,""))){needToFoldCase=true;ignoreCase=false;break}}var escapeCharToCodeUnit={"b":8,"t":9,"n":10,"v":11,"f":12,"r":13};function decodeEscape(charsetPart){var cc0=charsetPart.charCodeAt(0);if(cc0!==92)return cc0;var c1=
charsetPart.charAt(1);cc0=escapeCharToCodeUnit[c1];if(cc0)return cc0;else if("0"<=c1&&c1<="7")return parseInt(charsetPart.substring(1),8);else if(c1==="u"||c1==="x")return parseInt(charsetPart.substring(2),16);else return charsetPart.charCodeAt(1)}function encodeEscape(charCode){if(charCode<32)return(charCode<16?"\\x0":"\\x")+charCode.toString(16);var ch=String.fromCharCode(charCode);if(ch==="\\"||ch==="-"||ch==="["||ch==="]")ch="\\"+ch;return ch}function caseFoldCharset(charSet){var charsetParts=
charSet.substring(1,charSet.length-1).match(new RegExp("\\\\u[0-9A-Fa-f]{4}"+"|\\\\x[0-9A-Fa-f]{2}"+"|\\\\[0-3][0-7]{0,2}"+"|\\\\[0-7]{1,2}"+"|\\\\[\\s\\S]"+"|-"+"|[^-\\\\]","g"));var groups=[];var ranges=[];var inverse=charsetParts[0]==="^";for(var i=inverse?1:0,n=charsetParts.length;i<n;++i){var p=charsetParts[i];if(/\\[bdsw]/i.test(p))groups.push(p);else{var start=decodeEscape(p);var end;if(i+2<n&&"-"===charsetParts[i+1]){end=decodeEscape(charsetParts[i+2]);i+=2}else end=start;ranges.push([start,
end]);if(!(end<65||start>122)){if(!(end<65||start>90))ranges.push([Math.max(65,start)|32,Math.min(end,90)|32]);if(!(end<97||start>122))ranges.push([Math.max(97,start)&~32,Math.min(end,122)&~32])}}}ranges.sort(function(a,b){return a[0]-b[0]||b[1]-a[1]});var consolidatedRanges=[];var lastRange=[NaN,NaN];for(var i=0;i<ranges.length;++i){var range=ranges[i];if(range[0]<=lastRange[1]+1)lastRange[1]=Math.max(lastRange[1],range[1]);else consolidatedRanges.push(lastRange=range)}var out=["["];if(inverse)out.push("^");
out.push.apply(out,groups);for(var i=0;i<consolidatedRanges.length;++i){var range=consolidatedRanges[i];out.push(encodeEscape(range[0]));if(range[1]>range[0]){if(range[1]+1>range[0])out.push("-");out.push(encodeEscape(range[1]))}}out.push("]");return out.join("")}function allowAnywhereFoldCaseAndRenumberGroups(regex){var parts=regex.source.match(new RegExp("(?:"+"\\[(?:[^\\x5C\\x5D]|\\\\[\\s\\S])*\\]"+"|\\\\u[A-Fa-f0-9]{4}"+"|\\\\x[A-Fa-f0-9]{2}"+"|\\\\[0-9]+"+"|\\\\[^ux0-9]"+"|\\(\\?[:!\x3d]"+"|[\\(\\)\\^]"+
"|[^\\x5B\\x5C\\(\\)\\^]+"+")","g"));var n=parts.length;var capturedGroups=[];for(var i=0,groupIndex=0;i<n;++i){var p=parts[i];if(p==="(")++groupIndex;else if("\\"===p.charAt(0)){var decimalValue=+p.substring(1);if(decimalValue&&decimalValue<=groupIndex)capturedGroups[decimalValue]=-1}}for(var i=1;i<capturedGroups.length;++i)if(-1===capturedGroups[i])capturedGroups[i]=++capturedGroupIndex;for(var i=0,groupIndex=0;i<n;++i){var p=parts[i];if(p==="("){++groupIndex;if(capturedGroups[groupIndex]===undefined)parts[i]=
"(?:"}else if("\\"===p.charAt(0)){var decimalValue=+p.substring(1);if(decimalValue&&decimalValue<=groupIndex)parts[i]="\\"+capturedGroups[groupIndex]}}for(var i=0,groupIndex=0;i<n;++i)if("^"===parts[i]&&"^"!==parts[i+1])parts[i]="";if(regex.ignoreCase&&needToFoldCase)for(var i=0;i<n;++i){var p=parts[i];var ch0=p.charAt(0);if(p.length>=2&&ch0==="[")parts[i]=caseFoldCharset(p);else if(ch0!=="\\")parts[i]=p.replace(/[a-zA-Z]/g,function(ch){var cc=ch.charCodeAt(0);return"["+String.fromCharCode(cc&~32,
cc|32)+"]"})}return parts.join("")}var rewritten=[];for(var i=0,n=regexs.length;i<n;++i){var regex=regexs[i];if(regex.global||regex.multiline)throw new Error(""+regex);rewritten.push("(?:"+allowAnywhereFoldCaseAndRenumberGroups(regex)+")")}return new RegExp(rewritten.join("|"),ignoreCase?"gi":"g")}function extractSourceSpans(node){var nocode=/(?:^|\s)nocode(?:\s|$)/;var chunks=[];var length=0;var spans=[];var k=0;var whitespace;if(node.currentStyle)whitespace=node.currentStyle.whiteSpace;else if(window.getComputedStyle)whitespace=
document.defaultView.getComputedStyle(node,null).getPropertyValue("white-space");var isPreformatted=whitespace&&"pre"===whitespace.substring(0,3);function walk(node){switch(node.nodeType){case 1:if(nocode.test(node.className))return;for(var child=node.firstChild;child;child=child.nextSibling)walk(child);var nodeName=node.nodeName;if("BR"===nodeName||"LI"===nodeName){chunks[k]="\n";spans[k<<1]=length++;spans[k++<<1|1]=node}break;case 3:case 4:var text=node.nodeValue;if(text.length){if(!isPreformatted)text=
text.replace(/[ \t\r\n]+/g," ");else text=text.replace(/\r\n?/g,"\n");chunks[k]=text;spans[k<<1]=length;length+=text.length;spans[k++<<1|1]=node}break}}walk(node);return{sourceCode:chunks.join("").replace(/\n$/,""),spans:spans}}function appendDecorations(basePos,sourceCode,langHandler,out){if(!sourceCode)return;var job={sourceCode:sourceCode,basePos:basePos};langHandler(job);out.push.apply(out,job.decorations)}var notWs=/\S/;function childContentWrapper(element){var wrapper=undefined;for(var c=element.firstChild;c;c=
c.nextSibling){var type=c.nodeType;wrapper=type===1?wrapper?element:c:type===3?notWs.test(c.nodeValue)?element:wrapper:wrapper}return wrapper===element?undefined:wrapper}function createSimpleLexer(shortcutStylePatterns,fallthroughStylePatterns){var shortcuts={};var tokenizer;(function(){var allPatterns=shortcutStylePatterns.concat(fallthroughStylePatterns);var allRegexs=[];var regexKeys={};for(var i=0,n=allPatterns.length;i<n;++i){var patternParts=allPatterns[i];var shortcutChars=patternParts[3];
if(shortcutChars)for(var c=shortcutChars.length;--c>=0;)shortcuts[shortcutChars.charAt(c)]=patternParts;var regex=patternParts[1];var k=""+regex;if(!regexKeys.hasOwnProperty(k)){allRegexs.push(regex);regexKeys[k]=null}}allRegexs.push(/[\0-\uffff]/);tokenizer=combinePrefixPatterns(allRegexs)})();var nPatterns=fallthroughStylePatterns.length;var decorate=function(job){var sourceCode=job.sourceCode,basePos=job.basePos;var decorations=[basePos,PR_PLAIN];var pos=0;var tokens=sourceCode.match(tokenizer)||
[];var styleCache={};for(var ti=0,nTokens=tokens.length;ti<nTokens;++ti){var token=tokens[ti];var style=styleCache[token];var match=void 0;var isEmbedded;if(typeof style==="string")isEmbedded=false;else{var patternParts=shortcuts[token.charAt(0)];if(patternParts){match=token.match(patternParts[1]);style=patternParts[0]}else{for(var i=0;i<nPatterns;++i){patternParts=fallthroughStylePatterns[i];match=token.match(patternParts[1]);if(match){style=patternParts[0];break}}if(!match)style=PR_PLAIN}isEmbedded=
style.length>=5&&"lang-"===style.substring(0,5);if(isEmbedded&&!(match&&typeof match[1]==="string")){isEmbedded=false;style=PR_SOURCE}if(!isEmbedded)styleCache[token]=style}var tokenStart=pos;pos+=token.length;if(!isEmbedded)decorations.push(basePos+tokenStart,style);else{var embeddedSource=match[1];var embeddedSourceStart=token.indexOf(embeddedSource);var embeddedSourceEnd=embeddedSourceStart+embeddedSource.length;if(match[2]){embeddedSourceEnd=token.length-match[2].length;embeddedSourceStart=embeddedSourceEnd-
embeddedSource.length}var lang=style.substring(5);appendDecorations(basePos+tokenStart,token.substring(0,embeddedSourceStart),decorate,decorations);appendDecorations(basePos+tokenStart+embeddedSourceStart,embeddedSource,langHandlerForExtension(lang,embeddedSource),decorations);appendDecorations(basePos+tokenStart+embeddedSourceEnd,token.substring(embeddedSourceEnd),decorate,decorations)}}job.decorations=decorations};return decorate}function sourceDecorator(options){var shortcutStylePatterns=[],fallthroughStylePatterns=
[];if(options["tripleQuotedStrings"])shortcutStylePatterns.push([PR_STRING,/^(?:\'\'\'(?:[^\'\\]|\\[\s\S]|\'{1,2}(?=[^\']))*(?:\'\'\'|$)|\"\"\"(?:[^\"\\]|\\[\s\S]|\"{1,2}(?=[^\"]))*(?:\"\"\"|$)|\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$))/,null,"'\""]);else if(options["multiLineStrings"])shortcutStylePatterns.push([PR_STRING,/^(?:\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$)|\`(?:[^\\\`]|\\[\s\S])*(?:\`|$))/,null,"'\"`"]);else shortcutStylePatterns.push([PR_STRING,
/^(?:\'(?:[^\\\'\r\n]|\\.)*(?:\'|$)|\"(?:[^\\\"\r\n]|\\.)*(?:\"|$))/,null,"\"'"]);if(options["verbatimStrings"])fallthroughStylePatterns.push([PR_STRING,/^@\"(?:[^\"]|\"\")*(?:\"|$)/,null]);var hc=options["hashComments"];if(hc)if(options["cStyleComments"]){if(hc>1)shortcutStylePatterns.push([PR_COMMENT,/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,null,"#"]);else shortcutStylePatterns.push([PR_COMMENT,/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\r\n]*)/,null,
"#"]);fallthroughStylePatterns.push([PR_STRING,/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,null])}else shortcutStylePatterns.push([PR_COMMENT,/^#[^\r\n]*/,null,"#"]);if(options["cStyleComments"]){fallthroughStylePatterns.push([PR_COMMENT,/^\/\/[^\r\n]*/,null]);fallthroughStylePatterns.push([PR_COMMENT,/^\/\*[\s\S]*?(?:\*\/|$)/,null])}if(options["regexLiterals"]){var REGEX_LITERAL="/(?\x3d[^/*])"+"(?:[^/\\x5B\\x5C]"+"|\\x5C[\\s\\S]"+"|\\x5B(?:[^\\x5C\\x5D]|\\x5C[\\s\\S])*(?:\\x5D|$))+"+
"/";fallthroughStylePatterns.push(["lang-regex",new RegExp("^"+REGEXP_PRECEDER_PATTERN+"("+REGEX_LITERAL+")")])}var types=options["types"];if(types)fallthroughStylePatterns.push([PR_TYPE,types]);var keywords=(""+options["keywords"]).replace(/^ | $/g,"");if(keywords.length)fallthroughStylePatterns.push([PR_KEYWORD,new RegExp("^(?:"+keywords.replace(/[\s,]+/g,"|")+")\\b"),null]);shortcutStylePatterns.push([PR_PLAIN,/^\s+/,null," \r\n\t\u00a0"]);fallthroughStylePatterns.push([PR_LITERAL,/^@[a-z_$][a-z_$@0-9]*/i,
null],[PR_TYPE,/^(?:[@_]?[A-Z]+[a-z][A-Za-z_$@0-9]*|\w+_t\b)/,null],[PR_PLAIN,/^[a-z_$][a-z_$@0-9]*/i,null],[PR_LITERAL,new RegExp("^(?:"+"0x[a-f0-9]+"+"|(?:\\d(?:_\\d+)*\\d*(?:\\.\\d*)?|\\.\\d\\+)"+"(?:e[+\\-]?\\d+)?"+")"+"[a-z]*","i"),null,"0123456789"],[PR_PLAIN,/^\\[\s\S]?/,null],[PR_PUNCTUATION,/^.[^\s\w\.$@\'\"\`\/\#\\]*/,null]);return createSimpleLexer(shortcutStylePatterns,fallthroughStylePatterns)}var decorateSource=sourceDecorator({"keywords":ALL_KEYWORDS,"hashComments":true,"cStyleComments":true,
"multiLineStrings":true,"regexLiterals":true});function numberLines(node,opt_startLineNum){var nocode=/(?:^|\s)nocode(?:\s|$)/;var lineBreak=/\r\n?|\n/;var document=node.ownerDocument;var whitespace;if(node.currentStyle)whitespace=node.currentStyle.whiteSpace;else if(window.getComputedStyle)whitespace=document.defaultView.getComputedStyle(node,null).getPropertyValue("white-space");var isPreformatted=whitespace&&"pre"===whitespace.substring(0,3);var li=document.createElement("LI");while(node.firstChild)li.appendChild(node.firstChild);
var listItems=[li];function walk(node){switch(node.nodeType){case 1:if(nocode.test(node.className))break;if("BR"===node.nodeName){breakAfter(node);if(node.parentNode)node.parentNode.removeChild(node)}else for(var child=node.firstChild;child;child=child.nextSibling)walk(child);break;case 3:case 4:if(isPreformatted){var text=node.nodeValue;var match=text.match(lineBreak);if(match){var firstLine=text.substring(0,match.index);node.nodeValue=firstLine;var tail=text.substring(match.index+match[0].length);
if(tail){var parent=node.parentNode;parent.insertBefore(document.createTextNode(tail),node.nextSibling)}breakAfter(node);if(!firstLine)node.parentNode.removeChild(node)}}break}}function breakAfter(lineEndNode){while(!lineEndNode.nextSibling){lineEndNode=lineEndNode.parentNode;if(!lineEndNode)return}function breakLeftOf(limit,copy){var rightSide=copy?limit.cloneNode(false):limit;var parent=limit.parentNode;if(parent){var parentClone=breakLeftOf(parent,1);var next=limit.nextSibling;parentClone.appendChild(rightSide);
for(var sibling=next;sibling;sibling=next){next=sibling.nextSibling;parentClone.appendChild(sibling)}}return rightSide}var copiedListItem=breakLeftOf(lineEndNode.nextSibling,0);for(var parent;(parent=copiedListItem.parentNode)&&parent.nodeType===1;)copiedListItem=parent;listItems.push(copiedListItem)}for(var i=0;i<listItems.length;++i)walk(listItems[i]);if(opt_startLineNum===(opt_startLineNum|0))listItems[0].setAttribute("value",opt_startLineNum);var ol=document.createElement("OL");ol.className="linenums";
var offset=Math.max(0,opt_startLineNum-1|0)||0;for(var i=0,n=listItems.length;i<n;++i){li=listItems[i];li.className="L"+(i+offset)%10;if(!li.firstChild)li.appendChild(document.createTextNode("\u00a0"));ol.appendChild(li)}node.appendChild(ol)}function recombineTagsAndDecorations(job){var isIE=/\bMSIE\b/.test(navigator.userAgent);var newlineRe=/\n/g;var source=job.sourceCode;var sourceLength=source.length;var sourceIndex=0;var spans=job.spans;var nSpans=spans.length;var spanIndex=0;var decorations=
job.decorations;var nDecorations=decorations.length;var decorationIndex=0;decorations[nDecorations]=sourceLength;var decPos,i;for(i=decPos=0;i<nDecorations;)if(decorations[i]!==decorations[i+2]){decorations[decPos++]=decorations[i++];decorations[decPos++]=decorations[i++]}else i+=2;nDecorations=decPos;for(i=decPos=0;i<nDecorations;){var startPos=decorations[i];var startDec=decorations[i+1];var end=i+2;while(end+2<=nDecorations&&decorations[end+1]===startDec)end+=2;decorations[decPos++]=startPos;decorations[decPos++]=
startDec;i=end}nDecorations=decorations.length=decPos;var decoration=null;while(spanIndex<nSpans){var spanStart=spans[spanIndex];var spanEnd=spans[spanIndex+2]||sourceLength;var decStart=decorations[decorationIndex];var decEnd=decorations[decorationIndex+2]||sourceLength;var end=Math.min(spanEnd,decEnd);var textNode=spans[spanIndex+1];var styledText;if(textNode.nodeType!==1&&(styledText=source.substring(sourceIndex,end))){if(isIE)styledText=styledText.replace(newlineRe,"\r");textNode.nodeValue=styledText;
var document=textNode.ownerDocument;var span=document.createElement("SPAN");span.className=decorations[decorationIndex+1];var parentNode=textNode.parentNode;parentNode.replaceChild(span,textNode);span.appendChild(textNode);if(sourceIndex<spanEnd){spans[spanIndex+1]=textNode=document.createTextNode(source.substring(end,spanEnd));parentNode.insertBefore(textNode,span.nextSibling)}}sourceIndex=end;if(sourceIndex>=spanEnd)spanIndex+=2;if(sourceIndex>=decEnd)decorationIndex+=2}}var langHandlerRegistry=
{};function registerLangHandler(handler,fileExtensions){for(var i=fileExtensions.length;--i>=0;){var ext=fileExtensions[i];if(!langHandlerRegistry.hasOwnProperty(ext))langHandlerRegistry[ext]=handler;else if(window["console"])console["warn"]("cannot override language handler %s",ext)}}function langHandlerForExtension(extension,source){if(!(extension&&langHandlerRegistry.hasOwnProperty(extension)))extension=/^\s*</.test(source)?"default-markup":"default-code";return langHandlerRegistry[extension]}
registerLangHandler(decorateSource,["default-code"]);registerLangHandler(createSimpleLexer([],[[PR_PLAIN,/^[^<?]+/],[PR_DECLARATION,/^<!\w[^>]*(?:>|$)/],[PR_COMMENT,/^<\!--[\s\S]*?(?:-\->|$)/],["lang-",/^<\?([\s\S]+?)(?:\?>|$)/],["lang-",/^<%([\s\S]+?)(?:%>|$)/],[PR_PUNCTUATION,/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),
["default-markup","htm","html","mxml","xhtml","xml","xsl"]);registerLangHandler(createSimpleLexer([[PR_PLAIN,/^[\s]+/,null," \t\r\n"],[PR_ATTRIB_VALUE,/^(?:\"[^\"]*\"?|\'[^\']*\'?)/,null,"\"'"]],[[PR_TAG,/^^<\/?[a-z](?:[\w.:-]*\w)?|\/?>$/i],[PR_ATTRIB_NAME,/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^>\'\"\s]*(?:[^>\'\"\s\/]|\/(?=\s)))/],[PR_PUNCTUATION,/^[=<>\/]+/],["lang-js",/^on\w+\s*=\s*\"([^\"]+)\"/i],["lang-js",/^on\w+\s*=\s*\'([^\']+)\'/i],["lang-js",/^on\w+\s*=\s*([^\"\'>\s]+)/i],
["lang-css",/^style\s*=\s*\"([^\"]+)\"/i],["lang-css",/^style\s*=\s*\'([^\']+)\'/i],["lang-css",/^style\s*=\s*([^\"\'>\s]+)/i]]),["in.tag"]);registerLangHandler(createSimpleLexer([],[[PR_ATTRIB_VALUE,/^[\s\S]+/]]),["uq.val"]);registerLangHandler(sourceDecorator({"keywords":CPP_KEYWORDS,"hashComments":true,"cStyleComments":true,"types":C_TYPES}),["c","cc","cpp","cxx","cyc","m"]);registerLangHandler(sourceDecorator({"keywords":"null,true,false"}),["json"]);registerLangHandler(sourceDecorator({"keywords":CSHARP_KEYWORDS,
"hashComments":true,"cStyleComments":true,"verbatimStrings":true,"types":C_TYPES}),["cs"]);registerLangHandler(sourceDecorator({"keywords":JAVA_KEYWORDS,"cStyleComments":true}),["java"]);registerLangHandler(sourceDecorator({"keywords":SH_KEYWORDS,"hashComments":true,"multiLineStrings":true}),["bsh","csh","sh"]);registerLangHandler(sourceDecorator({"keywords":PYTHON_KEYWORDS,"hashComments":true,"multiLineStrings":true,"tripleQuotedStrings":true}),["cv","py"]);registerLangHandler(sourceDecorator({"keywords":PERL_KEYWORDS,
"hashComments":true,"multiLineStrings":true,"regexLiterals":true}),["perl","pl","pm"]);registerLangHandler(sourceDecorator({"keywords":RUBY_KEYWORDS,"hashComments":true,"multiLineStrings":true,"regexLiterals":true}),["rb"]);registerLangHandler(sourceDecorator({"keywords":JSCRIPT_KEYWORDS,"cStyleComments":true,"regexLiterals":true}),["js"]);registerLangHandler(sourceDecorator({"keywords":COFFEE_KEYWORDS,"hashComments":3,"cStyleComments":true,"multilineStrings":true,"tripleQuotedStrings":true,"regexLiterals":true}),
["coffee"]);registerLangHandler(createSimpleLexer([],[[PR_STRING,/^[\s\S]+/]]),["regex"]);function applyDecorator(job){var opt_langExtension=job.langExtension;try{var sourceAndSpans=extractSourceSpans(job.sourceNode);var source=sourceAndSpans.sourceCode;job.sourceCode=source;job.spans=sourceAndSpans.spans;job.basePos=0;langHandlerForExtension(opt_langExtension,source)(job);recombineTagsAndDecorations(job)}catch(e){if("console"in window)console["log"](e&&e["stack"]?e["stack"]:e)}}function prettyPrintOne(sourceCodeHtml,
opt_langExtension,opt_numberLines){var container=document.createElement("PRE");container.innerHTML=sourceCodeHtml;if(opt_numberLines)numberLines(container,opt_numberLines);var job={langExtension:opt_langExtension,numberLines:opt_numberLines,sourceNode:container};applyDecorator(job);return container.innerHTML}function prettyPrint(opt_whenDone){function byTagName(tn){return document.getElementsByTagName(tn)}var codeSegments=[byTagName("pre"),byTagName("code"),byTagName("xmp")];var elements=[];for(var i=
0;i<codeSegments.length;++i)for(var j=0,n=codeSegments[i].length;j<n;++j)elements.push(codeSegments[i][j]);codeSegments=null;var clock=Date;if(!clock["now"])clock={"now":function(){return+new Date}};var k=0;var prettyPrintingJob;var langExtensionRe=/\blang(?:uage)?-([\w.]+)(?!\S)/;var prettyPrintRe=/\bprettyprint\b/;function doWork(){var endTime=window["PR_SHOULD_USE_CONTINUATION"]?clock["now"]()+250:Infinity;for(;k<elements.length&&clock["now"]()<endTime;k++){var cs=elements[k];var className=cs.className;
if(className.indexOf("prettyprint")>=0&&!jQuery(cs).data("prettified")&&jQuery(cs).find("\x3e ol").length==0){jQuery(cs).data("prettified",true);var langExtension=className.match(langExtensionRe);var wrapper;if(!langExtension&&(wrapper=childContentWrapper(cs))&&"CODE"===wrapper.tagName)langExtension=wrapper.className.match(langExtensionRe);if(langExtension)langExtension=langExtension[1];var nested=false;for(var p=cs.parentNode;p;p=p.parentNode)if((p.tagName==="pre"||p.tagName==="code"||p.tagName===
"xmp")&&p.className&&p.className.indexOf("prettyprint")>=0){nested=true;break}if(!nested){var lineNums=cs.className.match(/\blinenums\b(?::(\d+))?/);lineNums=lineNums?lineNums[1]&&lineNums[1].length?+lineNums[1]:true:false;if(lineNums)numberLines(cs,lineNums);prettyPrintingJob={langExtension:langExtension,sourceNode:cs,numberLines:lineNums};applyDecorator(prettyPrintingJob)}}}if(k<elements.length)setTimeout(doWork,250);else if(opt_whenDone)opt_whenDone()}doWork()}window["prettyPrintOne"]=prettyPrintOne;
window["prettyPrint"]=prettyPrint;window["PR"]={"createSimpleLexer":createSimpleLexer,"registerLangHandler":registerLangHandler,"sourceDecorator":sourceDecorator,"PR_ATTRIB_NAME":PR_ATTRIB_NAME,"PR_ATTRIB_VALUE":PR_ATTRIB_VALUE,"PR_COMMENT":PR_COMMENT,"PR_DECLARATION":PR_DECLARATION,"PR_KEYWORD":PR_KEYWORD,"PR_LITERAL":PR_LITERAL,"PR_NOCODE":PR_NOCODE,"PR_PLAIN":PR_PLAIN,"PR_PUNCTUATION":PR_PUNCTUATION,"PR_SOURCE":PR_SOURCE,"PR_STRING":PR_STRING,"PR_TAG":PR_TAG,"PR_TYPE":PR_TYPE}})();
(function($){var isMouseDown=false;var currentElement=null;var dropCallbacks={};var dragCallbacks={};var bubblings={};var lastMouseX;var lastMouseY;var lastElemTop;var lastElemLeft;var dragStatus={};var holdingHandler=false;$.getMousePosition=function(e){var posx=0;var posy=0;if(!e)var e=window.event;if(e.pageX||e.pageY){posx=e.pageX;posy=e.pageY}else if(e.clientX||e.clientY){posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop}return{"x":posx,
"y":posy}};$.updatePosition=function(e){var pos=$.getMousePosition(e);var spanX=pos.x-lastMouseX;var spanY=pos.y-lastMouseY;$(currentElement).css("top",lastElemTop+spanY);$(currentElement).css("left",lastElemLeft+spanX)};$(document).mousemove(function(e){if(isMouseDown&&dragStatus[currentElement.id]!="false"){$.updatePosition(e);if(dragCallbacks[currentElement.id]!=undefined)dragCallbacks[currentElement.id](e,currentElement);return false}});$(document).mouseup(function(e){if(isMouseDown&&dragStatus[currentElement.id]!=
"false"){isMouseDown=false;if(dropCallbacks[currentElement.id]!=undefined)dropCallbacks[currentElement.id](e,currentElement);return false}});$.fn.ondrag=function(callback){return this.each(function(){dragCallbacks[this.id]=callback})};$.fn.ondrop=function(callback){return this.each(function(){dropCallbacks[this.id]=callback})};$.fn.dragOff=function(){return this.each(function(){dragStatus[this.id]="off"})};$.fn.dragOn=function(){return this.each(function(){dragStatus[this.id]="on"})};$.fn.setHandler=
function(handlerId){return this.each(function(){var draggable=this;bubblings[this.id]=true;$(draggable).css("cursor","");dragStatus[draggable.id]="handler";$("#"+handlerId).css("cursor","move");$("#"+handlerId).mousedown(function(e){holdingHandler=true;$(draggable).trigger("mousedown",e)});$("#"+handlerId).mouseup(function(e){holdingHandler=false})})};$.fn.easydrag=function(allowBubbling){return this.each(function(){if(undefined==this.id||!this.id.length)this.id="easydrag"+(new Date).getTime();bubblings[this.id]=
allowBubbling?true:false;dragStatus[this.id]="on";$(this).css("cursor","move");$(this).mousedown(function(e){if(dragStatus[this.id]=="off"||dragStatus[this.id]=="handler"&&!holdingHandler)return bubblings[this.id];$(this).css("position","absolute");$(this).css("z-index",parseInt((new Date).getTime()/1E3));isMouseDown=true;currentElement=this;var pos=$.getMousePosition(e);lastMouseX=pos.x;lastMouseY=pos.y;lastElemTop=this.offsetTop;lastElemLeft=this.offsetLeft;$.updatePosition(e);return bubblings[this.id]})})}})(jQuery);
function JavascriptKradVariables(){}
JavascriptKradVariables.prototype={ACTION_DEFAULTS:"action_defaults",ACTION_ONCLICK_DATA:"onclick",ACTION_FIELD_CLASS:"uif-actionField",ACTIVE_CLASS:"active",APPLICATION_HEADER_WRAPPER:"Uif-ApplicationHeader-Wrapper",APPLICATION_FOOTER_WRAPPER:"Uif-ApplicationFooter-Wrapper",APP_ID:"Uif-Application",APPLICATION_URL:"applicationUrl",ATTRIBUTES:{ID:"id",DATA_OPEN:"data-open",DATA_RETURN:"data-return",DATA_RESPONSE:"data-response",DATA_RESPONSE_HANDLER:"data-response_handler",DATA_SHOW_HANDLER:"data-show_handler",
DATA_HIDE_HANDLER:"data-hide_handler",DATA_ROLE:"data-role",DISMISS_DIALOG_OPTION:"data-dismissdialogoption",DIALOG_ID:"data-dismissdialogid"},CACHE_KEY:"cacheKey",CHANGED_HEADER_ICON_CLASS:"uif-changedHeaderIcon",CHANGE_COMPONENT_PROPERTIES:"changeProperties",CLASSES:{PLACEHOLDER:"uif-placeholder",MODAL:"modal",IN:"in"},CLEAR_FORM_METHOD_TO_CALL:"clearForm",CLIENT_MESSAGE_ITEMS_CLASS:"uif-clientMessageItems",CLIENT_ERROR_DIV_CLASS:"alert-danger",CLIENT_WARNING_DIV_CLASS:"alert-warning",CLIENT_INFO_DIV_CLASS:"alert-info",
COLLAPSED_ERRORS_CLASS:"uif-collapsedErrors",COLLAPSED_INFO_CLASS:"uif-collapsedInfo",COLLAPSED_WARNINGS_CLASS:"uif-collapsedWarnings",COLLECTION_ITEM_CLASS:"uif-collectionItem",COLLECTION_ACTION_CLASS:"uif-collection-column-action",CONTROL_CLASS:"Uif-Application",COUNTDOWN_CLASS:"hasCountdown",DATA_ROLES:{DISCLOSURE_LINK:"disclosureLink",PLACEHOLDER:"placeholder",ACTION:"Action",PROMPTTEXT:"prompttext",DIALOGHEADER:"dialogheader"},DIALOG_DISMISS_OPTIONS:{IMMEDIATE:"IMMEDIATE",PRESUBMIT:"PRESUBMIT",
REQUEST:"REQUEST"},DIALOG_SELECTOR:"[role\x3d'dialog']",DIRTY_CLASS:"dirty",DIRTY_FORM:"dirtyForm",DISABLE_BROWSER_CACHE:"view.disableBrowserCache",DISABLED_CLASS:"disabled",DIALOG_PLACEHOLDER:"_dialogPlaceholder",ENTER_KEY_SUFFIX:"enter_key",ENTER_KEY_DEFAULT:"@DEFAULT",ERROR_HIGHLIGHT_SECTION_CLASS:"uif-errorHighlight-section",ERROR_MESSAGE_ITEM_CLASS:"uif-errorMessageItem-field",FIELD_CLASS:"uif-field",FORM_KEY:"formKey",FORM_COMPLETE_ID:"formComplete",FORM_INFO_ID:"formInfo",FLOW_KEY:"flowKey",
FOCUS_ID:"focusid",GRID_LAYOUT_CELL_CLASS:"uif-gridLayoutCell",HAS_ERROR_CLASS:"uif-hasError",HAS_INFO_CLASS:"uif-hasInfo",HAS_MODIFIED_ERROR_CLASS:"uif-hasError-modified",HAS_WARNING_CLASS:"uif-hasWarning",HEADER_TEXT_CLASS:"uif-headerText",IDS:{DIALOGS:"Uif-Dialogs",DIALOG_OKCANCEL:"Uif-DialogGroup-OkCancel",DIALOG_YESNO:"Uif-DialogGroup-YesNo"},ID_SUFFIX:{DISCLOSURE_CONTENT:"_disclosureContent",DISCLOSURE_TOGGLE:"_toggle",ADD_LINE_INPUT_FIELD:"_add_control"},IMAGE_LOCATION:"kradImageLocation",
INLINE_EDIT:{INLINE_EDIT_DATA_ATTR:"inline_edit",EDIT_SUFFIX:"_edit",INLINE_EDIT:"_inlineEdit",INLINE_EDIT_VIEW:"_inlineEdit_view",VIEW_SUFFIX:"_view",VIEW_CLASS:".uif-inlineEdit-view",EDIT_CLASS:".uif-inlineEdit-edit",EDIT_BUTTONS_CLASS:".uif-inlineEdit-buttons",AJAX_EDIT:"ajax_edit",SAVE_FIELD_METHOD_TO_CALL:"saveField",INLINE_EDIT_NAMESPACE:"inlineEdit",ORIGINAL_VALUE:"orig_val"},JUMP_TO_ID:"jumptoid",JUMP_TO_NAME:"jumptoname",PAGE_ID:"pageId",PORTAL_IFRAME_ID:"iframeportlet",INCIDENT_REPORT_VIEW_CLASS:"Uif-IncidentReportView",
INFO_HIGHLIGHT_SECTION_CLASS:"uif-infoHighlight-section",INFO_MESSAGE_ITEM_CLASS:"uif-infoMessageItem-field",INPUT_FIELD_SELECTOR:"[data-role\x3d'InputField']",KEEP_SESSION_ALIVE_METHOD_TO_CALL:"keepSessionAlive",KRAD_URL:"kradUrl",KUALI_FORM:"kualiForm",LIGHTBOX_PARAM:"lightbox",MENU_COLLAPSE_ACTION:"sidebar-collapse",MENU_COLLAPSE_ICON_RIGHT:"icon-angle-right",MENU_COLLAPSE_ICON_LEFT:"icon-angle-left",MENU_COLLAPSED:"sidebar-collapsed",MESSAGE_COUNT_CLASS:"uif-messageCount",MESSAGE_KEY_DIRTY_FIELDS:"message.dirtyFields",
MESSAGE_ERROR:"message.error",MESSAGE_ERROR_FIELD_MODIFIED:"message.errorFieldModified",MESSAGE_WARNING:"message.warning",MESSAGE_INFORMATION:"message.information",MESSAGE_DETAILS:"message.details",MESSAGE_CLOSE_DETAILS:"message.closeDetails",MESSAGE_LOADING:"message.loading",MESSAGE_CHANGE:"message.change",MESSAGE_FORM_CONTAINS_ERRORS:"message.formContainsErrors",MESSAGE_BEFORE:"message.before",MESSAGE_AFTER:"message.after",MESSAGE_PLEASE_ENTER_VALUE:"message.pleaseEnterValue",MESSAGE_EXPAND:"message.expand",
MESSAGE_EDIT:"message.edit",MESSAGE_CANCEL:"message.cancel",MESSAGE_COLLAPSE:"message.collapse",MESSAGE_SAVE:"message.save",MESSAGE_SERVER_RESPONSE_ERROR:"message.serverResponseError",MESSAGE_STATUS_ERROR:"message.statusError",MESSAGE_TOTAL_ERROR:"message.totalError",MESSAGE_TOTAL_ERRORS:"message.totalErrors",MESSAGE_TOTAL_OTHER_MESSAGES:"message.totalOtherMessages",MESSAGE_TOTAL_WARNING:"message.totalWarning",MESSAGE_TOTAL_WARNINGS:"message.totalWarnings",MESSAGE_TOTAL_MESSAGE:"message.totalMessage",
MESSAGE_TOTAL_MESSAGES:"message.totalMessages",MESSAGE_THE:"message.the",MESSAGE_THE_SECTION_HAS_COUNT:"message.theSectionHasCount",MODAL:{LOOKUP_MODAL:"Uif-DialogGroup-Lookup",INQUIRY_MODAL:"Uif-DialogGroup-Inquiry",IFRAME_MODAL:"Uif-DialogGroup-Iframe",MODAL_NAMESPACE:"modal",MODAL_CLASS:".modal",MODAL_CONTENT_CLASS:".modal-content",MODAL_BACKDROP_CLASS:".modal-backdrop",MODAL_BODY_CLASS:".modal-body",MODAL_HEADER_CLASS:".modal-header",MODAL_FOOTER_CLASS:".modal-footer",MODAL_OPEN:"modal-open",
MODAL_CLOSE_DIALOG:"close_dialog"},NAVIGATION_ID:"Uif-Navigation",NAVIGATION_MENU_CLASS:"uif-navigationMenu",NAVIGATE_METHOD_TO_CALL:"navigate",NO_FIELDS_TO_SEND:"NONE",PAGE_NUMBER_DATA:"num",PAGE_CONTENT_WRAPPER:"Uif-PageContentWrapper",PAGE_VALIDATION_HEADER_CLASS:"uif-pageValidationHeader",PAGE_VALIDATION_MESSAGE_ERROR_CLASS:"alert-danger",PAGE_VALIDATION_MESSAGE_INFO_CLASS:"alert-info",PAGE_VALIDATION_MESSAGE_SUCCESS_CLASS:"alert-success",PAGE_VALIDATION_MESSAGE_WARNING_CLASS:"alert-warning",
PARENT_DATA_ATTRIBUTE:"parent",PERFORM_DIRTY_VALIDATION:"performdirtyvalidation",PROGRESSIVE_DISCLOSURE_HIGHLIGHT_CLASS:"uif-progressiveDisclosure-highlight",POPOVER_DATA:"bs.popover",RENDERED_IN_DIALOG:"renderedInDialog",REFRESH_METHOD_TO_CALL:"refresh",RETRIEVE_MESSAGE_METHOD_TO_CALL:"retrieveMessage",RETRIEVE_COLLECTION_PAGE_METHOD_TO_CALL:"retrieveCollectionPage",RETURN_TYPE_UPDATE_COMPONENT:"update-component",RETURN_FROM_LIGHTBOX_METHOD_TO_CALL:"returnFromLightbox",RETURN_SELECTED_ACTION_CLASS:"uif-returnSelectedAction",
REQUIRED_MESSAGE_CLASS:"uif-requiredMessage",SAVE_LINE_ACTION_CLASS:"uif-saveLineAction",SELECT_FIELD_STYLE_CLASS:"uif-select-line",LOOKUP_COLLECTION_ID:"uLookupResults",SELF:"SELF",SERVER_MESSAGE_ITEMS_CLASS:"uif-serverMessageItems",SESSION_TIMEOUT_WARNING_DIALOG:"Uif-SessionTimeoutWarning-DialogGroup",SESSION_TIMEOUT_DIALOG:"Uif-SessionTimeout-DialogGroup",SESSION_TIMEOUT_WARNING_TIMER:"sessionTimeoutWarningTimer",SESSION_TIMEOUT_TIMER:"sessionTimeoutTimer",SHOW_DIALOG_EVENT:"showdialog.uif",SINGLE_PAGE_VIEW:"view.singlePageView",
STACKED_COLLECTION_LAYOUT_CLASS:"uif-stackedCollectionLayout",STICKY_CLASS:"uif-sticky",SUCCESS_RESPONSE:"success",VIEW_HEADER_UPDATE:"Uif-ViewHeaderUpdate",TOP_GROUP_UPDATE:"Uif-TopGroupUpdate",TABLE_COLLECTION_LAYOUT_CLASS:"uif-tableCollectionLayout",TAB_GROUP_CLASS:"Uif-TabGroup",TOGGLE_ARROW_CLASS:"arrow",TOOLTIP_CLASS:"uif-tooltip",VALIDATION_IMAGE_CLASS:"uif-validationImage",SERVER_MESSAGES:"server_messages",VIEW_ID:"viewId",VIEW_CONTENT_WRAPPER:"Uif-ViewContentWrapper",VALIDATE_DIRTY:"view.applyDirtyCheck",
VALIDATION_MESSAGES:"validation_messages",VALIDATION_MESSAGES_CLASS:"uif-validationMessagesList",VALIDATION_PAGE_HEADER_CLASS:"uif-pageValidationHeader",VALIDATION_SETUP_EVENT:"validationSetup",GROUP_VALIDATION_DEFAULTS:"group_validation_defaults",FIELD_VALIDATION_DEFAULTS:"field_validation_defaults",PAGE_LOAD_EVENT:"pageLoad",VIEW_CONTENT_HEADER_CLASS:"Uif-ViewContentWrapper",VIEW_STATE:"ViewState",VALID_CLASS:"valid",IGNORE_VALIDATION_CLASS:"ignoreValid",IGNORE_VALIDATION_TEMP_CLASS:"ignoreTemp",
ERROR_CLASS:"error",WARNING_HIGHLIGHT_SECTION_CLASS:"uif-warningHighlight-section",WARNING_MESSAGE_ITEM_CLASS:"uif-warningMessageItem-field",GROUP_CLASS:"uif-group",ROW_DETAILS_CLASS:"uif-rowDetails",NEXT_INPUT:"NEXT_INPUT:",SKIP_TOTAL:"skip_total",ADD_CONTROLS:"add_controls",SUBMIT_DATA:"submit_data",DETAILS_DEFAULT_OPEN:"details_default_open",EVENT_NAMESPACE:"uif",EVENTS:{ADJUST_PAGE_MARGIN:"adjustpagemargin.uif",ADJUST_STICKY:"adjuststicky.uif",DIALOG_RESPONSE:"dialogresponse.uif",UPDATE_CONTENT:"updatecontent.uif",
PAGE_UPDATE_COMPLETE:"pageUpdateComplete.uif",SHOW_MODAL:"show.bs.modal",SHOWN_MODAL:"shown.bs.modal",HIDE_MODAL:"hide.bs.modal",HIDDEN_MODAL:"hidden.bs.modal"}};var kradVariables=new JavascriptKradVariables;var bodyHeight;var profilingOn=false;
function handleCheckboxLabelClick(checkboxId,event){var checkbox=jQuery("#"+checkboxId);if(!checkbox.prop("disabled"))if(jQuery(event.target).is("input, select, textarea, option")){if(!checkbox.prop("checked")){checkbox.prop("checked",true);checkbox.change()}}else if(jQuery(event.target).is("a, button"));else if(checkbox.prop("checked")){checkbox.prop("checked",false);checkbox.change()}else{checkbox.prop("checked",true);checkbox.change()}}
function handleRadioLabelClick(radioId,event){var radio=jQuery("#"+radioId);if(!radio.prop("disabled")&&!radio.prop("checked")){radio.prop("checked",true);radio.change()}}function escapeName(name){name=name.replace(/\\'/g,"'");name=name.replace(/'/g,"\\'");name=name.replace(/\\"/g,'"');name=name.replace(/"/g,'\\"');name=name.replace(/\./g,"\\.");name=name.replace(/\[/g,"\\[");name=name.replace(/\]/g,"\\]");return name}
function convertToHtml(text,removeAnchors){if(removeAnchors){text=text.replace(/&lt;a.+?&gt;/gi,"");text=text.replace(/&lt;\/a&gt;/gi,"")}return jQuery("\x3cspan /\x3e").html(text).text()}
function publishHeight(){var parentUrl="";if(navigator.cookieEnabled){parentUrl=jQuery.cookie("parentUrl");var passedUrl=decodeURIComponent(document.location.hash.replace(/^#/,""));if(passedUrl&&passedUrl.substring(0,4)==="http"){jQuery.cookie("parentUrl",passedUrl,{path:"/"});parentUrl=passedUrl}}if(parentUrl===""){parentUrl=window.location;parentUrl=decodeURIComponent(parentUrl)}var height=jQuery("body").outerHeight();jQuery("body").attr("style","overflow-x: auto; padding-right: 20px;");if(parentUrl&&
!isNaN(height)&&height>0){jQuery.postMessage({if_height:height},parentUrl,parent);bodyHeight=height}}function getContext(){if(usePortalForContext())return top.jQuery;else return jQuery.noConflict()}function usePortalForContext(){var usePortal=false;try{usePortal=top!=self&&top.location.host==location.host}catch(e){usePortal=false}return usePortal}function isPortalContainer(window){return window.jQuery("#"+kradVariables.PORTAL_IFRAME_ID).length}
function findElement(selector){var jqElement;if(parent.jQuery("iframe[id*\x3deasyXDM_]").length>0)jqElement=top.jQuery("iframe[id*\x3deasyXDM_]").contents().find("#"+kradVariables.PORTAL_IFRAME_ID).contents().find(selector);else if(parent.parent.jQuery("#"+kradVariables.PORTAL_IFRAME_ID).length>0)jqElement=parent.parent.jQuery("#"+kradVariables.PORTAL_IFRAME_ID).contents().find(selector);else jqElement=top.jq(selector);return jqElement}
function findByDataRole(role,$context){$context=$context||jQuery(document);return $context.find("["+kradVariables.ATTRIBUTES.DATA_ROLE+"\x3d'"+role+"']")}function setConfigParam(paramName,paramValue){var configParams=jQuery(document).data("ConfigParameters");if(!configParams){configParams=new Object;jQuery(document).data("ConfigParameters",configParams)}configParams[paramName]=paramValue}function initializeViewState(viewState){jQuery(document).data(kradVariables.VIEW_STATE,viewState)}
function updateViewState(viewState){var currentViewState=jQuery(document).data(kradVariables.VIEW_STATE);if(currentViewState)jQuery.extend(currentViewState,viewState);else jQuery(document).data(kradVariables.VIEW_STATE,viewState)}function setViewState(key,value){var viewState=jQuery(document).data(kradVariables.VIEW_STATE);if(!viewState){viewState=new Object;jQuery(document).data(kradVariables.VIEW_STATE,viewState)}viewState[key]=value}
function getViewState(key){var viewState=jQuery(document).data(kradVariables.VIEW_STATE);if(viewState&&viewState.hasOwnProperty(key))return viewState[key];return""}function setComponentState(componentId,key,value){var componentState=getViewState(componentId);if(!componentState){componentState=new Object;setViewState(componentId,componentState)}componentState[key]=value}
function getComponentState(componentId,key){var componentState=getViewState(componentId);if(componentState&&componentState.hasOwnProperty(key))return componentState[key];return""}function getSerializedViewState(){var jsonViewState="";var viewState=jQuery(document).data(kradVariables.VIEW_STATE);if(!jQuery.isEmptyObject(viewState)){var jsonViewState=jQuery.toJSON(viewState);jsonViewState=jsonViewState.replace(/"/g,"'")}return jsonViewState}
function getLabel(id){var label=jQuery("[data-label_for\x3d'"+id+"']");if(label)return label.text();else return""}
function runHiddenScripts(id,isSelector,skipValidationBubbling){profile(true,"run-scripts:"+id);if(id){var selector="#"+id;if(isSelector)selector=id;evaluateScripts(selector);if(!isSelector)runScriptsForId(id);if(!skipValidationBubbling){pageValidationPhase=true;jQuery(selector).find("div[data-role\x3d'InputField']").andSelf().filter("div[data-role\x3d'InputField']").each(function(){var id=jQuery(this).attr("id");var field=jQuery("#"+id);var data=getValidationData(field);var parent=field.data("parent");
writeMessagesAtField(id);handleMessagesAtGroup(parent,id,data,true)});writeMessagesForPage();pageValidationPhase=false}}else evaluateScripts();profile(false,"run-scripts:"+id)}
function evaluateScripts(selector){if(selector){jQuery(selector).find("input[data-role\x3d'dataScript']").each(function(){evalHiddenScript(jQuery(this))});jQuery(selector).find("input[name\x3d'script']").each(function(){evalHiddenScript(jQuery(this))})}else{jQuery("input[data-role\x3d'dataScript']").each(function(){evalHiddenScript(jQuery(this))});jQuery("input[name\x3d'script']").each(function(){evalHiddenScript(jQuery(this))})}}
function runScriptsForId(id){if(id){jQuery("input[data-for\x3d'"+id+"']").filter("[data-role\x3d'dataScript']").each(function(){evalHiddenScript(jQuery(this))});jQuery("input[data-for\x3d'"+id+"']").filter("[data-role\x3d'script']").each(function(){evalHiddenScript(jQuery(this))})}}
function evalHiddenScript(jqueryObj){if(jqueryObj.attr("name")===undefined||jqueryObj.closest("[data-open]").length&&jqueryObj.closest("[data-open]").attr("data-open")==="false")return;jqueryObj.removeAttr("name");jqueryObj.attr("script","first_run");var js=jqueryObj.val();try{eval(js)}catch(err){if(err instanceof ReferenceError)throw new ReferenceError(err.message+" -\x3e offending code: "+js,err.fileName,err.lineNumber);else throw err;}if(scriptCleanup)jqueryObj.remove()}
function setMethodToCall(methodToCall){jQuery("\x3cinput type\x3d'hidden' name\x3d'methodToCall' value\x3d'"+methodToCall+"'/\x3e").appendTo(jQuery("#"+kradVariables.FORM_COMPLETE_ID))}
function writeHiddenToForm(propertyName,propertyValue){jQuery('input[name\x3d"'+escapeName(propertyName)+'"]').remove();if(propertyValue&&typeof propertyValue==="string")propertyValue=propertyValue.replace(/"/g,'\\"');jQuery("\x3cinput type\x3d'hidden' name\x3d'"+propertyName+"'"+' value\x3d"'+propertyValue+'"/\x3e').appendTo(jQuery("#"+kradVariables.FORM_COMPLETE_ID))}function clearHiddens(){jQuery("#"+kradVariables.FORM_COMPLETE_ID).html("")}
function coerceValue(name){var value="";var nameSelect="[name\x3d'"+escapeName(name)+"']";var fancyBoxWrapper=jQuery(".fancybox-wrap");var control;if(fancyBoxWrapper.length)control=jQuery(nameSelect,fancyBoxWrapper);if(control==null||control.length==0)control=jQuery(nameSelect,document);if(control.is(":checkbox")&&control.length==1)value=control.filter(":checked").val();else if(control.is(":checkbox")&&control.length>1){value=[];control.filter(":checked").each(function(){value.push(jQuery(this).val())})}else if(control.is(":radio"))value=
control.filter(":checked").val();else if(control.length)if(control.hasClass("watermark")){jQuery.watermark.hide(control,parent);value=control.val();jQuery.watermark.show(control,parent)}else value=control.val();if(value==null){value="";return value}if(value&&!jQuery.isArray(value))if(value.toUpperCase()=="TRUE")value=true;else if(value.toUpperCase()=="FALSE")value=false;return value}
function setValue(name,value){var nameSelect="[name\x3d'"+escapeName(name)+"']";var control=jQuery(nameSelect);if(value!=undefined&&!jQuery.isArray(value)&&(control.is(":radio")||control.is("select")||control.is(":checkbox"))){var valueArray=[value];control.val(valueArray)}else control.val(value)}
function occursBefore(name1,name2){var field1=jQuery("[name\x3d'"+escapeName(name1)+"']");var field2=jQuery("[name\x3d'"+escapeName(name2)+"']");field1.addClass("prereqcheck");field2.addClass("prereqcheck");var fields=jQuery(".prereqcheck");field1.removeClass("prereqcheck");field2.removeClass("prereqcheck");if(fields.index(field1)<fields.index(field2))return true;else return false}
function getAttributeId(elementId){var id=elementId;if(!id)return"";id=elementId.replace(/_control\S*/,"");return id}var routeLogResizeTimer="";var currentHeight=500;var safari=navigator.userAgent.toLowerCase().indexOf("safari");
function setRouteLogIframeDimensions(){var routeLogFrame=document.getElementById("routeLogIFrame");var routeLogFrame=document.getElementById("routeLogIFrame");var routeLogFrameWin=window.frames["routeLogIFrame"];var frameDocHeight=0;try{frameDocHeight=routeLogFrameWin.document.documentElement.scrollHeight}catch(e){frameDocHeight=0}if(frameDocHeight>0)if(routeLogFrame&&routeLogFrameWin)if(Math.abs(frameDocHeight-currentHeight)>30)if(safari>-1){if(Math.abs(frameDocHeight-currentHeight)>59){routeLogFrame.style.height=
frameDocHeight+30+"px";currentHeight=frameDocHeight}}else{routeLogFrame.style.height=frameDocHeight+30+"px";currentHeight=frameDocHeight}if(routeLogResizeTimer=="")routeLogResizeTimer=setInterval("resizeTheRouteLogFrame()",300)}function resizeTheRouteLogFrame(){setRouteLogIframeDimensions()}
function openHelpWindow(url){var windowWidth=screen.availWidth/2;var windowHeight=screen.availHeight/2;var windowPositionY=parseInt(screen.availWidth/2-windowWidth/2);var windowPositionX=parseInt(screen.availHeight/2-windowHeight/2);var windowUrl=url;var windowName="HelpWindow";var windowOptions="width\x3d"+windowWidth+",height\x3d"+windowHeight+",top\x3d"+windowPositionX+",left\x3d"+windowPositionY+",scrollbars\x3dyes,resizable\x3dyes";var myWindow;var is_chrome=navigator.userAgent.toLowerCase().indexOf("chrome")>
-1;if(!is_chrome){myWindow=window.open("",windowName);myWindow.close()}myWindow=window.open(windowUrl,windowName,windowOptions)}function uppercaseValue(controlId){jQuery("#"+controlId).css("text-transform","uppercase");jQuery("#"+controlId).change(function(){this.value=this.value.toUpperCase()})}
function profile(start,testingText){if(profilingOn&&window.console&&window.console.time&&window.console.profile)if(start){console.time(testingText);console.profile(testingText)}else{console.profileEnd();console.timeEnd(testingText)}}function time(start,testingText){if(profilingOn&&window.console&&window.console.time)if(start)console.time(testingText);else console.timeEnd(testingText)}
function deleteLineMouseOver(deleteButton,highlightItemClass){var innerLayout=jQuery(deleteButton).parents("."+kradVariables.TABLE_COLLECTION_LAYOUT_CLASS+", ."+kradVariables.STACKED_COLLECTION_LAYOUT_CLASS).first().attr("class");if(innerLayout)if(innerLayout.indexOf(kradVariables.TABLE_COLLECTION_LAYOUT_CLASS)>=0)jQuery(deleteButton).closest("tr").addClass(highlightItemClass);else jQuery(deleteButton).closest("."+kradVariables.COLLECTION_ITEM_CLASS).addClass(highlightItemClass)}
function deleteLineMouseOut(deleteButton,highlightItemClass){var innerLayout=jQuery(deleteButton).parents("."+kradVariables.TABLE_COLLECTION_LAYOUT_CLASS+", ."+kradVariables.STACKED_COLLECTION_LAYOUT_CLASS).first().attr("class");if(innerLayout)if(innerLayout.indexOf(kradVariables.TABLE_COLLECTION_LAYOUT_CLASS)>=0)jQuery(deleteButton).closest("tr").removeClass(highlightItemClass);else jQuery(deleteButton).closest("."+kradVariables.COLLECTION_ITEM_CLASS).removeClass(highlightItemClass)}
function addLineMouseOver(addButton,highlightItemClass){var innerLayout=jQuery(addButton).parents("."+kradVariables.TABLE_COLLECTION_LAYOUT_CLASS+", ."+kradVariables.STACKED_COLLECTION_LAYOUT_CLASS).first().attr("class");if(innerLayout)if(innerLayout.indexOf(kradVariables.TABLE_COLLECTION_LAYOUT_CLASS)>=0)jQuery(addButton).parent().find("table").addClass(highlightItemClass);else jQuery(addButton).parent().find("."+kradVariables.STACKED_COLLECTION_LAYOUT_CLASS).addClass(highlightItemClass).children().addClass(highlightItemClass)}
function addLineMouseOut(addButton,highlightItemClass){var innerLayout=jQuery(addButton).parents("."+kradVariables.TABLE_COLLECTION_LAYOUT_CLASS+", ."+kradVariables.STACKED_COLLECTION_LAYOUT_CLASS).first().attr("class");if(innerLayout)if(innerLayout.indexOf(kradVariables.TABLE_COLLECTION_LAYOUT_CLASS)>=0)jQuery(addButton).parent().find("table").removeClass(highlightItemClass);else jQuery(addButton).parent().find("."+kradVariables.STACKED_COLLECTION_LAYOUT_CLASS).removeClass(highlightItemClass).children().removeClass(highlightItemClass)}
function collectionLineChanged(inputField,highlightItemClass){jQuery(inputField).triggerHandler("change");var innerLayout=jQuery(inputField).parents("."+kradVariables.TABLE_COLLECTION_LAYOUT_CLASS+", ."+kradVariables.STACKED_COLLECTION_LAYOUT_CLASS).first().attr("class");if(innerLayout&&innerLayout.indexOf(kradVariables.TABLE_COLLECTION_LAYOUT_CLASS)>=0){var row=jQuery(inputField).closest("tr");var enabled=row.find(".dirty").length>0;var saveButton=row.find("."+kradVariables.SAVE_LINE_ACTION_CLASS);
if(enabled){saveButton.removeClass("disabled");saveButton.removeAttr("disabled")}else{saveButton.addClass("disabled");saveButton.attr("disabled","disabled")}}else{var itemGroup=jQuery(inputField).closest("."+kradVariables.COLLECTION_ITEM_CLASS);var enabled=itemGroup.find(".dirty").length>0;var saveButton=itemGroup.find("."+kradVariables.SAVE_LINE_ACTION_CLASS);if(enabled){saveButton.removeClass("disabled");saveButton.removeAttr("disabled")}else{saveButton.addClass("disabled");saveButton.attr("disabled",
"disabled")}}}function wrapAsHandler(source){var script="(function (e) { "+source+"})";return eval(script)}
function showLightboxComponent(componentId,overrideOptions,alwaysRefresh){if(overrideOptions===undefined)overrideOptions={};if(alwaysRefresh===undefined)alwaysRefresh=false;if(jQuery("input[name\x3d'"+kradVariables.RENDERED_IN_DIALOG+"']").val()!=true){jQuery("input[name\x3d'"+kradVariables.RENDERED_IN_DIALOG+"']").val(true);_appendCallbackFunctions(overrideOptions,{afterClose:function(){jQuery("input[name\x3d'"+kradVariables.RENDERED_IN_DIALOG+"']").val(false)}})}if(jQuery("#"+componentId).length>
0&&!alwaysRefresh&&!jQuery("#"+componentId).hasClass(kradVariables.CLASSES.PLACEHOLDER))_showLightboxComponentHelper(componentId,overrideOptions);else createPlaceholderAndRetrieve(componentId,function(){_showLightboxComponentHelper(componentId,overrideOptions)})}
function _showLightboxComponentHelper(componentId,overrideOptions){var component=jQuery("#"+componentId);var cssDisplay="none";if(component.attr("class"))component.attr("class",component.attr("class").replace("clearfix",""));component.find("div, section").each(function(){var classAttribute=jQuery(this).attr("class");if(classAttribute)jQuery(this).attr("class",classAttribute.replace("clearfix",""))});if(top==self)_appendCallbackFunctions(overrideOptions,{beforeClose:function(){jQuery("#"+componentId).parents(".fancybox-wrap").unbind("onReset");
jQuery("#"+componentId).css("display",cssDisplay);jQuery("#"+componentId+kradVariables.DIALOG_PLACEHOLDER).replaceWith(parent.jQuery("#"+componentId));jQuery("input[name\x3d'"+kradVariables.RENDERED_IN_DIALOG+"']").val(false);activeDialogId=null}});else _appendCallbackFunctions(overrideOptions,{beforeClose:function(){parent.jQuery("#"+componentId).parents(".fancybox-wrap").unbind("onReset");jQuery("#"+componentId).css("display",cssDisplay);jQuery("#"+componentId+kradVariables.DIALOG_PLACEHOLDER).replaceWith(parent.jQuery("#"+
componentId));jQuery("input[name\x3d'"+kradVariables.RENDERED_IN_DIALOG+"']").val(false);activeDialogId=null}});component.before("\x3cdiv id\x3d'"+componentId+kradVariables.DIALOG_PLACEHOLDER+"' "+"style\x3d'display: none; height: 0; width: 0;'/\x3e");component=component.detach();component.show();showLightboxContent(component,overrideOptions);activeDialogId=componentId;jQuery(component).trigger(kradVariables.SHOW_DIALOG_EVENT)}
function showLightboxContent(content,overrideOptions){if(overrideOptions===undefined)overrideOptions={};jQuery(content).addClass("uif-lightbox");_initAndOpenLightbox({type:"html",content:content},overrideOptions)}function showLightboxUrl(url,overrideOptions){if(overrideOptions===undefined)overrideOptions={};_initAndOpenLightbox({type:"iframe",href:url,height:"95%",width:"75%",autoSize:false},overrideOptions)}
function _initAndOpenLightbox(contentOptions,overrideOptions){var options={fitToView:true,openEffect:"fade",closeEffect:"fade",openSpeed:200,closeSpeed:200,minHeight:10,helpers:{overlay:{css:{cursor:"arrow"},closeClick:false}}};jQuery.extend(true,options,contentOptions);if(overrideOptions!==undefined)jQuery.extend(true,options,overrideOptions);jQuery.fancybox(options);if(!(contentOptions.type==="iframe"))setupLightboxForm()}
function setupLightboxForm(){jQuery(".fancybox-inner").children().wrap("\x3cform style\x3d'margin:0; padding:0; overflow:auto;' id\x3d'kualiLightboxForm'\x3e");var kualiLightboxForm=jQuery("#kualiLightboxForm");setupValidator(kualiLightboxForm)}function closeLightbox(){if(getContext().fancybox)getContext().fancybox.close()}
function _appendCallbackFunctions(options,appendCallbackFunctions){for(var appendCallbackFunction in appendCallbackFunctions)if(typeof appendCallbackFunctions[appendCallbackFunction]==="function")if(options[appendCallbackFunction]===undefined)options[appendCallbackFunction]=appendCallbackFunctions[appendCallbackFunction];else{var a=options[appendCallbackFunction];var b=appendCallbackFunctions[appendCallbackFunction];options[appendCallbackFunction]=function(){a();b()}}}
function addIdPrefix(component,prefix){if(component.attr("id")!=undefined)component.attr("id",prefix+component.attr("id"));component.find("*").each(function(){if(jQuery(this).attr("id")!=undefined)jQuery(this).attr("id",prefix+jQuery(this).attr("id"))});return component}
function removeIdPrefix(component,prefix){if(component.length>0){var regexp=new RegExp("^"+prefix);if(component.attr("id")!=undefined)component.attr("id",component.attr("id").replace(regexp,""));component.find("*").each(function(){if(jQuery(this).attr("id")!=undefined)jQuery(this).attr("id",jQuery(this).attr("id").replace(regexp,""))})}return component}function openLightboxOnLoad(dialogId){showLightboxComponent(dialogId);jQuery(".uif-dialogButtons").button()}
function initializeTotalsFooter(nRow,aaData,iStart,iEnd,aiDisplay,columns){var footerRow=jQuery(nRow);var dataTable=footerRow.closest("table.dataTable");footerRow.addClass("uif-totalRow");if(jQuery(dataTable).hasClass("uif-hasAddLine"))iEnd=iEnd+1;var onePage=iStart==0&&iEnd==aaData.length;if(onePage)footerRow.find("[data-role\x3d'pageTotal'], label[data-role\x3d'pageTotal']").hide();else footerRow.find("[data-role\x3d'pageTotal'], label[data-role\x3d'pageTotal']").show();var groupTotalRows=dataTable.find("tr[data-groupvalue]");
var hasGroups=dataTable.data("groups");if(!hasGroups||hasGroups&&groupTotalRows.length){var nCells=footerRow.find("th").has("[data-role\x3d'totalsBlock']");var groupLabel=footerRow.find("th:first [data-role\x3d'groupTotalLabel']");var hasTotalsInFooter=false;for(var c=0;c<nCells.length;c++){var cell=jQuery(nCells[c]);var index=cell.index();jQuery("[data-role\x3d'totalsBlock']",cell).each(function(){var totalDiv=jQuery(this).find("[data-role\x3d'total']");var skipTotal=totalDiv.data(kradVariables.SKIP_TOTAL);
if(!skipTotal&&totalDiv.length)calculateTotal(totalDiv,0,aaData.length,columns[c],aaData,aiDisplay);if(totalDiv.length)hasTotalsInFooter=true;var pageTotalDiv=jQuery(this).find("[data-role\x3d'pageTotal']");if(!onePage&&pageTotalDiv.length){calculateTotal(pageTotalDiv,iStart,iEnd,columns[c],aaData,aiDisplay);hasTotalsInFooter=true}if(groupTotalRows.length){var groupTotalDiv=jQuery(this).find("[data-role\x3d'groupTotal']");var rowIndex=0;groupTotalRows.each(function(){var groupTotalRow=jQuery(this);
var tds=groupTotalRow.find("td");var td=jQuery(tds[index]);var groupValue=groupTotalRow.data("groupvalue");var lastValue=aaData[aiDisplay[iEnd-1]][0];if(lastValue&&lastValue.toLowerCase()==groupValue&&iEnd<aiDisplay.length&&aaData[aiDisplay[iEnd]][0]&&aaData[aiDisplay[iEnd]][0].toLowerCase()==groupValue)groupTotalRow.hide();else{var groupCellsToTotal=new Array;for(var i=0;i<aaData.length;i++){var currentRow=aaData[i];var groupingValue;var isRowObject=currentRow!=null&&typeof currentRow==="object"&&
!jQuery.isArray(currentRow);if(isRowObject)groupingValue=currentRow["c0"].val;else groupingValue=currentRow[0];if(groupingValue!=undefined&&normalizeGroupString(groupingValue).toLowerCase()==groupValue)if(isRowObject)groupCellsToTotal.push(currentRow["c"+columns[c]]);else groupCellsToTotal.push(currentRow[columns[c]])}groupTotalRow.show();calculateGroupTotal(groupCellsToTotal,td,groupTotalDiv,rowIndex,columns[c])}if(groupLabel.length&&jQuery(tds[0]).is(":empty")){groupLabel=groupLabel.clone();groupLabel=
groupLabel.attr("id",groupLabel.attr("id")+"_"+rowIndex+columns[c]);groupLabel.find("[id]").each(function(){jQuery(this).attr("id",jQuery(this).attr("id")+"_"+rowIndex+columns[c])});groupLabel.show();jQuery(tds[0]).append(groupLabel)}rowIndex++})}})}if(hasTotalsInFooter){footerRow.show();footerRow.find("th:hidden").addClass("show-footer")}else footerRow.hide()}}
function calculateGroupTotal(cellsToTotal,totalTd,groupTotalDiv,rowIndex,columnIndex){var total=0;var values=new Array;var hasInvalidValues=false;var extraData=groupTotalDiv.data("params");var functionName=groupTotalDiv.data("function");for(var i=0;i<cellsToTotal.length;i++){var currentCell=cellsToTotal[i];var isCellObject=currentCell!=null&&typeof currentCell==="object";var value;if(isCellObject){value=currentCell.val;if(value==null)value=""}var isAddLine=!isCellObject&&currentCell&&jQuery(currentCell).find(":input[name^\x3d'newCollectionLines']").length;
if(!isAddLine)value=coerceTableCellValue(currentCell,true);else continue;value=convertComplexNumericValue(value);if(value==undefined||value&&!jQuery.isNumeric(value)){hasInvalidValues=true;continue}if(value!=""){value=parseFloat(value);values.push(value)}}if(!hasInvalidValues)if(extraData!=undefined)total=window[functionName](values,extraData);else total=window[functionName](values);else total="N/A";var groupTotalDisplay=totalTd.find("[data-role\x3d'groupTotal'][data-function\x3d'"+functionName+"']");
if(groupTotalDisplay.length==0){groupTotalDisplay=groupTotalDiv.clone();groupTotalDisplay=groupTotalDisplay.attr("id",groupTotalDisplay.attr("id")+"_"+rowIndex+columnIndex);groupTotalDisplay.find("[id]").each(function(){jQuery(this).attr("id",jQuery(this).attr("id")+"_"+rowIndex+columnIndex)});totalTd.append(groupTotalDisplay);groupTotalDisplay.show()}var totalValueSpan=groupTotalDisplay.find("[data-role\x3d'totalValue']");if(totalValueSpan.length)totalValueSpan.html(total);else{var newSpan=jQuery("\x3cspan data-role\x3d'totalValue'\x3e"+
total+"\x3c/span\x3e");groupTotalDisplay.append(newSpan)}}
function calculateTotal(totalDiv,start,end,currentColumn,aaData,aiDisplay){if(totalDiv.length&&totalDiv.data("function")){var totalType=totalDiv.data("role");var dataIndex=currentColumn;var functionName=totalDiv.data("function");var extraData=totalDiv.data("params");var total=0;var values=new Array;var hasInvalidValues=false;for(var i=start;i<end;i++){var currentRow;var currentCell;if(totalType=="total")currentRow=aaData[i];else if(totalType="pageTotal")currentRow=aaData[aiDisplay[i]];var value;if(currentRow!=
null&&typeof currentRow==="object"&&!jQuery.isArray(currentRow)){value=currentRow["c"+dataIndex].val;if(value==null)value=""}else currentCell=currentRow[dataIndex];var isAddLine=currentCell&&jQuery(currentCell).find(":input[name^\x3d'newCollectionLines']").length;if(!isAddLine)value=coerceTableCellValue(currentCell,true);else continue;value=convertComplexNumericValue(value);if(value==undefined||value&&!jQuery.isNumeric(value)){hasInvalidValues=true;continue}if(value!=""){value=parseFloat(value);values.push(value)}}if(!hasInvalidValues)if(extraData!=
undefined)total=window[functionName](values,extraData);else total=window[functionName](values);else total="N/A";var totalValueSpan=totalDiv.find("[data-role\x3d'totalValue']");if(totalValueSpan.length)totalValueSpan.html(total);else{var newSpan=jQuery("\x3cspan data-role\x3d'totalValue'\x3e"+total+"\x3c/span\x3e");totalDiv.append(newSpan)}}}
function convertComplexNumericValue(value){if(!value)return value;return value.replace("$","").replace(",","").replace("\x26yen;","").replace("\x26euro;","").replace("\x26pound;","").replace("\x26curren;","").replace("%","").replace("\x26#8355;","").replace("\x26#8356;","").replace("\x26#8359;","").replace("\x26cent;","")}function sumValues(values){var total=0;for(var i=0;i<values.length;i++)total+=values[i];return total}
function averageValues(values,decimalPlaces){var total="N/A";if(!decimalPlaces)decimalPlaces=2;if(values.length){total=0;for(var i=0;i<values.length;i++)total+=values[i];total=(total/values.length).toFixed(decimalPlaces)}return total}function maxValue(values){var max="N/A";if(values.length)max=values[0];for(var i=1;i<values.length;i++)if(values[i]>max)max=values[i];return max}
function minValue(values){var min="N/A";if(values.length)min=values[0];for(var i=1;i<values.length;i++)if(values[i]<min)min=values[i];return min}
function refreshDatatableCellRedraw(input){input=jQuery(input);var cell=input.closest("table.dataTable tr td");var fieldDiv=input.closest("div[data-role\x3d'InputField']");var table=input.closest("table.dataTable");var dataTable=jQuery(table).dataTable();var pos=dataTable.fnGetPosition(cell.get(0));dataTable.fnUpdate(fieldDiv,pos[0],pos[2],false,false);dataTable.fnCallFooterCallback()}
function coerceTableCellValue(element){var tdObject=jQuery(element);var inputField=tdObject.find(":input");var inputFieldValue;if(inputField.length>0)inputFieldValue=inputField.val();else if(tdObject.is(kradVariables.INPUT_FIELD_SELECTOR)||tdObject.is("."+kradVariables.FIELD_CLASS))if(tdObject.find(kradVariables.INLINE_EDIT.VIEW_CLASS).length)inputFieldValue=getImmediateChildText(tdObject.find(kradVariables.INLINE_EDIT.VIEW_CLASS)[0]).trim();else if(tdObject.find("\x3e span").length)inputFieldValue=
getImmediateChildText(tdObject.find("\x3e span")[0]).trim();else inputFieldValue=getImmediateChildText(tdObject[0]).trim();else if(tdObject.is("span"))inputFieldValue=getImmediateChildText(tdObject[0]).trim();else inputFieldValue=element;if(inputFieldValue&&inputFieldValue.toUpperCase()=="TRUE")inputFieldValue=true;else if(inputFieldValue&&inputFieldValue.toUpperCase()=="FALSE")inputFieldValue=false;if(inputFieldValue===""||inputField.prop("disabled")||tdObject.hasClass("uif-groupRow"))return"";else return inputFieldValue}
function getImmediateChildText(node){var text="";for(var child=node.firstChild;!!child;child=child.nextSibling)if(child.nodeType===3)text+=child.nodeValue+" ";return text}
function _handleColData(rowObject,type,colName,newVal){var colObj=rowObject[colName];if(!colObj)return"";if(type==="set"&&newVal&&newVal!=colObj.val){colObj.render=jQuery(newVal).html();colObj.val=coerceTableCellValue(newVal);return}else if(type==="display")return colObj.render;else if(type==="sort"){var sortValue=colObj.val;if(sortValue==null)sortValue=colObj.render;if(colObj.render){var field=jQuery(colObj.render);var isInput=field.is("[data-role\x3d'InputField']");if(isInput){var id=field.attr("id");
var control=field.find("[data-control_for\x3d'"+id+"']");if(control.length)sortValue=coerceValue(control.attr("name"))}}return sortValue}return colObj.val}function normalizeGroupString(sGroup){if(sGroup==="")return"-";return sGroup.toLowerCase().replace(/[^a-zA-Z0-9\u0080-\uFFFF]+/g,"-")}
function getMessage(key,namespace,componentCode){var cacheKey=key;var totalExplicitParameters=3;var args=arguments;var pattern=new RegExp("{(([0-9])*)}","g");if(namespace)cacheKey+="|"+namespace;if(componentCode)cacheKey+="|"+componentCode;var messageText=retrieveFromSession(cacheKey);if(messageText){messageText=String(messageText).replace(pattern,function(match,index){var argumentIndex=parseInt(index)+parseInt(totalExplicitParameters);return args[argumentIndex]});return messageText}var params={};
params.key=key;if(namespace)params.namespace=namespace;if(componentCode)params.componentCode=componentCode;var response=invokeServerListener(kradVariables.RETRIEVE_MESSAGE_METHOD_TO_CALL,params);if(response&&response.messageText){storeToSession(cacheKey,response.messageText);messageText=String(response.messageText).replace(pattern,function(match,index){var argumentIndex=parseInt(index)+parseInt(totalExplicitParameters);return args[argumentIndex]})}return messageText}
function invokeServerListener(methodToCall,params){var serverResponse;var requestData={methodToCall:methodToCall,ajaxRequest:true,ajaxReturnType:"update-none"};jQuery.extend(requestData,params);var postUrl=getConfigParam("kradUrl")+"/listener";jQuery.ajax({url:postUrl,dataType:"json",data:requestData,async:false,beforeSend:null,complete:null,error:null,success:function(data){serverResponse=data}});return serverResponse}
function storeToLocal(key,value){if(localStorage)localStorage[key]=value;else throw Error("Local storage not supported");}function retrieveFromLocal(key){if(localStorage){if(localStorage[key])return localStorage[key];return null}else throw Error("Local storage not supported");}function removeFromLocal(key){if(localStorage){if(localStorage[key])delete localStorage[key]}else throw Error("Local storage not supported");}
function storeToSession(key,value){if(sessionStorage)sessionStorage[key]=value;else throw Error("Session storage not supported");}function retrieveFromSession(key){if(sessionStorage){if(sessionStorage[key])return sessionStorage[key];return null}else throw Error("Session storage not supported");}function removeFromSession(key){if(sessionStorage){if(sessionStorage[key])delete sessionStorage[key]}else throw Error("Session storage not supported");}
function clearServerSideForm(formKeyToClear){var params={};params.formKeyToClear=formKeyToClear;invokeServerListener(kradVariables.CLEAR_FORM_METHOD_TO_CALL,params)}function voidAction(){}function nonEmpty(jqObject){return jqObject&&jqObject.length}function getTableIdFromChild(component){return jQuery(component).closest(".uif-tableCollectionSection").attr("id")}function getCurrentPageForRichTable(id){var activePage=jQuery("#"+id).find(".paginate_active").text();return activePage}
function writeRichTableInfoToHidden(collectionAction,page){var tableId=getTableIdFromChild(collectionAction);var currentPage=page==null?getCurrentPageForRichTable(tableId):page;writeHiddenToForm("currentPageRichTable",currentPage);var dataTableInfo=parseDataTablesInfo(tableId);writeHiddenToForm("fromRecordRichTable",dataTableInfo[1]);writeHiddenToForm("toRecordRichTable",dataTableInfo[3]);writeHiddenToForm("totalRecordsRichTable",dataTableInfo[5])}
function writeCurrentPageToSession(collectionAction,page){var tableId=getTableIdFromChild(collectionAction);var currentPage=page==null?getCurrentPageForRichTable(tableId):page;storeToSession(tableId+":currentPageRichTable",currentPage)}function parseDataTablesInfo(id){var dataTableInfo=jQuery("#"+id).parent().find(".dataTables_info").text();return dataTableInfo.split(" ")}function getFromRecordRichTable(id){return parseDataTablesInfo(id)[1]}
function getToRecordRichTable(id){return parseDataTablesInfo(id)[3]}function getTotalRecordsRichTable(id){return parseDataTablesInfo(id)[5]}function openDataTablePage(tableId,pageNumber){var oTable=getDataTableHandle(tableId);if(oTable==null)oTable=getDataTableHandle(jQuery("#"+tableId).find(".dataTable").attr("id"));if(oTable==null)return;if(pageNumber=="first"||pageNumber=="last")oTable.fnPageChange(pageNumber);else{var numericPage=Number(pageNumber)-1;oTable.fnPageChange(numericPage)}}
function getDataTableHandle(tableId){var oTable=null;var tables=jQuery.fn.dataTable.fnTables();jQuery(tables).each(function(){var dataTable=jQuery(this).dataTable();if(dataTable.attr("id")==tableId)oTable=dataTable});return oTable}function isValueEmpty(value){if(value!=undefined&&value!=null&&value!="")return false;else return true}
function listContains(listValues,values){if(listValues==undefined||listValues.length==0)return false;if(values instanceof Array)return containsAll(values,listValues);else{values=values.toString();return jQuery.inArray(values,listValues)>-1}}function emptyList(listValues){if(listValues==undefined||listValues.length==0)return true;else return false}
function containsAll(subArray,parentArray){for(var i=0,len=subArray.length;i<len;i++)if(subArray[i]!=undefined&&jQuery.inArray(subArray[i].toString(),parentArray)==-1)return false;return true}function generateQuickGuid(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function getCurrentPageId(){var page=jQuery("input#"+kradVariables.PAGE_ID);if(page.length)return page.val();return null}
function stopEvent(e){if(!e)var e=window.event;if(e.stopPropagation){e.preventDefault();e.stopPropagation()}else{e.returnValue=false;e.cancelBubble=true}return false}
function initStickyContent(currentScroll){if(stickyContent==undefined||stickyContent.length==0)return;if(!currentScroll)currentScroll=jQuery(window).scrollTop();var topOffset=Math.floor(stickyContentOffset.top);var totalHeight=0;var margin=0;var prevHeight=0;var automateMargin=false;var innerNonStickyCount=0;var lastStickyContent;stickyContent.each(function(){var height=jQuery(this).outerHeight();var thisOffset=jQuery(this).data("offset");var thisOffsetTop=Math.floor(thisOffset.top);jQuery(this).addClass(kradVariables.STICKY_CLASS);
if(thisOffsetTop<1)automateMargin=true;if(currentScroll>0)jQuery(this).attr("style","position:fixed; left: 0; top: "+(thisOffsetTop-currentScroll)+"px;");else jQuery(this).attr("style","position:fixed; left: 0; top: "+thisOffsetTop+"px;");if(thisOffsetTop>topOffset+1){margin=margin+totalHeight;innerNonStickyCount++;topOffset=thisOffsetTop}totalHeight=totalHeight+height;topOffset=topOffset+height;prevHeight=height;lastStickyContent=jQuery(this)});if(automateMargin&&innerNonStickyCount==1)jQuery("#"+
kradVariables.APP_ID).css("marginTop",margin+"px");var navigation=jQuery("#"+kradVariables.NAVIGATION_ID);var navigationHeightAdjust=0;if(navigation.length&&navigation.has(".nav-tabs").length===0)navigation.attr("style","position:absolute;");var applyMarginToContent=jQuery("[data-role\x3d'View'] \x3e .uif-sticky:last").next();if(applyMarginToContent.length==0)applyMarginToContent=jQuery("[data-role\x3d'View']");jQuery(applyMarginToContent).css("marginTop",totalHeight+navigationHeightAdjust-margin+
"px");currentHeaderHeight=topOffset-currentScroll}
function handleStickyContent(){if(stickyContent==undefined||stickyContent.length==0)return;if(jQuery(window).scrollTop()>=Math.floor(stickyContentOffset.top)){var topOffset=0;var navAdjust=0;stickyContent.each(function(){var height=jQuery(this).outerHeight();var thisOffset=jQuery(this).data("offset");var thisOffsetTop=Math.floor(thisOffset.top);if(thisOffset&&thisOffsetTop-jQuery(window).scrollTop()>topOffset){var diff=thisOffsetTop-jQuery(window).scrollTop();jQuery(this).attr("style","position:fixed; left: 0; top: "+
diff+"px;");navAdjust=diff+height}else{jQuery(this).attr("style","position:fixed; left: 0; top: "+topOffset+"px;");navAdjust=topOffset+height}topOffset=topOffset+height});var nav=jQuery("#"+kradVariables.NAVIGATION_ID);if(nav.length&&nav.has(".nav-tabs").length===0)nav.attr("style","position:absolute;");currentHeaderHeight=navAdjust}else if(jQuery(window).scrollTop()<Math.floor(stickyContentOffset.top))initStickyContent(jQuery(window).scrollTop())}
function initStickyFooterContent(){if(!stickyFooterContent||stickyFooterContent.length==0)return;var bottomOffset=0;jQuery(stickyFooterContent.get().reverse()).each(function(){jQuery(this).addClass("uif-stickyFooter");if(!jQuery(this).is(applicationFooter))jQuery(this).addClass("uif-stickyButtonFooter");jQuery(this).attr("style","position:fixed; left: 0; bottom: "+bottomOffset+"px;");var height=jQuery(this).outerHeight();bottomOffset=bottomOffset+height});currentFooterHeight=bottomOffset;var contentWindowDiff=
jQuery(window).height()-jQuery("[data-role\x3d'View']").height();if(bottomOffset>contentWindowDiff)jQuery("[data-role\x3d'View']").css("paddingBottom",bottomOffset+"px");else jQuery("[data-role\x3d'View']").css("paddingBottom",contentWindowDiff-2+"px")}
function handleStickyFooterContent(){if(!stickyFooterContent||stickyFooterContent.length==0||!applicationFooter||applicationFooter.length==0||stickyFooterContent.filter(applicationFooter).length)return;var appFooterOffset=applicationFooter.offset();var windowHeight=jQuery(window).height();var scrollTop=jQuery(window).scrollTop();if(windowHeight+scrollTop>=Math.floor(appFooterOffset.top)&&scrollTop!=0&&applicationFooter.height()>0){var bottomOffset=windowHeight+scrollTop-Math.floor(appFooterOffset.top);
jQuery(stickyFooterContent.get().reverse()).each(function(){var height=jQuery(this).outerHeight();jQuery(this).attr("style","position:fixed; left: 0; bottom: "+bottomOffset+"px;");bottomOffset=bottomOffset+height});currentFooterHeight=bottomOffset}else initStickyFooterContent()}
function hideEmptyCells(){jQuery("td."+kradVariables.GRID_LAYOUT_CELL_CLASS).each(function(){var isCompareFieldAction=jQuery(this).next("td."+kradVariables.COLLECTION_ACTION_CLASS).children().hasClass(kradVariables.ACTION_FIELD_CLASS);var cellEmpty=(jQuery(this).children().is(".uif-placeholder")||jQuery(this).is(":empty"))&&!isCompareFieldAction;if(cellEmpty){var hd=jQuery(this).siblings("th");var headerEmpty=jQuery(hd).children().is(":hidden")||jQuery(hd).is(":empty");if(headerEmpty)hd.hide();jQuery(this).hide()}})}
function displayCountdown(targetId,until,overrideOptions){var options={until:until,format:"MS",compact:true};jQuery.extend(true,options,overrideOptions);var target=jQuery("#"+targetId);if(target.length>0){target.removeClass(kradVariables.COUNTDOWN_CLASS);target.empty();target.countdown(options)}}function getParentRichTableId(childElement){return jQuery(childElement).parents("table.dataTable").attr("id")}
function getDataTablesColumnData(columnIndex,oTable){var allDataObject=oTable.fnGetData();var colData=[];jQuery.each(allDataObject,function(index,value){colData.push(value[columnIndex])});return colData}
function formatHtml(html){var reg=/(>)(<)(\/*)/g;var wsexp=/ *(.*) +\n/g;var contexp=/(<.+>)(.+\n)/g;html=html.replace(reg,"$1\n$2$3").replace(wsexp,"$1\n").replace(contexp,"$1\n$2");var formatted="";var lines=html.split("\n");var indent=0;var lastType="other";var transitions={"single-\x3esingle":0,"single-\x3eclosing":-1,"single-\x3eopening":0,"single-\x3eother":0,"closing-\x3esingle":0,"closing-\x3eclosing":-1,"closing-\x3eopening":0,"closing-\x3eother":0,"opening-\x3esingle":1,"opening-\x3eclosing":0,
"opening-\x3eopening":1,"opening-\x3eother":1,"other-\x3esingle":0,"other-\x3eclosing":-1,"other-\x3eopening":0,"other-\x3eother":0};for(var i=0;i<lines.length;i++){var ln=lines[i];var single=Boolean(ln.match(/<.+\/>/))||ln.indexOf("\x3cinput")!=-1;var closing=Boolean(ln.match(/<\/.+>/));var opening=Boolean(ln.match(/<[^!].*>/));var type=single?"single":closing?"closing":opening?"opening":"other";var fromTo=lastType+"-\x3e"+type;lastType=type;var padding="";indent+=transitions[fromTo];for(var j=0;j<
indent;j++)padding+="   ";if(fromTo=="opening-\x3eclosing")formatted=formatted.substr(0,formatted.length-1)+ln+"\n";else formatted+=padding+ln+"\n"}return formatted}function getGroupHeaderElement(groupId){var headerWrapper=jQuery("[data-header_for\x3d'"+groupId+"']");var wrapperId=headerWrapper.attr("id");if(wrapperId)wrapperId=wrapperId.replace("_headerWrapper","");return headerWrapper.find("#"+wrapperId+"_header")}
function focusEnd($control){var control=$control[0];if(control!=null&&control.value.length!=0&&$control.is(":text,textarea"))if(control.createTextRange){var FieldRange=control.createTextRange();FieldRange.moveStart("character",control.value.length);FieldRange.collapse();FieldRange.select()}else{if(control.selectionStart||control.selectionStart=="0"){var elemLen=control.value.length;control.selectionStart=elemLen;control.selectionEnd=elemLen;control.focus()}}else $control.focus()}
function createTruncateTooltips(){jQuery(".uif-truncate").each(function(){jQuery(this).on("mouseover",function(){if(jQuery("#"+this.id+"_control").text().trim()&&this.offsetWidth<document.getElementById(this.id+"_control").offsetWidth){var tooltipElement=jQuery(this);var popoverData=tooltipElement.data(kradVariables.POPOVER_DATA);if(!popoverData)popoverData=initializeTooltip(tooltipElement);if(!popoverData.shown){popoverData.options.content=jQuery("#"+this.id+"_control").text();tooltipElement.popover("show");
popoverData.shown=true}}});jQuery(this).on("mouseout",function(){if(jQuery("#"+this.id+"_control").text().trim()&&this.offsetWidth<document.getElementById(this.id+"_control").offsetWidth){var tooltipElement=jQuery(this);var popoverData=tooltipElement.data(kradVariables.POPOVER_DATA);if(popoverData&&popoverData.shown){tooltipElement.popover("hide");popoverData.shown=false}}})})}var jq=jQuery.noConflict();jQuery.blockUI.defaults.css={};jQuery.blockUI.defaults.overlayCSS={};var scriptCleanup;var stickyContent;
var stickyContentOffset;var currentHeaderHeight=0;var currentFooterHeight=0;var stickyFooterContent;var applicationFooter;var pageValidatorReady=false;var validateClient=true;var messageSummariesShown=false;var pauseTooltipDisplay=false;var haltValidationMessaging=false;var pageValidationPhase=false;var gAutoFocus=false;var clientErrorStorage=new Object;var summaryTextExistence=new Object;var clientErrorExistsCheck=false;var skipPageSetup=false;var groupValidationDefaults;var fieldValidationDefaults;
var actionDefaults;var dirtyFormState;var initialViewLoad=false;var originalPageTitle;var errorImage;var errorGreyImage;var warningImage;var infoImage;var detailsOpenImage;var detailsCloseImage;var refreshImage;var navigationImage;var ajaxReturnHandlers={};var activeDialogId;var sessionWarningTimer;var sessionTimeoutTimer;var delay=function(){var timer=0;return function(callback,ms){clearTimeout(timer);timer=setTimeout(callback,ms)}}();var refreshTimerComponentMap={};
jQuery(document).on(kradVariables.PAGE_LOAD_EVENT,function(event){openPopoverContentsWithErrors()});
jQuery(document).ready(function(){time(true,"viewSetup-phase-1");initialViewLoad=true;skipPageSetup=handlePageAndCacheRefreshing();dirtyFormState=new DirtyFormState;scriptCleanup=getConfigParam("scriptCleanup").toLowerCase()==="true";jQuery("input:submit, input:button, a.button, .uif-dialogButtons").button();jQuery(".uif-dialogButtons").next("label").addClass("uif-primaryDialogButton");jQuery.ajaxSetup({error:function(jqXHR,textStatus,errorThrown){showGrowl(getMessage(kradVariables.MESSAGE_STATUS_ERROR,
null,null,textStatus,errorThrown),getMessage(kradVariables.MESSAGE_SERVER_RESPONSE_ERROR),"errorGrowl")},complete:function(jqXHR,textStatus){resetSessionTimers()},statusCode:{403:function(jqXHR,textStatus){handleAjaxSessionTimeout(jqXHR.responseText)}}});hideLoading();jQuery(window).unload(function(){hideLoading()});time(false,"viewSetup-phase-1");jQuery("#"+kradVariables.APP_ID).show();runHiddenScripts("");time(true,"viewSetup-phase-2");dirtyFormState.dirtyHandlerSetup();jQuery(document).on("afterClose.fancybox",
function(){dirtyFormState.skipDirtyChecks=false});setupDisclosureHandler();setupTabShownHandler();setupHelperTextHandler();setupFileDragHandlers();initFieldHandlers();jQuery(window).unbind("resize.tooltip");jQuery(window).bind("resize.tooltip",function(){var visibleTooltips=jQuery(".popover:visible");visibleTooltips.each(function(){jQuery(this).prev("[data-hasTooltip]").popover("show")})});initInlineEditFields();initEnterKeyHandler();setupStickyHeaderAndFooter();hideEmptyCells();jQuery(document).on(kradVariables.PAGE_LOAD_EVENT,
function(){initialViewLoad=false});time(false,"viewSetup-phase-2")});
function initEnterKeyHandler(){jQuery(document).on("keyup","[data-enter_key]",function(event){var keycode=event.keyCode?event.keyCode:event.which;if(keycode!==13)return;event.preventDefault();event.stopPropagation();var enterKeyId=jQuery(event.currentTarget).data(kradVariables.ENTER_KEY_SUFFIX);if(jQuery(event.target).is(":not(a, button, submit, img[data-role\x3d'"+kradVariables.DATA_ROLES.ACTION+"'], input[data-role\x3d'"+kradVariables.DATA_ROLES.ACTION+"'] )")){if(enterKeyId===kradVariables.ENTER_KEY_DEFAULT){var primaryButtons=
jQuery(event.currentTarget).find("[data-default_enter_key_action\x3d'true']");var primaryButton=primaryButtons.filter(function(){return jQuery(this).parents("[data-enter_key]").length<2});if(primaryButton.length)enterKeyId=primaryButton.attr("id")}if(enterKeyId===kradVariables.ENTER_KEY_DEFAULT)return false;if(jQuery("#"+enterKeyId).is(":visible")&&jQuery("#"+enterKeyId).is(":disabled")===false)jQuery(document).find("#"+enterKeyId).click()}});jQuery(document).on("keydown","[data-enter_key], [data-inline_edit] [data-role\x3d'Control']",
function(event){var keycode=event.keyCode?event.keyCode:event.which;if(keycode===13&&jQuery(event.target).is("[data-role\x3d'Control']")&&!jQuery(event.target).is("textarea")){event.preventDefault();return false}})}
function setupStickyHeaderAndFooter(){stickyContent=jQuery("[data-sticky\x3d'true']:visible");if(stickyContent.length){stickyContent.each(function(){jQuery(this).data("offset",jQuery(this).offset())});stickyContentOffset=stickyContent.offset();initStickyContent()}stickyFooterContent=jQuery("[data-sticky_footer\x3d'true']:visible");applicationFooter=jQuery("#"+kradVariables.APPLICATION_FOOTER_WRAPPER);initStickyFooterContent();jQuery(window).unbind("scroll.sticky");jQuery(window).bind("scroll.sticky",
function(){handleStickyContent();handleStickyFooterContent()});jQuery(window).unbind("resize.sticky");jQuery(window).bind("resize.sticky",function(){handleStickyContent();handleStickyFooterContent()})}
function initFieldHandlers(){time(true,"field-handlers");jQuery(document).on("click","a[data-role\x3d'Action'], button[data-role\x3d'Action'], "+"img[data-role\x3d'Action'], input[data-role\x3d'Action']",function(e){e.preventDefault();var action=jQuery(this);if(action.hasClass(kradVariables.DISABLED_CLASS))return false;initActionData(action);if(action.data(kradVariables.PERFORM_DIRTY_VALIDATION)===true&&dirtyFormState.checkDirty(e))return;var functionData=action.data(kradVariables.ACTION_ONCLICK_DATA);
eval("var actionFunction \x3d function(e) {"+functionData+"};");return actionFunction.call(this,e)});jQuery("[data-role\x3d'Page']").on("focus","a[href], area[href], input:not([disabled]), "+"select:not([disabled]), textarea:not([disabled]), button:not([disabled]), "+"iframe, object, embed, *[tabindex], *[contenteditable]",function(event){if(event.target!==event.currentTarget)return true;var element=jQuery(this);var buffer=10;var elementHeight=element.outerHeight();if(!elementHeight)elementHeight=
24;if(stickyFooterContent&&stickyFooterContent.length){var footerOffset=stickyFooterContent.offset().top;if(element.offset().top+elementHeight>footerOffset){var visibleContentSize=jQuery(window).height()-currentHeaderHeight-currentFooterHeight;jQuery(document).scrollTo(element.offset().top+elementHeight+buffer-currentHeaderHeight-visibleContentSize);return true}}if(stickyContent&&stickyContent.length){var reversedStickyContent=jQuery(stickyContent.get().reverse());var headerOffset=reversedStickyContent.offset().top+
reversedStickyContent.outerHeight();if(element.offset().top<headerOffset){jQuery(document).scrollTo(element.offset().top-currentHeaderHeight-buffer);return true}}return true});jQuery(document).on("mouseenter","div[data-role\x3d'InputField'] input:not([type\x3d'image']),"+"div[data-role\x3d'InputField'] fieldset, "+"div[data-role\x3d'InputField'] fieldset \x3e span \x3e input:radio,"+"div[data-role\x3d'InputField'] fieldset \x3e span \x3e input:checkbox,"+"div[data-role\x3d'InputField'] fieldset \x3e span \x3e label, "+
"div[data-role\x3d'InputField'] select, "+"div[data-role\x3d'InputField'] textarea",function(event){var fieldId=jQuery(this).closest("div[data-role\x3d'InputField']").attr("id");var data=getValidationData(jQuery("#"+fieldId));if(data&&data.useTooltip){var elementInfo=getHoverElement(fieldId);var element=elementInfo.element;var tooltipElement=this;var focus=jQuery(tooltipElement).is(":focus");if(elementInfo.type=="fieldset"){tooltipElement=jQuery(element).filter(".uif-tooltip");focus=jQuery(element).filter("fieldset").is(":focus")||
jQuery(element).filter("input").is(":focus")}var hasMessages=jQuery("[data-messages_for\x3d'"+fieldId+"']").children().length;if(!focus&&hasMessages)showMessageTooltip(fieldId)}});jQuery(document).on("mouseleave","div[data-role\x3d'InputField'] input,"+"div[data-role\x3d'InputField'] fieldset, "+"div[data-role\x3d'InputField'] fieldset \x3e span \x3e input:radio,"+"div[data-role\x3d'InputField'] fieldset \x3e span \x3e input:checkbox,"+"div[data-role\x3d'InputField'] fieldset \x3e span \x3e label, "+
"div[data-role\x3d'InputField'] select, "+"div[data-role\x3d'InputField'] textarea",function(event){var fieldId=jQuery(this).closest("div[data-role\x3d'InputField']").attr("id");var data=getValidationData(jQuery("#"+fieldId));if(data&&data.useTooltip){var elementInfo=getHoverElement(fieldId);var element=elementInfo.element;var tooltipElement=this;var focus=jQuery(tooltipElement).is(":focus");if(elementInfo.type=="fieldset"){tooltipElement=jQuery(element).filter(".uif-tooltip");focus=jQuery(element).filter("fieldset").is(":focus")||
jQuery(element).filter("input").is(":focus")}if(!focus)hideMessageTooltip(fieldId)}});jQuery(document).on("focus","div[data-role\x3d'InputField'] input:text, "+"div[data-role\x3d'InputField'] input:password, "+"div[data-role\x3d'InputField'] input:file, "+"div[data-role\x3d'InputField'] input:checkbox, "+"div[data-role\x3d'InputField'] input:radio,"+"div[data-role\x3d'InputField'] select, "+"div[data-role\x3d'InputField'] textarea, "+"div[data-role\x3d'InputField'] option",function(){var id=getAttributeId(jQuery(this).attr("id"));
if(!id)return;var data=getValidationData(jQuery("#"+id));if(data&&data.errors)data.focusedErrors=data.errors;showMessageTooltip(id,false)});jQuery(document).on("focusout","div[data-role\x3d'InputField'] input:text, "+"div[data-role\x3d'InputField'] input:password, "+"div[data-role\x3d'InputField'] input:file, "+"div[data-role\x3d'InputField'] select, "+"div[data-role\x3d'InputField'] textarea",function(event){var id=getAttributeId(jQuery(this).attr("id"));if(!id||isRelatedTarget(this.parentElement,
event)===true)return;var data=getValidationData(jQuery("#"+id));var hadError=false;if(data&&data.focusedErrors)hadError=data.focusedErrors.length;var valid=true;if(validateClient)valid=validateFieldValue(this);var mouseInTooltip=false;if(data&&data.useTooltip&&data.mouseInTooltip)mouseInTooltip=data.mouseInTooltip;if(!hadError&&!valid)showMessageTooltip(id,true,true);else if(!mouseInTooltip)hideMessageTooltip(id)});jQuery(document).on("change","div[data-role\x3d'InputField'] input:checkbox, "+"div[data-role\x3d'InputField'] input:radio, "+
"div[data-role\x3d'InputField'] select",function(){if(validateClient)validateFieldValue(this)});jQuery(document).on("change","div[data-role\x3d'InputField'] input:text, "+"div[data-role\x3d'InputField'] input:password, "+"div[data-role\x3d'InputField'] input:file, "+"div[data-role\x3d'InputField'] select, "+"div[data-role\x3d'InputField'] textarea, "+"div[data-role\x3d'InputField'] input:checkbox, "+"div[data-role\x3d'InputField'] input:radio",function(){var id=getAttributeId(jQuery(this).attr("id"));
if(!id)return;var field=jQuery("#"+id);var data=getValidationData(field);if(data){data.fieldModified=true;field.data(kradVariables.VALIDATION_MESSAGES,data)}});jQuery(document).on("click","div[data-role\x3d'InputField'] input:checkbox, "+"div[data-role\x3d'InputField'] input:radio,"+"fieldset[data-type\x3d'CheckboxSet'] span \x3e label,"+"fieldset[data-type\x3d'RadioSet'] span \x3e label",function(){var event=jQuery.Event("handleFieldsetMessages");event.element=this;jQuery("fieldset \x3e span \x3e input").not(this).trigger(event)});
jQuery(document).on("focus","div[data-role\x3d'InputField'] input:checkbox, "+"div[data-role\x3d'InputField'] input:radio",function(){var event=jQuery.Event("handleFieldsetMessages");event.element=this;jQuery("fieldset \x3e span \x3e input").not(this).trigger(event)});jQuery(document).on("focusout","div[data-role\x3d'InputField'] input:checkbox, "+"div[data-role\x3d'InputField'] input:radio",function(){var parent=jQuery(this).parent();var id=getAttributeId(jQuery(this).attr("id"));if(!id)return;var data=
getValidationData(jQuery("#"+id));var mouseInTooltip=false;if(data&&data.useTooltip&&data.mouseInTooltip)mouseInTooltip=data.mouseInTooltip;if(parent.parent().is("fieldset")){jQuery(this).one("handleFieldsetMessages",function(event){var proceed=true;if(event.element&&jQuery(event.element).is(jQuery(this).closest("fieldset").find("input")))proceed=false;if(proceed){var hadError=parent.parent().find("input").hasClass("error");var valid=true;if(validateClient)valid=validateFieldValue(this);if(!hadError&&
!valid)showMessageTooltip(id,true,true);else if(!mouseInTooltip)hideMessageTooltip(id)}});var currentElement=this;setTimeout(function(){var event=jQuery.Event("handleFieldsetMessages");event.element=[];jQuery(currentElement).trigger(event)},500)}else if(!jQuery(this).parent().parent().is("fieldset")){var hadError=jQuery(this).hasClass("error");var valid=true;if(validateClient)valid=validateFieldValue(this);if(!hadError&&!valid)showMessageTooltip(id,true,true);else if(!mouseInTooltip)hideMessageTooltip(id)}});
jQuery(document).on("change","table.dataTable div[data-role\x3d'InputField'][data-total\x3d'change'] :input",function(){refreshDatatableCellRedraw(this)});jQuery(document).on("input","table.dataTable div[data-role\x3d'InputField'][data-total\x3d'keyup'] :input",function(){var input=this;delay(function(){refreshDatatableCellRedraw(input)},300)});var buttonHovered=false;var $currentControl;jQuery(document).on("mouseover","div[data-role\x3d'InputField'] div.input-group div.input-group-btn a",function(){buttonHovered=
true}).on("mouseout","div[data-role\x3d'InputField'] div.input-group div.input-group-btn a",function(){buttonHovered=false}).on("focusout","div[data-role\x3d'InputField'] div.input-group",function(event){$currentControl=jQuery(this).children("[data-role\x3d'Control']");var radioButtons=jQuery(this).find("input:radio");if($currentControl.length&&isRelatedTarget(this,event)!==true&&buttonHovered===false&&radioButtons.length==0)validateFieldValue($currentControl)});jQuery(document).on("mouseover",".ui-datepicker",
function(){buttonHovered=true}).on("mouseout",".ui-datepicker",function(){buttonHovered=false});jQuery(document).on("focusout",".fancybox-skin",function(){buttonHovered=false;$currentControl.focus()});time(false,"field-handlers")}
function isRelatedTarget(element,event){if(!event)return true;try{for(var key in event.currentTarget)if(key.match(/fancy/g)&&key!==undefined){console.log(key);return true}if("relatedTarget"in event&&event.relatedTarget!==null&&element===event.relatedTarget.parentElement.parentElement||"relatedTarget"in event&&event.relatedTarget!==null&&element===event.relatedTarget.parentElement)return true;return false}catch(e){return false}}
function setupDisclosureHandler(){jQuery(document).on("click","a[data-role\x3d'"+kradVariables.DATA_ROLES.DISCLOSURE_LINK+"']",function(event){event.preventDefault();var link=jQuery(this);var disclosureContent=jQuery("#"+link.data("linkfor"));var isOpen=disclosureContent.attr(kradVariables.ATTRIBUTES.DATA_OPEN);var animationSpeed=link.data("speed");var linkId=link.attr("id");var widgetId=link.data("widgetid");var ajax=link.data("ajax");if(isOpen=="true"){disclosureContent.attr(kradVariables.ATTRIBUTES.DATA_OPEN,
false);var options={duration:animationSpeed,step:function(){disclosureContent.trigger(kradVariables.EVENTS.ADJUST_STICKY)}};disclosureContent.slideUp(options);link.find("#"+linkId+"_exp").hide();link.find("#"+linkId+"_col").show();setComponentState(widgetId,"open",false);disclosureContent.trigger(kradVariables.EVENTS.ADJUST_STICKY)}else{disclosureContent.attr(kradVariables.ATTRIBUTES.DATA_OPEN,true);runHiddenScripts(disclosureContent,true,false);link.find("#"+linkId+"_exp").show();link.find("#"+linkId+
"_col").hide();setComponentState(widgetId,"open",true);if(ajax&&disclosureContent.data("role")=="placeholder"){showLoading("Loading...",disclosureContent,true);disclosureContent.show();disclosureContent.trigger(kradVariables.EVENTS.ADJUST_STICKY);retrieveComponent(linkId.replace("_toggle",""),null,null,null,true)}else{var options={duration:animationSpeed,step:function(){disclosureContent.trigger(kradVariables.EVENTS.ADJUST_STICKY)}};disclosureContent.slideDown(options)}}})}
function setupTabShownHandler(){jQuery(document).on("shown.bs.tab","[data-type\x3d'Uif-TabGroup']",function(event){var tabGroupId=jQuery(event.currentTarget).attr("id");var tabId=jQuery(event.target).attr("id").replace("_tab","");setComponentState(tabGroupId,"activeTab",tabId)})}
function setupHelperTextHandler(){jQuery(document).on(kradVariables.EVENTS.UPDATE_CONTENT+" ready",function(){if(jQuery(".uif-helperText").length)jQuery(".uif-helperText").slideUp();jQuery(".has-helper").on("focus",function(){if(jQuery(this).parent().find(".uif-helperText"))jQuery(this).parent().find(".uif-helperText").slideDown()});jQuery(".has-helper").on("blur",function(){if(jQuery(this).parent().find(".uif-helperText"))jQuery(this).parent().find(".uif-helperText").slideUp()})})}
function setupFileDragHandlers(){jQuery(document).on("dragover",function(e){e.preventDefault();var $fileCollections=jQuery(".uif-fileUploadCollection");$fileCollections.each(function(){var $fileCollection=jQuery(this);var id=$fileCollection.attr("id");var drop=$fileCollection.find(".uif-drop");if(!drop.length){drop=jQuery("\x3cdiv class\x3d'uif-drop uif-dropBlock'\x3e\x3c/div\x3e");drop=drop.add("\x3cspan class\x3d'uif-drop uif-dropText'\x3e\x3cspan class\x3d'icon-plus'/\x3e Drop Files to Add...\x3c/span\x3e");
drop.bind("drop",function(){e.preventDefault();jQuery("#"+id).trigger("drop");jQuery(this).hide()});$fileCollection.append(drop)}else drop.show()})});jQuery(document).on("drop dragleave",function(e){e.preventDefault();var fileCollections=jQuery(".uif-drop");fileCollections.each(function(){jQuery(this).hide()})})}function hideTooltips(element){if(element!=undefined&&element.length)jQuery(element).find("[data-hasTooltip]").popover("hide");else jQuery("[data-hasTooltip]").popover("hide")}
function setupPage(validate){time(true,"page-setup");dirtyFormState.resetDirtyFieldCount();if(skipPageSetup){skipPageSetup=false;return}var topGroupUpdateDiv=jQuery("#"+kradVariables.TOP_GROUP_UPDATE);var topGroupUpdate=topGroupUpdateDiv.find("\x3e").detach();if(topGroupUpdate.length&&!initialViewLoad)jQuery("#Uif-TopGroupWrapper \x3e").replaceWith(topGroupUpdate);topGroupUpdateDiv.remove();var headerUpdateDiv=jQuery("#"+kradVariables.VIEW_HEADER_UPDATE);var viewHeaderUpdate=headerUpdateDiv.find(".uif-viewHeader").detach();
if(viewHeaderUpdate.length&&!initialViewLoad){var currentHeader=jQuery(".uif-viewHeader");if(currentHeader.data("offset"))viewHeaderUpdate.data("offset",currentHeader.data("offset"));jQuery(".uif-viewHeader").replaceWith(viewHeaderUpdate);stickyContent=jQuery("[data-sticky\x3d'true']:visible")}headerUpdateDiv.remove();originalPageTitle=document.title;setupImages();jQuery(document).on(kradVariables.EVENTS.ADJUST_STICKY,function(){stickyFooterContent=jQuery("[data-sticky_footer\x3d'true']");initStickyFooterContent();
handleStickyFooterContent();initStickyContent()});if(groupValidationDefaults==undefined||fieldValidationDefaults==undefined){groupValidationDefaults=jQuery("[data-role\x3d'View']").data(kradVariables.GROUP_VALIDATION_DEFAULTS);fieldValidationDefaults=jQuery("[data-role\x3d'View']").data(kradVariables.FIELD_VALIDATION_DEFAULTS)}if(actionDefaults==undefined)actionDefaults=jQuery("[data-role\x3d'View']").data(kradVariables.ACTION_DEFAULTS);messageSummariesShown=false;validateClient=validate;var pageId=
getCurrentPageId();updateRequestUrl(pageId);prevPageMessageTotal=0;var page=jQuery("[data-role\x3d'Page']");var hasServerMessagesData=page.data(kradVariables.SERVER_MESSAGES);if(hasServerMessagesData){pageValidationPhase=true;jQuery("div[data-role\x3d'InputField']").each(function(){var id=jQuery(this).attr("id");handleMessagesAtField(id,true)});writeMessagesForPage();messageSummariesShown=true;pageValidationPhase=false}if(jQuery(".uif-pageValidationHeader").length)jQuery(".uif-pageValidationHeader").focus();
setupValidator(jQuery("#kualiForm"));jQuery(".required").each(function(){jQuery(this).attr("aria-required","true")});jQuery(document).trigger(kradVariables.VALIDATION_SETUP_EVENT);pageValidatorReady=true;jQuery(document).trigger(kradVariables.PAGE_LOAD_EVENT);jQuery.watermark.showAll();var focusId=page.data(kradVariables.FOCUS_ID);if(!focusId)focusId="FIRST";performFocusAndJumpTo(true,focusId,page.data(kradVariables.JUMP_TO_ID),page.data(kradVariables.JUMP_TO_NAME));time(false,"page-setup")}
function setupValidator(form){jQuery(form).validate()}
function setupImages(){errorImage="\x3cimg class\x3d'"+kradVariables.VALIDATION_IMAGE_CLASS+"' src\x3d'"+getConfigParam(kradVariables.IMAGE_LOCATION)+"validation/error.png' alt\x3d'"+getMessage(kradVariables.MESSAGE_ERROR)+"' /\x3e ";errorGreyImage="\x3cimg class\x3d'"+kradVariables.VALIDATION_IMAGE_CLASS+"' src\x3d'"+getConfigParam(kradVariables.IMAGE_LOCATION)+"validation/error-grey.png' alt\x3d'"+getMessage(kradVariables.MESSAGE_ERROR_FIELD_MODIFIED)+"' /\x3e ";warningImage="\x3cimg class\x3d'"+
kradVariables.VALIDATION_IMAGE_CLASS+"' src\x3d'"+getConfigParam(kradVariables.IMAGE_LOCATION)+"validation/warning.png' alt\x3d'"+getMessage(kradVariables.MESSAGE_WARNING)+"' /\x3e ";infoImage="\x3cimg class\x3d'"+kradVariables.VALIDATION_IMAGE_CLASS+"' src\x3d'"+getConfigParam(kradVariables.IMAGE_LOCATION)+"validation/info.png' alt\x3d'"+getMessage(kradVariables.MESSAGE_INFORMATION)+"' /\x3e ";detailsOpenImage=jQuery("\x3cimg class\x3d'"+kradVariables.VALIDATION_IMAGE_CLASS+"' src\x3d'"+getConfigParam(kradVariables.IMAGE_LOCATION)+
"details_open.png' alt\x3d'"+getMessage(kradVariables.MESSAGE_DETAILS)+"' /\x3e ");detailsCloseImage=jQuery("\x3cimg class\x3d'"+kradVariables.VALIDATION_IMAGE_CLASS+"' src\x3d'"+getConfigParam(kradVariables.IMAGE_LOCATION)+"details_close.png' alt\x3d'"+getMessage(kradVariables.MESSAGE_CLOSE_DETAILS)+"' /\x3e ");refreshImage=jQuery("\x3cimg src\x3d'"+getContext().blockUI.defaults.refreshOptions.blockingImage+"' alt\x3d'"+getMessage(kradVariables.MESSAGE_LOADING)+"' /\x3e ");navigationImage=jQuery("\x3cimg src\x3d'"+
getContext().blockUI.defaults.navigationOptions.blockingImage+"' alt\x3d'"+getMessage(kradVariables.MESSAGE_LOADING)+"' /\x3e ")}function getConfigParam(paramName){var configParams=jQuery(document).data("ConfigParameters");if(configParams)return configParams[paramName];return""}
jQuery.validator.setDefaults({onsubmit:false,errorClass:kradVariables.ERROR_CLASS,validClass:kradVariables.VALID_CLASS,ignore:"."+kradVariables.IGNORE_VALIDATION_CLASS+", ."+kradVariables.IGNORE_VALIDATION_TEMP_CLASS+", "+kradVariables.DIALOG_SELECTOR+":hidden [data-role\x3d'Control']",wrapper:"",onfocusout:false,onclick:false,onkeyup:function(element){if(validateClient){var id=getAttributeId(jQuery(element).attr("id"));if(!id)return;var data=getValidationData(jQuery("#"+id));if(data&&data.focusedErrors&&
data.focusedErrors.length){var valid=validateFieldValue(element);if(!valid)showMessageTooltip(id,false,true)}}},highlight:function(element,errorClass,validClass){jQuery(element).addClass(errorClass).removeClass(validClass);jQuery(element).attr("aria-invalid","true")},unhighlight:function(element,errorClass,validClass){removeClientValidationError(element)},errorPlacement:function(error,element){},showErrors:function(nameErrorMap,elementObjectList){this.defaultShowErrors();for(var i in elementObjectList){var element=
elementObjectList[i].element;var message=elementObjectList[i].message;var id=getAttributeId(jQuery(element).attr("id"));if(!id)return;var field=jQuery("#"+id);var data=getValidationData(field);var exists=false;if(data&&data.errors&&data.errors.length)for(var j in data.errors)if(data.errors[j]===message)exists=true;if(!exists){data.errors=[];data.errors.push(message);field.data(kradVariables.VALIDATION_MESSAGES,data)}if(data)if(messageSummariesShown)handleMessagesAtField(id);else writeMessagesAtField(id);
if(data&&!exists&&!pauseTooltipDisplay);}},success:function(label){var htmlFor=jQuery(label).attr("for");var id="";if(htmlFor.indexOf("_control")>=0){id=getAttributeId(htmlFor);if(!id)return}else{id=jQuery("[name\x3d'"+escapeName(htmlFor)+"']:first").attr("id");id=getAttributeId(id);if(!id)return}var field=jQuery("#"+id);var data=getValidationData(field);if(data&&data.errors&&data.errors.length){data.errors=[];field.data(kradVariables.VALIDATION_MESSAGES,data);if(messageSummariesShown)handleMessagesAtField(id);
else writeMessagesAtField(id);showMessageTooltip(id,false,true)}}});jQuery.validator.addMethod("minExclusive",function(value,element,param){if(param.length==1||param[1]())return this.optional(element)||value>param[0];else return true});jQuery.validator.addMethod("maxInclusive",function(value,element,param){if(param.length==1||param[1]())return this.optional(element)||value<=param[0];else return true});
jQuery.validator.addMethod("minLengthConditional",function(value,element,param){if(param.length==1||param[1]())return this.optional(element)||this.getLength(jQuery.trim(value),element)>=param[0];else return true});jQuery.validator.addMethod("maxLengthConditional",function(value,element,param){if(param.length==1||param[1]())return this.optional(element)||this.getLength(jQuery.trim(value),element)<=param[0];else return true});
jQuery.fn.dataTableExt.oSort["kuali_date-asc"]=function(a,b){var date1=a.split("/");var date2=b.split("/");var x=(date1[2]+date1[0]+date1[1])*1;var y=(date2[2]+date2[0]+date2[1])*1;return x<y?-1:x>y?1:0};jQuery.fn.dataTableExt.oSort["kuali_date-desc"]=function(a,b){var date1=a.split("/");var date2=b.split("/");var x=(date1[2]+date1[0]+date1[1])*1;var y=(date2[2]+date2[0]+date2[1])*1;return x<y?1:x>y?-1:0};
jQuery.fn.dataTableExt.oSort["kuali_percent-asc"]=function(a,b){var num1=a.replace(/[^0-9]/g,"");var num2=b.replace(/[^0-9]/g,"");num1=num1=="-"||num1===""||isNaN(num1)?0:num1*1;num2=num2=="-"||num2===""||isNaN(num2)?0:num2*1;return num1-num2};jQuery.fn.dataTableExt.oSort["kuali_percent-desc"]=function(a,b){var num1=a.replace(/[^0-9]/g,"");var num2=b.replace(/[^0-9]/g,"");num1=num1=="-"||num1===""||isNaN(num1)?0:num1*1;num2=num2=="-"||num2===""||isNaN(num2)?0:num2*1;return num2-num1};
jQuery.fn.dataTableExt.oSort["kuali_currency-asc"]=function(a,b){var x=a=="-"?0:a.replace(/,/g,"");var y=b=="-"?0:b.replace(/,/g,"");if(x.charAt(0)=="$")x=x.substring(1);if(y.charAt(0)=="$")y=y.substring(1);x=parseFloat(x);y=parseFloat(y);x=isNaN(x)?0:x*1;y=isNaN(y)?0:y*1;return x-y};
jQuery.fn.dataTableExt.oSort["kuali_currency-desc"]=function(a,b){var x=a=="-"?0:a.replace(/,/g,"");var y=b=="-"?0:b.replace(/,/g,"");if(x.charAt(0)=="$")x=x.substring(1);if(y.charAt(0)=="$")y=y.substring(1);x=parseFloat(x);y=parseFloat(y);x=isNaN(x)?0:x;y=isNaN(y)?0:y;return y-x};
jQuery.fn.dataTableExt.afnSortData["dom-text"]=function(oSettings,iColumn,iVisColumn){var aData=[];jQuery(oSettings.oApi._fnGetTrNodes(oSettings)).each(function(){var td=jQuery("\x3etd:eq("+iVisColumn+"):first",this);var input=jQuery(td).find("input:text");var value="";if(input.length!=0)value=input.val();else{var linkField=jQuery(td).find(".uif-linkField");if(linkField.length!=0)value=linkField.text().trim();else{var inputField=jQuery(td).find(".uif-field");if(inputField.length!=0)value=jQuery.trim(inputField.text());
else{value=jQuery(td).text().trim();if(value.charAt(0)=="$")value=value.substring(1)}}}var additionalDisplaySeparatorIndex=value.indexOf("*-*");if(additionalDisplaySeparatorIndex!=-1)value=value.substring(0,additionalDisplaySeparatorIndex).trim();aData.push(value)});return aData};
jQuery.fn.dataTableExt.afnSortData["dom-select"]=function(oSettings,iColumn,iVisColumn){var aData=[];jQuery(oSettings.oApi._fnGetTrNodes(oSettings)).each(function(){var td=jQuery("\x3etd:eq("+iVisColumn+"):first",this);var selected=jQuery(td).find("select option:selected:first");if(selected.length!=0)aData.push(selected.text());else{var input1=jQuery(td).find("[data-role\x3d'InputField']");if(input1.length!=0)aData.push(jQuery.trim(input1.text()));else aData.push("")}});return aData};
jQuery.fn.dataTableExt.afnSortData["dom-checkbox"]=function(oSettings,iColumn,iVisColumn){var aData=[];jQuery(oSettings.oApi._fnGetTrNodes(oSettings)).each(function(){var td=jQuery("\x3etd:eq("+iVisColumn+"):first",this);var checkboxes=jQuery(td).find("input:checkbox");if(checkboxes.length!=0){var str="";for(i=0;i<checkboxes.length;i++){var check=checkboxes[i];if(check.checked==true&&check.value.length>0)str+=check.value+" "}aData.push(str)}else{var input1=jQuery(td).find("[data-role\x3d'InputField']");
if(input1.length!=0)aData.push(jQuery.trim(input1.text()));else aData.push("")}});return aData};
jQuery.fn.dataTableExt.afnSortData["dom-radio"]=function(oSettings,iColumn,iVisColumn){var aData=[];jQuery(oSettings.oApi._fnGetTrNodes(oSettings)).each(function(){var td=jQuery("\x3etd:eq("+iVisColumn+"):first",this);var radioButtons=jQuery(td).find("input:radio");if(radioButtons.length!=0){var value="";for(i=0;i<radioButtons.length;i++){var radio=radioButtons[i];if(radio.checked==true){value=radio.value;break}}aData.push(value)}else{var input1=jQuery(td).find("[data-role\x3d'InputField']");if(input1.length!=
0)aData.push(jQuery.trim(input1.text()));else aData.push("")}});return aData};window.onerror=errorHandler;function errorHandler(msg,url,lno){jQuery("#"+kradVariables.APP_ID).show();jQuery("[data-role\x3d'Page']").show();var context=getContext();context.unblockUI();var errorMessage=msg+"\x3cbr/\x3e"+url+"\x3cbr/\x3e"+lno;showGrowl(errorMessage,"Javascript Error","errorGrowl");if(window.console)console.log(errorMessage);return false}
function KradRequest(action){if(!action)return;if(action)this.$action=action;if(action.data("ajaxsubmit")!==undefined)this.ajaxSubmit=action.data("ajaxsubmit");this.additionalData=jQuery.extend({},action.data(kradVariables.SUBMIT_DATA));this.methodToCall=this.additionalData["methodToCall"];if(action.data("successcallback")!==undefined)this.successCallback=action.data("successcallback");if(action.data("errorcallback")!==undefined)this.errorCallback=action.data("errorcallback");if(action.data("presubmitcall")!==
undefined)this.preSubmitCall=action.data("presubmitcall");if(action.data("confirmdialogid")!==undefined)this.confirmDialogId=action.data("confirmdialogid");if(action.data("confirm_prompttext")!==undefined)this.confirmPromptText=action.data("confirm_prompttext");if(action.data("dismissdialogoption")!==undefined)this.dismissDialogOption=action.data("dismissdialogoption");if(action.data("dismissdialogid")!==undefined)this.dismissDialogId=action.data("dismissdialogid");if(action.data("validate")!==undefined)this.validate=
action.data("validate");if(action.data("loadingmessage")!==undefined)this.loadingMessage=action.data("loadingmessage");if(action.data("disableblocking")!==undefined)this.disableBlocking=action.data("disableblocking");if(action.data("ajaxreturntype")!==undefined)this.ajaxReturnType=action.data("ajaxreturntype");if(action.data("refreshid")!==undefined)this.refreshId=action.data("refreshid");if(action.data("dirtyonaction")!==undefined)this.dirtyOnAction=action.data("dirtyonaction");if(action.data("cleardirtyonaction")!==
undefined)this.clearDirtyOnAction=action.data("cleardirtyonaction");if(action.data("fieldstosend")!==undefined)this.fieldsToSend=action.data("fieldstosend")}
KradRequest.prototype={methodToCall:"refresh",$action:null,additionalData:{},fieldsToSend:null,ajaxSubmit:true,ajaxReturnType:"update-page",refreshId:null,validate:false,dirtyOnAction:false,clearDirtyOnAction:false,loadingMessage:getMessage(kradVariables.MESSAGE_LOADING),elementToBlock:null,disableBlocking:false,preSubmitCall:null,confirmDialogId:null,confirmPromptText:null,dismissDialogOption:null,dismissDialogId:null,successCallback:null,errorCallback:null,send:function(){var dialogDismissed=this._dismissDialogIfNecessary(kradVariables.DIALOG_DISMISS_OPTIONS.IMMEDIATE);
if(dialogDismissed)return;var continueRequest=this._executePreSubmit();if(continueRequest)this._continueAfterPreSubmit()},_executePreSubmit:function(){if(!this._validateBeforeAction())return false;var kradRequest=this;if(this.preSubmitCall){if(typeof this.preSubmitCall==="string"){var preSubmitCode="(function(){"+this.preSubmitCall+"})();";var preSubmitValid=eval(preSubmitCode)}else var preSubmitValid=this.preSubmitCall(this);if(!preSubmitValid){clearHiddens();return false}}return this._confirmAction()},
_validateBeforeAction:function(){if(!this.validate)return true;valid=validateForm(this.$action);if(!valid)clearHiddens();return valid},_confirmAction:function(){if(!this.confirmDialogId&&!this.confirmPromptText)return true;var kradRequest=this;var responseHandler=function(event){if(event.response==="true")kradRequest._continueAfterPreSubmit()};if(this.confirmDialogId)showDialog(this.confirmDialogId,{responseHandler:responseHandler});else{var confirmText=this.confirmPromptText;var evalIndex=this.confirmPromptText.indexOf("eval(");
if(evalIndex>=0){confirmText=this.confirmPromptText.slice(evalIndex+5,this.confirmPromptText.lastIndexOf(")"));confirmText=eval(confirmText)}confirmDialog(confirmText,undefined,{responseHandler:responseHandler})}return false},_continueAfterPreSubmit:function(){var dialogDismissed=this._dismissDialogIfNecessary(kradVariables.DIALOG_DISMISS_OPTIONS.PRESUBMIT);if(dialogDismissed)return;if(this.clearDirtyOnAction)dirtyFormState.reset();if(this.dirtyOnAction)dirtyFormState.incrementDirtyFieldCount();if(!this.ajaxSubmit){dirtyFormState.reset();
this._submitNonAjax();clearHiddens();return}var data={};data.methodToCall=this.methodToCall;data.ajaxReturnType=this.ajaxReturnType;data.ajaxRequest=this.ajaxSubmit;if(this.$action&&this.$action.is("["+kradVariables.ATTRIBUTES.ID+"]"))data.triggerActionId=this.$action.attr(kradVariables.ATTRIBUTES.ID);if(this.refreshId)data.updateComponentId=this.refreshId;if(this.additionalData)jQuery.extend(data,this.additionalData);var jsonViewState=getSerializedViewState();if(jsonViewState)jQuery.extend(data,
{clientViewState:jsonViewState});if(this.dismissDialogId){var request=this;jQuery("#"+this.dismissDialogId).one(kradVariables.EVENTS.HIDDEN_MODAL,function(event){request._submitAjax(data)});this._dismissDialogIfNecessary(kradVariables.DIALOG_DISMISS_OPTIONS.REQUEST)}else this._submitAjax(data)},_submitNonAjax:function(){writeHiddenToForm("methodToCall",this.methodToCall);for(key in this.additionalData)writeHiddenToForm(key,this.additionalData[key]);if(this.$action&&this.$action.is("["+kradVariables.ATTRIBUTES.ID+
"]"))writeHiddenToForm("triggerActionId",this.$action.attr(kradVariables.ATTRIBUTES.ID));if(!this.disableBlocking)showLoading(this.loadingMessage);var jsonViewState=getSerializedViewState();if(jsonViewState)writeHiddenToForm("clientViewState",jsonViewState);var fileInputs=jQuery('input[type\x3dfile]:enabled[value!\x3d""]',"#kualiForm");var hasFileInputs=fileInputs.length>0;if(hasFileInputs)jQuery("#kualiForm").attr("enctype","multipart/form-data");jQuery("#kualiForm").submit()},_submitAjax:function(data){var request=
this;if(!request.fieldsToSend||request.fieldsToSend.length===0){var submitOptions={data:data,success:function(response){request._processSuccess(response,request)},error:function(jqXHR,textStatus){request._processError(jqXHR,textStatus,request)}};this._setupBlocking(submitOptions);jQuery("#"+kradVariables.KUALI_FORM).ajaxSubmit(submitOptions)}else{var dataSerialized=jQuery.param(data,true);if(dataSerialized)dataSerialized=dataSerialized+"\x26"+jQuery("#"+kradVariables.FORM_INFO_ID+" \x3e input,"+" #"+
kradVariables.FORM_COMPLETE_ID+"\x3e input").fieldSerialize();else dataSerialized=jQuery("#"+kradVariables.FORM_INFO_ID+" \x3e input,"+" #"+kradVariables.FORM_COMPLETE_ID+"\x3e input").fieldSerialize();jQuery(request.fieldsToSend).each(function(index,value){if(value.toUpperCase()===kradVariables.NO_FIELDS_TO_SEND)return false;var wildcarded=value.indexOf("*",this.length-1)!==-1;if(value.indexOf("#")===0)dataSerialized=dataSerialized+"\x26"+jQuery(value).find("[name]").fieldSerialize();else if(wildcarded)dataSerialized=
dataSerialized+"\x26"+jQuery("[name^\x3d'"+value.substr(0,value.length-1)+"']").fieldSerialize();else dataSerialized=dataSerialized+"\x26"+jQuery("[name\x3d'"+value+"']").fieldSerialize()});var submitOptions={url:jQuery("#"+kradVariables.KUALI_FORM).attr("action"),type:"POST",data:dataSerialized,success:function(response){request._processSuccess(response,request)},error:function(jqXHR,textStatus){request._processError(jqXHR,textStatus,request)}};this._setupBlocking(submitOptions);jQuery.ajax(submitOptions)}},
_processSuccess:function(response,request){var responseContents=document.createElement("div");responseContents.innerHTML=response;var kradResponse=new KradResponse(responseContents);kradResponse.processResponse();var hasError=checkForIncidentReport(response);if(!hasError){if(request.successCallback)if(typeof request.successCallback=="string")eval(request.successCallback);else request.successCallback(responseContents)}else if(request.errorCallback)if(typeof request.errorCallback=="string")eval(request.errorCallback);
else request.errorCallback(responseContents);clearHiddens()},_processError:function(jqXHR,textStatus,request){if(request.errorCallback)if(typeof request.errorCallback=="string")eval(request.errorCallback);else request.errorCallback();else alert("Request failed: "+textStatus)},_setupBlocking:function(options){if(!this.elementToBlock&&!this.disableBlocking&&this.ajaxReturnType==kradVariables.RETURN_TYPE_UPDATE_COMPONENT&&this.refreshId)this.elementToBlock=jQuery("#"+this.refreshId);var request=this;
var elementBlockingOptions={beforeSend:function(){if(nonEmpty(request.elementToBlock)&&request.elementToBlock.is(":hidden, .uif-placeholder")){var replaceElement=true;request.elementToBlock.show()}if(!request.disableBlocking)showLoading(request.loadingMessage,request.elementToBlock,replaceElement)},complete:function(jqXHR,textStatus){if(!request.disableBlocking)hideLoading(request.elementToBlock);resetSessionTimers()},error:function(){if(nonEmpty(request.elementToBlock)&&request.elementToBlock.hasClass("uif-placeholder"))request.elementToBlock.hide();
else if(!request.disableBlocking)hideLoading(request.elementToBlock)},statusCode:{403:function(jqXHR,textStatus){if(nonEmpty(request.elementToBlock)&&request.elementToBlock.hasClass("uif-placeholder"))request.elementToBlock.hide();else if(!request.disableBlocking)hideLoading(request.elementToBlock);handleAjaxSessionTimeout(jqXHR.responseText)}}};jQuery.extend(options,elementBlockingOptions)},_dismissDialogIfNecessary:function(dismissOption){if(this.dismissDialogId&&this.dismissDialogOption===dismissOption){dismissDialog(this.dismissDialogId,
this.$action);return true}return false}};function KradResponse(contents){this.responseContents=contents}
KradResponse.prototype={responseContents:null,handlerMapping:{"update-form":"updateFormHandler","update-page":"updatePageHandler","update-component":"updateComponentHandler","update-view":"updateViewHandler","redirect":"redirectHandler","display-lightbox":"displayLightBoxHandler","update-dialog":"updateDialogHandler"},processResponse:function(){var responseFn=this;jQuery(this.responseContents).children().each(function(){var div=jQuery(this);var returnType=div.data("returntype");var functionName=responseFn.handlerMapping[returnType];
var handlerFunc=responseFn[functionName];if(handlerFunc)handlerFunc(div,div.data());hideEmptyCells()})},updatePageHandler:function(content,dataAttr){var pageUpdate=jQuery("#page_update",content);var page=jQuery("[data-role\x3d'Page']",pageUpdate);var viewContent=jQuery("#"+kradVariables.VIEW_CONTENT_WRAPPER);page.hide();var pageInLayout="#"+kradVariables.VIEW_CONTENT_WRAPPER+" [data-role\x3d'Page']:first";hideTooltips(pageInLayout);var $pageInLayout=jQuery(pageInLayout);viewContent.find("[data-for\x3d'"+
$pageInLayout.attr("id")+"']").remove();$pageInLayout.replaceWith(pageUpdate.find("\x3e*"));$pageInLayout=jQuery(pageInLayout);ensureDialogBackdropRemoved();jQuery("[data-detached\x3d'true']").remove();pageValidatorReady=false;runHiddenScripts(kradVariables.VIEW_CONTENT_WRAPPER,false,true);markActiveMenuLink();viewContent.trigger(kradVariables.EVENTS.ADJUST_PAGE_MARGIN);$pageInLayout.trigger(kradVariables.EVENTS.UPDATE_CONTENT);$pageInLayout.show();$pageInLayout.trigger(kradVariables.EVENTS.ADJUST_STICKY);
$pageInLayout.trigger(kradVariables.EVENTS.PAGE_UPDATE_COMPLETE);performFocusAndJumpTo(true,page.data(kradVariables.FOCUS_ID),page.data(kradVariables.JUMP_TO_ID),page.data(kradVariables.JUMP_TO_NAME))},updateDialogHandler:function(content,dataAttr){var id=dataAttr.updatecomponentid;var component=jQuery("#"+id+"_update",content);if(jQuery("#"+id+"_errors").length)jQuery("#"+id+"_errors").remove();jQuery("input[data-for\x3d'"+id+"']").each(function(){jQuery(this).remove()});var $dialog=jQuery("#"+id);
if($dialog.length)$dialog.replaceWith(component.html());else jQuery("#"+kradVariables.IDS.DIALOGS).append(component.html());$dialog.trigger(kradVariables.EVENTS.UPDATE_CONTENT);runHiddenScripts(id)},updateComponentHandler:function(content,dataAttr){var id=dataAttr.id;var $componentInDom=jQuery("#"+id);hideTooltips($componentInDom);var component=jQuery("#"+id+"_update",content);var theLabel=jQuery("[data-label_for\x3d'"+id+"']",component);if(jQuery(".displayWith-"+id).length&&theLabel.length){theLabel.addClass("displayWith-"+
id);jQuery("span.displayWith-"+id).replaceWith(theLabel);component.remove("[data-label_for\x3d'"+id+"']")}if(jQuery("#"+id+"_errors").length)jQuery("#"+id+"_errors").remove();jQuery("input[data-for\x3d'"+id+"']").each(function(){jQuery(this).remove()});if($componentInDom.length){var wasPlaceholder=$componentInDom.hasClass(kradVariables.CLASSES.PLACEHOLDER);var componentContent=component.html();var displayedModal=isDisplayedModal($componentInDom);if(displayedModal){var innerComponentContent=jQuery(componentContent).html();
$componentInDom.html(innerComponentContent)}else $componentInDom.replaceWith(componentContent);ensureDialogBackdropRemoved();$componentInDom=jQuery("#"+id);if($componentInDom.parent().is("td"))$componentInDom.parent().show();var displayWithLabel=jQuery(".displayWith-"+id);displayWithLabel.show();if(displayWithLabel.parent().is("td")||displayWithLabel.parent().is("th"))displayWithLabel.parent().show();var open=$componentInDom.attr("data-open");if(open!==undefined&&open==="false"){$componentInDom.attr("data-open",
"true");$componentInDom.show()}runHiddenScripts(id);var currentPage=retrieveFromSession(id+":currentPageRichTable");if(currentPage!=null)openDataTablePage(id,currentPage);$componentInDom.unblock({onUnblock:function(){var isDialog=$componentInDom.hasClass(kradVariables.CLASSES.MODAL);if(wasPlaceholder&&!isDialog){$componentInDom.addClass(kradVariables.PROGRESSIVE_DISCLOSURE_HIGHLIGHT_CLASS);$componentInDom.animate({backgroundColor:"transparent"},6E3)}}});$componentInDom.trigger(kradVariables.EVENTS.ADJUST_STICKY);
$componentInDom.trigger(kradVariables.EVENTS.UPDATE_CONTENT);performFocusAndJumpTo(true,$componentInDom.data(kradVariables.FOCUS_ID),$componentInDom.data(kradVariables.JUMP_TO_ID),$componentInDom.data(kradVariables.JUMP_TO_NAME))}},redirectHandler:function(content,dataAttr){var redirectUrl=jQuery(content).text().trim();if(redirectUrl.indexOf("performDirtyCheck\x3dfalse")>-1)dirtyFormState.skipDirtyChecks=true;window.location.href=redirectUrl},updateViewHandler:function(content,dataAttr){var app=jQuery("#"+
kradVariables.APP_ID);app.hide();var update=jQuery(content);var appHeaderUpdate=update.find("#"+kradVariables.APPLICATION_HEADER_WRAPPER);app.find("#"+kradVariables.APPLICATION_HEADER_WRAPPER).replaceWith(appHeaderUpdate);var kualiForm=app.find("#kualiForm");var kualiFormReplacement=update.find("#kualiForm");var view=app.find("[data-role\x3d'View']");var viewUpdate=update.find("[data-role\x3d'View']");if(kualiForm.length&&kualiFormReplacement)kualiForm.replaceWith(kualiFormReplacement);else if(kualiForm.length&&
!kualiFormReplacement.length)kualiForm.replaceWith(viewUpdate);else if(!kualiForm.length&&kualiFormReplacement.length)view.replaceWith(kualiFormReplacement);else view.replaceWith(viewUpdate);ensureDialogBackdropRemoved();var appFooterUpdate=update.find("#"+kradVariables.APPLICATION_FOOTER_WRAPPER);app.find("#"+kradVariables.APPLICATION_FOOTER_WRAPPER).replaceWith(appFooterUpdate);app.show();setupStickyHeaderAndFooter();runHiddenScripts(kradVariables.APP_ID);view.trigger(kradVariables.EVENTS.UPDATE_CONTENT)},
displayLightBoxHandler:function(content,dataAttr){showLightboxContent(content)},updateFormHandler:function(content,dataAttr){var action=jQuery(content).html();jQuery("form#"+kradVariables.KUALI_FORM).attr("action",jQuery.trim(action))}};
function initActionData(jqActionComponent){jQuery.each(actionDefaults,function(key,value){var dataValue=jqActionComponent.data(key.toLowerCase());if(dataValue===undefined)jqActionComponent.data(key.toLowerCase(),value)});var submitData=jqActionComponent.data(kradVariables.SUBMIT_DATA);var focusId=jqActionComponent.data(kradVariables.FOCUS_ID);if(focusId&&focusId!==kradVariables.SELF)submitData.focusId=focusId;else if(focusId&&focusId===kradVariables.SELF)submitData.focusId=jqActionComponent.attr("id");
var jumpToId=jqActionComponent.data(kradVariables.JUMP_TO_ID);if(jumpToId&&jumpToId!==kradVariables.SELF)submitData.jumpToId=jumpToId;else if(jumpToId&&jumpToId===kradVariables.SELF)submitData.jumpToId=jqActionComponent.attr("id")}function actionInvokeHandler(component){var action=jQuery(component);var kradRequest=new KradRequest(action);kradRequest.send()}
function ajaxSubmitForm(methodToCall,additionalData){var kradRequest=new KradRequest;kradRequest.methodToCall=methodToCall;kradRequest.additionalData=additionalData;kradRequest.send()}function nonAjaxSubmitForm(methodToCall,additionalData){var kradRequest=new KradRequest;kradRequest.methodToCall=methodToCall;kradRequest.additionalData=additionalData;kradRequest.ajaxSubmit=false;kradRequest.send()}
function submitForm(methodToCall,additionalData,validate,ajaxSubmit,successCallback,fieldsToSend){var kradRequest=new KradRequest;kradRequest.methodToCall=methodToCall;kradRequest.additionalData=additionalData;kradRequest.validate=validate;kradRequest.ajaxSubmit=ajaxSubmit;kradRequest.successCallback=successCallback;kradRequest.fieldsToSend=fieldsToSend;kradRequest.send()}
function navigateToPage(pageId){ajaxSubmitForm(kradVariables.NAVIGATE_METHOD_TO_CALL,{"actionParameters[navigateToPageId]":pageId})}function redirect(url){window.location=url}
function validate($group){clientErrorStorage=new Object;var valid=true;jQuery.watermark.hideAll();pauseTooltipDisplay=true;if(validateClient){pageValidationPhase=true;clientErrorExistsCheck=true;messageSummariesShown=false;if(!$group)valid=_validateForm();else valid=_validateGroupOnly($group)}if(!valid){jQuery(".error:not(:visible)").each(function(){cascadeOpen(jQuery(this))});if(!$group){jumpToTop();jQuery(".uif-pageValidationMessages li.uif-errorMessageItem:first \x3e a").focus()}else;}jq.watermark.showAll();
pauseTooltipDisplay=false;return valid}function _validateForm(){validForm=jq("#kualiForm").valid();jQuery("div[data-role\x3d'InputField']").each(function(){var id=jQuery(this).attr("id");var field=jQuery("#"+id);var data=getValidationData(field);var parent=field.data(kradVariables.PARENT_DATA_ATTRIBUTE);handleMessagesAtGroup(parent,id,data,true)});clientErrorExistsCheck=false;messageSummariesShown=true;writeMessagesForPage();pageValidationPhase=false;return validForm}
function _validateGroupOnly($group){var id=$group.attr("id");var parentId=$group.attr("data-"+kradVariables.PARENT_DATA_ATTRIBUTE);$group.removeAttr("data-"+kradVariables.PARENT_DATA_ATTRIBUTE);var $groupControls=$group.find("[data-role\x3d'Control']");if($groupControls.length===0)return true;var validGroup=$groupControls.valid();$group.find("div[data-role\x3d'InputField']").each(function(){var id=jQuery(this).attr("id");var field=jQuery("#"+id);var data=getValidationData(field);var parent=field.data(kradVariables.PARENT_DATA_ATTRIBUTE);
handleMessagesAtGroup(parent,id,data,true)});clientErrorExistsCheck=false;messageSummariesShown=true;var validationData=getValidationData($group,true);if(validationData){var messageMap=validationData.messageMap;if(!messageMap){messageMap={};validationData.messageMap=messageMap}}writeMessagesForChildGroups(id);writeMessagesForGroup(id,validationData,true,false);displayHeaderMessageCount(id,validationData);$group.find(".uif-errorMessageItem \x3e div").show();pageValidationPhase=false;if(parentId)$group.attr("data-"+
kradVariables.PARENT_DATA_ATTRIBUTE,parentId);return validGroup}
function createPlaceholderAndRetrieve(componentId,callback,additionalData){var placeholderSpan='\x3cspan id\x3d"'+componentId+'"class\x3d"'+kradVariables.CLASSES.PLACEHOLDER+'" data-role\x3d"'+kradVariables.DATA_ROLES.PLACEHOLDER+'"\x3e\x3c/span\x3e';if(jQuery("#"+componentId).length==0)jQuery("#"+kradVariables.IDS.DIALOGS).append(placeholderSpan);else jQuery("#"+componentId).replaceWith(placeholderSpan);retrieveComponent(componentId,undefined,callback,additionalData,true)}
function retrieveComponent(id,methodToCall,successCallback,additionalData,disableBlocking,fieldsToSend){var refreshComp=jQuery("#"+id);if(refreshComp===undefined||refreshComp.filter(":visible").length===0){var refreshHandle=refreshTimerComponentMap[id];if(!(refreshHandle===undefined)){clearInterval(refreshHandle);delete refreshTimerComponentMap[id];return}}if(!methodToCall)methodToCall=kradVariables.REFRESH_METHOD_TO_CALL;var kradRequest=new KradRequest;kradRequest.methodToCall=methodToCall;kradRequest.ajaxReturnType=
kradVariables.RETURN_TYPE_UPDATE_COMPONENT;kradRequest.successCallback=successCallback;kradRequest.additionalData=additionalData;kradRequest.refreshId=id;kradRequest.fieldsToSend=fieldsToSend;if(disableBlocking)kradRequest.disableBlocking=disableBlocking;kradRequest.send()}
function validateAddLine(collectionGroupId){var collectionGroup=jQuery("#"+collectionGroupId);var addControls=collectionGroup.data(kradVariables.ADD_CONTROLS);var controlsToValidate=jQuery(addControls,collectionGroup);var valid=validateLineFields(controlsToValidate,false);if(!valid)return false;return true}
function validateLine(collectionName,lineIndex){var controlsToValidate=jQuery("[name^\x3d'"+collectionName+"["+lineIndex+"]']");var valid=validateLineFields(controlsToValidate,true);if(!valid)return false;return true}
function validateLineFields(controlsToValidate,writePageMessages){var valid=true;var invalidId="";if(!validateClient)return valid;jQuery.watermark.hideAll();clientErrorExistsCheck=true;var tempMessagesSummariesShown=messageSummariesShown;messageSummariesShown=false;controlsToValidate.each(function(){var control=jQuery(this);var fieldId=jQuery(this).closest("div[data-role\x3d'InputField']").attr("id");var field=jQuery("#"+fieldId);var parent=field.data("parent");var validValue=true;control.removeClass("ignoreValid");
haltValidationMessaging=true;if(control.length&&!control.prop("disabled")){control.valid();if(control.hasClass("error"))validValue=false}var data=getValidationData(field);handleMessagesAtGroup(parent,fieldId,data,true);haltValidationMessaging=false;if(control.not(":visible")&&!validValue)cascadeOpen(control);if(!validValue){valid=false;if(invalidId.length==0)invalidId=this.id}control.addClass("ignoreValid")});clientErrorExistsCheck=false;messageSummariesShown=tempMessagesSummariesShown;if(writePageMessages&&
messageSummariesShown)writeMessagesForPage();jQuery.watermark.showAll();if(invalidId.length!=0)jQuery("#"+invalidId).focus();return valid}
function retrieveCollectionPage(linkElement,collectionId){var link=jQuery(linkElement);var parentLI=link.parent();if(parentLI.is("."+kradVariables.DISABLED_CLASS)||parentLI.is("."+kradVariables.ACTIVE_CLASS))return;var pageNumber=jQuery(linkElement).data(kradVariables.PAGE_NUMBER_DATA);retrieveComponent(collectionId,kradVariables.RETRIEVE_COLLECTION_PAGE_METHOD_TO_CALL,null,{pageNumber:pageNumber},true)}
function cascadeOpen(componentObject){if(componentObject.not(":visible")){var detailsDivs=componentObject.parents("[data-role\x3d'details']");detailsDivs.each(function(){jQuery(this).parent().find("\x3e a").click()});var disclosureDivs=componentObject.parents("[data-role\x3d'disclosureContent']");disclosureDivs.each(function(){if(!jQuery(this).data("open"))jQuery(this).parent().find("a[data-linkfor\x3d'"+jQuery(this).attr("id")+"']").click()})}}
function setupOnChangeRefresh(controlName,refreshId,methodToCall,fieldsToSend){setupRefreshCheck(controlName,refreshId,function(){return true},methodToCall,fieldsToSend)}function setupRefreshCheck(controlName,refreshId,condition,methodToCall,fieldsToSend){jQuery("[name\x3d'"+escapeName(controlName)+"']").live("change",function(){var refreshComp=jQuery("#"+refreshId);if(refreshComp.length)if(condition())retrieveComponent(refreshId,methodToCall,null,null,false,fieldsToSend)})}
function setupDisabledCheck(controlName,disableCompId,disableCompType,condition,onKeyUp){var theControl=jQuery("[name\x3d'"+escapeName(controlName)+"']");var eventType="change.disable-"+disableCompId;if(onKeyUp&&(theControl.is("textarea")||theControl.is("input[type\x3d'text'], input[type\x3d'password']")))eventType="input.disable-"+disableCompId;if(disableCompType=="radioGroup"||disableCompType=="checkboxGroup"){jQuery(document).off(eventType);jQuery(document).on(eventType,"[name\x3d'"+escapeName(controlName)+
"']",function(){if(condition())jQuery("input[id^\x3d'"+disableCompId+"']").prop("disabled",true);else jQuery("input[id^\x3d'"+disableCompId+"']").prop("disabled",false)})}else{jQuery(document).off(eventType,"[name\x3d'"+escapeName(controlName)+"']");jQuery(document).on(eventType,"[name\x3d'"+escapeName(controlName)+"']",function(){var disableControl=jQuery("#"+disableCompId);if(condition()){disableControl.prop("disabled",true);disableControl.addClass("disabled");if(disableCompType==="actionLink"||
disableCompType==="action")disableControl.attr("tabIndex","-1");if(disableControl.is(".hasDatepicker")){disableControl.datepicker("disable");disableControl.next(".ui-datepicker-trigger").css("cursor","not-allowed")}if(disableControl.is(".uif-spinnerControl"))disableControl.spinner("disable")}else{disableControl.prop("disabled",false);disableControl.removeClass("disabled");if(disableCompType==="actionLink"||disableCompType==="action")disableControl.attr("tabIndex","0");if(disableControl.is(".hasDatepicker")){disableControl.datepicker("enable");
disableControl.next(".ui-datepicker-trigger").css("cursor","pointer")}if(disableControl.is(".uif-spinnerControl"))disableControl.spinner("enable")}})}}
function setupProgressiveCheck(controlName,disclosureId,condition,alwaysRetrieve,methodToCall,fieldsToSend){jQuery("[name\x3d'"+escapeName(controlName)+"']").live("change",function(){var refreshDisclosure=jQuery("#"+disclosureId);if(refreshDisclosure.length){var displayWithId=disclosureId;if(condition())if(refreshDisclosure.data("role")=="placeholder"||alwaysRetrieve)retrieveComponent(disclosureId,methodToCall,null,null,false,fieldsToSend);else{refreshDisclosure.addClass(kradVariables.PROGRESSIVE_DISCLOSURE_HIGHLIGHT_CLASS);
refreshDisclosure.show();if(refreshDisclosure.parent().is("td"))refreshDisclosure.parent().show();refreshDisclosure.animate({backgroundColor:"transparent"},6E3);hiddenInputValidationToggle(disclosureId);var displayWithLabel=jQuery(".displayWith-"+displayWithId);displayWithLabel.show();if(displayWithLabel.parent().is("td")||displayWithLabel.parent().is("th"))displayWithLabel.parent().show()}else{refreshDisclosure.hide();hiddenInputValidationToggle(disclosureId);var displayWithLabel=jQuery(".displayWith-"+
displayWithId);displayWithLabel.hide();if(displayWithLabel.parent().is("td")||displayWithLabel.parent().is("th"))displayWithLabel.parent().hide()}hideEmptyCells()}})}
function hiddenInputValidationToggle(id){var element=jQuery("#"+id);if(element.length)if(element.css("display")==="none")jQuery(":input:hidden",element).each(function(){storeOriginalDisabledProperty(jQuery(this));jQuery(this).addClass("ignoreValid");if(!jQuery(this).is("input[type\x3d'hidden']"))jQuery(this).prop("disabled",true)});else jQuery(":input:visible",element).each(function(){storeOriginalDisabledProperty(jQuery(this));jQuery(this).removeClass("ignoreValid");jQuery(this).prop("disabled",
jQuery(this).data("original-disabled"))})}function storeOriginalDisabledProperty(element){if(element.data("original-disabled")===undefined)element.data("original-disabled",element.prop("disabled"))}
function refreshComponentUsingTimer(componentId,methodToCall,timeInterval){var refreshTimer=refreshTimerComponentMap[componentId];if(refreshTimer!=null){clearInterval(refreshTimer);delete refreshTimerComponentMap[componentId]}refreshTimerComponentMap[componentId]=setInterval(function(){retrieveComponent(componentId,methodToCall)},timeInterval*1E3)}
function openPopoverContent(e,contentId,popoverOptions,useCloseButton){stopEvent(e);var popupTarget=jQuery(e.currentTarget?e.currentTarget:e.srcElement);_openPopover(popupTarget,contentId,popoverOptions,useCloseButton)}
function _openPopover(popupTarget,contentId,popoverOptions,useCloseButton){var popoverData=jQuery(popupTarget).data(kradVariables.POPOVER_DATA);var popupContent=jQuery("#"+contentId);if(popoverData&&popoverData.shown){_hidePopover(popupTarget);return}hideTooltips();var clickName="click."+popupTarget.attr("id");popupTarget.attr("data-popupContentId",popupContent.attr("id"));popupContent.attr("tabindex","-1");popupContent.after("\x3cdiv id\x3d'"+contentId+"_popupPlaceholder' style\x3d'display:none'\x3e\x3c/div\x3e");
popupContent=popupContent.detach().show();popupContent.addClass("uif-popupContent-inner");if(!popoverData){if(popoverOptions&&!popoverOptions.placement)popoverOptions.placement="auto bottom";else if(!popoverOptions)popoverOptions={placement:"auto bottom"};popoverData=initializeTooltip(popupTarget,popoverOptions,"uif-popupContent");if(useCloseButton&&popupContent.find("\x3e .close").length===0){var closeButton=jQuery('\x3cbutton type\x3d"button" class\x3d"close"\x3e'+'\x3cspan aria-hidden\x3d"true"\x3e\x26times;\x3c/span\x3e\x3cspan class\x3d"sr-only"\x3eClose\x3c/span\x3e\x3c/button\x3e');
closeButton.on(clickName,function(){_hidePopover(popupTarget)});popupContent.prepend(closeButton)}}popoverData.options.content=popupContent;popupTarget.popover("show");popoverData.shown=true;popupContent.focus();jQuery(document).on(clickName,function(e){var docTarget=jQuery(e.target?e.target:e.srcElement);if(docTarget.parents("div.popover").length===0)_hidePopover(popupTarget)});function _hidePopover(target){var popoverData=jQuery(target).data(kradVariables.POPOVER_DATA);popoverData.shown=false;jQuery("#"+
contentId+"_popupPlaceholder").replaceWith(popupContent.hide());target.popover("hide");jQuery(document).off("click."+target.attr("id"));target.focus()}}
function openPopoverContentsWithErrors(){var popupFormId;var popupContent={};jQuery("div.uif-popupContent-inner").each(function(){if(popupContent[this.id]===true)return false;popupContent[this.id]=true;if(jQuery(".uif-hasError",jQuery(this)).length>0){popupFormId=this.id;var popupTarget=jQuery("[data-popupContentId\x3d'"+this.id+"']");_openPopover(popupTarget,popupFormId)}})}
function DirtyFormState(){var dirtyFormStateObject=this;jQuery(window).bind("beforeunload",function(event){var methodToCall=jQuery("[name\x3d'methodToCall']").val();if(!methodToCall){var dirty=dirtyFormStateObject.checkDirty(event,false);if(dirty)return getMessage(kradVariables.MESSAGE_KEY_DIRTY_FIELDS)}})}
DirtyFormState.prototype={dirtyFieldCount:0,dirtyFormInput:jQuery("input[name\x3d'"+kradVariables.DIRTY_FORM+"']"),skipDirtyChecks:false,isDirty:function(){return this.dirtyFormInput.val()=="true"||this.dirtyFieldCount>0},setDirty:function(isDirty){if(isDirty)this.dirtyFormInput.val("true");else this.dirtyFormInput.val("false")},reset:function(){this.resetDirtyFieldCount();this.setDirty(false)},resetDirtyFieldCount:function(){this.dirtyFieldCount=0},incrementDirtyFieldCount:function(){this.dirtyFieldCount++},
decrementDirtyFieldCount:function(){this.dirtyFieldCount--},checkDirty:function(event,showAlert){var validateDirty=jQuery("input[name\x3d'"+kradVariables.VALIDATE_DIRTY+"']").val();if(!this.skipDirtyChecks&&validateDirty=="true"&&this.isDirty()){if(showAlert!=undefined&&!showAlert)return true;var dirtyMessage=getMessage(kradVariables.MESSAGE_KEY_DIRTY_FIELDS);var answer=confirm(dirtyMessage);if(answer==false){event.preventDefault();event.stopImmediatePropagation();return true}}return false},dirtyHandlerSetup:function(){var dirtyFormStateObject=
this;jQuery(document).on("change","div[data-role\x3d'InputField'] input, div[data-role\x3d'InputField'] select, "+"div[data-role\x3d'InputField'] textarea",function(e){var fieldDirty=true;if(e&&e.target)fieldDirty=dirtyFormStateObject.isControlDirty(e.target);var hadDirtyClass=jQuery(this).hasClass(kradVariables.DIRTY_CLASS);if(hadDirtyClass&&!fieldDirty){jQuery(this).removeClass(kradVariables.DIRTY_CLASS);dirtyFormStateObject.decrementDirtyFieldCount()}else if(!hadDirtyClass&&fieldDirty){jQuery(this).addClass(kradVariables.DIRTY_CLASS);
dirtyFormStateObject.incrementDirtyFieldCount()}})},isControlDirty:function(control){var fieldDirty=true;if(control.defaultValue!=undefined&&control.value==control.defaultValue)fieldDirty=false;else if((control.type=="checkbox"||control.type=="radio")&&control.defaultChecked!=undefined&&control.checked==control.defaultChecked)fieldDirty=false;else if(control.options!=undefined){fieldDirty=false;var hasDefaultSelected=false;var options=jQuery(control).find("option");jQuery(options).each(function(){if(this.defaultSelected!=
this.selected)fieldDirty=true;hasDefaultSelected=this.defaultSelected||hasDefaultSelected});if(!hasDefaultSelected&&(control.multiple&&control.selectedIndex==-1||!control.multiple&&control.selectedIndex==0))fieldDirty=false}return fieldDirty}};function isRouteToComplete(kradRequest){var $fieldsToSkip=jQuery(".required").not("input[name\x3d'document.documentHeader.documentDescription']");var valid=validatePartialForm($fieldsToSkip,isAdHocComplete);if(!valid)clearHiddens();return valid}
function isAdHocComplete(){var adHocRoutes=jQuery("select[name^\x3d'document.adHocRouteWorkgroups['],[name^\x3d'document.adHocRoutePersons[']");var complete=false;adHocRoutes.each(function isSetToComplete(index,selectControl){if(jQuery(selectControl).val()==="C"){complete=true;return false}});return complete}
function initInlineEditFields(){jQuery(document).on("click",kradVariables.INLINE_EDIT.VIEW_CLASS,function(event){event.preventDefault();var $viewButton=jQuery(this);showInlineEdit($viewButton);return false})}
function showInlineEdit($viewButton){var viewButtonId=$viewButton.attr("id");var editDivId=viewButtonId.replace(kradVariables.INLINE_EDIT.VIEW_SUFFIX,kradVariables.INLINE_EDIT.EDIT_SUFFIX);var $editDiv=jQuery("#"+editDivId);var $control=$editDiv.find("[data-role\x3d'Control']");if($editDiv.is(":visible")){focusEnd($control);return}if($editDiv.length)$editDiv.data(kradVariables.INLINE_EDIT.ORIGINAL_VALUE,$control.val());if($viewButton.data(kradVariables.INLINE_EDIT.AJAX_EDIT)===true&&$editDiv.length===
0){var fieldId=viewButtonId.replace(kradVariables.INLINE_EDIT.INLINE_EDIT_VIEW,"");retrieveComponent(fieldId,kradVariables.REFRESH_METHOD_TO_CALL,function(){var $newView=jQuery("#"+viewButtonId);showInlineEdit($newView)});return}$viewButton.hide();var saveEditFunc=function(event){event.preventDefault();_saveEdit($control,viewButtonId);return false};var cancelEditFunc=function(event){event.preventDefault();return _cancelEdit($control,$editDiv,$viewButton)};jQuery(kradVariables.INLINE_EDIT.EDIT_CLASS).each(function(){jQuery(this).trigger("cancel."+
kradVariables.INLINE_EDIT.INLINE_EDIT_NAMESPACE)});$editDiv.on("cancel."+kradVariables.INLINE_EDIT.INLINE_EDIT_NAMESPACE,function(event){cancelEditFunc(event)});$control.removeAttr("readonly");$editDiv.show();var $editButtonDiv=$editDiv.find(kradVariables.INLINE_EDIT.EDIT_BUTTONS_CLASS);if(!$editButtonDiv.length)$editButtonDiv=_createInlineEditButtons($control,$editDiv,saveEditFunc,cancelEditFunc);focusEnd($control);_setupInlineEditKeyHandlers($control,cancelEditFunc,saveEditFunc)}
function _saveEdit($control,viewButtonId){var valid=true;if(validateClient){var fieldId=getAttributeId(jQuery($control).attr("id"));var data=getValidationData(jQuery("#"+fieldId));data.useTooltip=false;valid=validateFieldValue($control)}if(valid){var propertyName=$control.attr("name");retrieveComponent(fieldId,kradVariables.INLINE_EDIT.SAVE_FIELD_METHOD_TO_CALL,function(){var $newView=jQuery("#"+viewButtonId);$newView.focus()},{saveFieldPath:propertyName},false,[propertyName]);$control.unbind("keydown."+
kradVariables.INLINE_EDIT.INLINE_EDIT_NAMESPACE)}}
function _cancelEdit($control,$editDiv,$viewButton){$control.val($editDiv.data(kradVariables.INLINE_EDIT.ORIGINAL_VALUE));var valid=true;if(validateClient){var fieldId=getAttributeId(jQuery($control).attr("id"));var data=getValidationData(jQuery("#"+fieldId));data.useTooltip=false;valid=validateFieldValue($control)}if(!valid){focusEnd($control);return false}$editDiv.hide();$viewButton.show();$viewButton.focus();$control.unbind("keydown."+kradVariables.INLINE_EDIT.INLINE_EDIT_NAMESPACE);$editDiv.unbind("cancel."+
kradVariables.INLINE_EDIT.INLINE_EDIT_NAMESPACE);return false}
function _createInlineEditButtons($control,$editDiv,saveEditFunc,cancelEditFunc){var saveText=getMessage(kradVariables.MESSAGE_SAVE);var cancelText=getMessage(kradVariables.MESSAGE_CANCEL);var $editButtonDiv=jQuery("\x3cdiv class\x3d'uif-inlineEdit-buttons' style\x3d'display:inline-block'\x3e\x3c/div\x3e");var saveButton=jQuery("\x3cbutton class\x3d'btn btn-default btn-sm icon-checkmark-circle' style\x3d'margin-right: 3px;' title\x3d'"+saveText+"'\x3e\x3cspan class\x3d'sr-only'\x3e"+saveText+"\x3c/span\x3e\x3c/button\x3e");
saveButton.click(saveEditFunc);var cancelButton=jQuery("\x3cbutton class\x3d'btn btn-default btn-sm icon-cancel-circle' title\x3d'"+cancelText+"'\x3e\x3cspan class\x3d'sr-only'\x3e"+cancelText+"\x3c/span\x3e\x3c/button\x3e");cancelButton.click(cancelEditFunc);$editButtonDiv.append(saveButton);$editButtonDiv.append(cancelButton);$editDiv.append($editButtonDiv);var top=$control.offset().top+$control.outerHeight();var left=$control.offset().left+$control.outerWidth()-$editButtonDiv.outerWidth();$editButtonDiv.offset({top:top,
left:left});return $editButtonDiv}function _setupInlineEditKeyHandlers($control,cancelEditFunc,saveEditFunc){$control.on("keydown."+kradVariables.INLINE_EDIT.INLINE_EDIT_NAMESPACE,function(event){var keycode=event.keyCode?event.keyCode:event.which;if(keycode===27){cancelEditFunc(event);return false}else if(keycode===13&&!$control.is("textarea")){event.preventDefault();saveEditFunc(event);return false}})}
function activateInlineEdit(id){var $viewButton=jQuery("#"+id+"_inlineEdit_view");showInlineEdit($viewButton)}function performFocusAndJumpTo(setFocus,focusId,jumpToId,jumpToName){if(setFocus)performFocus(focusId);if(jumpToId||jumpToName)performJumpTo(jumpToId,jumpToName)}
function performJumpTo(jumpToId,jumpToName){if(jumpToId)if(jumpToId.toUpperCase()==="TOP")jumpToTop();else if(jumpToId.toUpperCase()==="BOTTOM")jumpToBottom();else jumpToElementById(jumpToId);else if(jumpToName)jumpToElementByName(jumpToName);else jumpToTop()}
function performFocus(focusId){var errorMessageItem=jQuery(".uif-errorMessageItem").first().find("a");if(errorMessageItem.length>0){errorMessageItem.focus();return}if(!focusId)return;if(focusId=="FIRST"){var id=jQuery("div[data-role\x3d'InputField']:first [data-role\x3d'Control']:input:first","#kualiForm").attr("id");focus(id);return}if(focusId.match("^"+kradVariables.NEXT_INPUT.toString())){focusId=focusId.substr(kradVariables.NEXT_INPUT.length,focusId.length);var original=jQuery("#"+focusId);var inputs=
jQuery(":input:visible, a:visible:not(\"a[data-role\x3d'disclosureLink']\")");var index=jQuery(inputs).index(original);if(index&&jQuery(inputs).length>index+1){var id=jQuery(inputs).eq(index+1).attr("id");focus(id)}}else{var focusElement=jQuery("#"+focusId);if(focusElement.length)focus(focusId);else{focusId=focusId.replace(/_control\S*/,"");focusElement=jQuery("#"+focusId).find(":input:visible, a:visible").first();if(focusElement.length)focus(jQuery(focusElement).attr("id"))}}}
function focusOnElementByName(name){var theElement=jQuery("[name\x3d'"+escapeName(name)+"']");if(theElement.length!=0)theElement.focus()}function focusOnElementById(focusId){if(focusId)jQuery("#"+focusId).focus()}
function focus(id){var inputField=document.getElementById(id);if(inputField!=null&&jQuery(inputField).is(":text,textarea,:password")&&inputField.value&&inputField.value.length!=0)if(inputField.createTextRange){var FieldRange=inputField.createTextRange();FieldRange.moveStart("character",inputField.value.length);FieldRange.collapse();FieldRange.select()}else{if(inputField.selectionStart||inputField.selectionStart!=undefined&&inputField.selectionStart=="0"){var elemLen=inputField.value.length;inputField.selectionStart=
elemLen;inputField.selectionEnd=elemLen;inputField.focus()}}else if(inputField!=null)inputField.focus()}function jumpToElementByName(name){var theElement=jq("[name\x3d'"+escapeName(name)+"']");if(theElement.length!=0)if(!usePortalForContext()||jQuery("#fancybox-frame",parent.document).length)jQuery.scrollTo(theElement,1);else{var headerOffset=top.jQuery("#header").outerHeight(true)+top.jQuery(".header2").outerHeight(true);top.jQuery.scrollTo(theElement,1,{offset:{top:headerOffset}})}}
function jumpToElementById(id){var theElement=jq("#"+id);if(theElement.length!=0)if(!usePortalForContext()||jQuery("#fancybox-frame",parent.document).length)jQuery.scrollTo(theElement,1);else{var headerOffset=top.jQuery("#header").outerHeight(true)+top.jQuery(".header2").outerHeight(true);top.jQuery.scrollTo(theElement,1,{offset:{top:headerOffset}})}}
function jumpToTop(){if(!usePortalForContext()||jQuery("#fancybox-frame",parent.document).length||!top.jQuery.scrollTo)jQuery.scrollTo(0);else top.jQuery.scrollTo(0)}function jumpToBottom(){if(!usePortalForContext()||jQuery("#fancybox-frame",parent.document).length)jQuery.scrollTo("max",1);else top.jQuery.scrollTo("max",1)}var returnByScriptHidden="returnByScript";var _DONE=false;
jQuery(document).ready(function(){if(_DONE===true)return;_DONE=true;jQuery(document).on("change","#"+kradVariables.LOOKUP_COLLECTION_ID+" input:checkbox."+kradVariables.SELECT_FIELD_STYLE_CLASS,function(e){updateSelectLineCount(this)});jQuery(document).on("click","a["+kradVariables.ATTRIBUTES.DATA_RETURN+"]",function(e){e.preventDefault();var returnByScript=coerceValue(returnByScriptHidden);if(returnByScript)returnLookupResultsByScript(this);else returnLookupResultReload(this)})});
function showLookupDialog(quickfinderActionId,lookupReturnByScript,lookupDialogId){jQuery(function(){var data={};var submitData=jQuery("#"+quickfinderActionId).data(kradVariables.SUBMIT_DATA);jQuery.extend(data,submitData);if(!lookupReturnByScript)dirtyFormState.skipDirtyChecks=true;var renderedInDialog=isCalledWithinDialog();if(!renderedInDialog){if(top===self)data["actionParameters[returnTarget]"]="_parent";else data["actionParameters[returnTarget]"]="iframeportlet";var baseURI=this.documentURI;
if(baseURI.indexOf("?")>-1)baseURI=baseURI.substring(0,baseURI.indexOf("?"));data["actionParameters[returnLocation]"]=encodeURIComponent(baseURI);data["actionParameters[renderedInDialog]"]=true;data["actionParameters[returnByScript]"]=lookupReturnByScript;data["actionParameters[methodToCall]"]="start";data["actionParameters[flow]"]="start";data["actionParameters[returnFormKey]"]=jQuery("#"+kradVariables.FORM_INFO_ID).children("input[name\x3d'formKey']").val();var lookupParameters=data["actionParameters[lookupParameters]"];
if(lookupParameters!==""&&typeof lookupParameters!=="undefined"){var lookupField=lookupParameters.substring(lookupParameters.indexOf(":")+1);var lookupValue=jQuery("#"+quickfinderActionId).parent().parent().children("input").val();if(lookupField!==""&&typeof lookupField!=="undefined"&&lookupValue!==""&&typeof lookupValue!=="undefined")data["actionParameters[lookupCriteria[\x26quot;"+lookupField+"\x26quot;]]"]=lookupValue}var lookupUrl=data["actionParameters[baseLookupUrl]"]+"?";for(var key in data)if(key.indexOf("actionParameters")!==
-1){var parameterName=key.replace("actionParameters[","").replace("]","").replace(new RegExp("\x26quot;","g"),"'");lookupUrl+=parameterName+"\x3d"+data[key]+"\x26"}lookupUrl=lookupUrl.substring(0,lookupUrl.length-1);lookupUrl=lookupUrl.replace(/&amp;/g,"\x26");openIframeDialog(lookupUrl,lookupDialogId)}else{data["actionParameters[renderedInDialog]"]="true";data["actionParameters[returnTarget]"]="_self";data["actionParameters[flow]"]=jQuery("input[name\x3d'"+kradVariables.FLOW_KEY+"']").val();nonAjaxSubmitForm(data["methodToCall"],
data)}})}function updateSelectLineCount(selectControl){input=jQuery(selectControl);var lookupResultsDiv=jQuery("#"+kradVariables.LOOKUP_COLLECTION_ID);var selectlinecount=lookupResultsDiv.data("selectedlinecount");if(input.attr("checked"))lookupResultsDiv.data("selectedlinecount",selectlinecount+1);else if(selectlinecount>0)lookupResultsDiv.data("selectedlinecount",selectlinecount-1);setMultivalueLookupReturnButton("#"+kradVariables.LOOKUP_COLLECTION_ID)}
function setMultivalueLookupReturnButton(selectControl){var lookupResultsDiv=jQuery(selectControl);var checked=lookupResultsDiv.data("selectedlinecount")>0;if(checked){jQuery(":button."+kradVariables.RETURN_SELECTED_ACTION_CLASS).removeAttr("disabled");jQuery(":button."+kradVariables.RETURN_SELECTED_ACTION_CLASS).removeClass("disabled")}else jQuery(":button."+kradVariables.RETURN_SELECTED_ACTION_CLASS).attr("disabled","disabled")}
function selectAllLines(collectionId){var query="input:checkbox."+kradVariables.SELECT_FIELD_STYLE_CLASS;var lookupCollectionDiv=jQuery("#"+collectionId);if(jQuery("table.dataTable").length>0){var oTable=getDataTableHandle(lookupCollectionDiv.find("table").attr("id"));jQuery(query,oTable.fnGetNodes()).each(function(index){this.checked=true})}else jQuery(lookupCollectionDiv.find(query)).each(function(index){jQuery(this).attr("checked",true)});var lookupResultCount=lookupCollectionDiv.data("lookupresultscount");
lookupCollectionDiv.data("selectedlinecount",lookupResultCount);setMultivalueLookupReturnButton(jQuery("#"+collectionId))}
function deselectAllLines(collectionId){var oTable=getDataTableHandle(jQuery("#"+collectionId).find("table").attr("id"));var query="input:checkbox."+kradVariables.SELECT_FIELD_STYLE_CLASS;if(jQuery("table.dataTable").length>0)jQuery(query,oTable.fnGetNodes()).prop("checked",false);var lookupCollectionDiv=jQuery("#"+collectionId);lookupCollectionDiv.data("selectedlinecount",0);setMultivalueLookupReturnButton(jQuery("#"+collectionId))}
function selectAllPageLines(collectionId){var selectedLineCount=jQuery("#"+collectionId).data("selectedlinecount");jQuery("#"+collectionId).find("input:checkbox."+kradVariables.SELECT_FIELD_STYLE_CLASS).each(function(index){if(jQuery(this).attr("checked")!=true){jQuery(this).attr("checked",true);selectedLineCount=selectedLineCount+1}});var lookupCollectionDiv=jQuery("#"+collectionId);lookupCollectionDiv.data("selectedlinecount",selectedLineCount);setMultivalueLookupReturnButton(jQuery("#"+collectionId))}
function deselectAllPageLines(collectionId){var selectedLineCount=jQuery("#"+collectionId).data("selectedlinecount");jQuery("#"+collectionId).find("input:checkbox."+kradVariables.SELECT_FIELD_STYLE_CLASS).each(function(index){jQuery(this).attr("checked",false);if(selectedLineCount>0)selectedLineCount=selectedLineCount-1});jQuery("#"+collectionId).data("selectedlinecount",selectedLineCount);setMultivalueLookupReturnButton(jQuery("#"+collectionId))}
function returnLookupResultsByScript(returnLink){var jqReturnLink=jQuery(returnLink);var returnData=jqReturnLink.attr(kradVariables.ATTRIBUTES.DATA_RETURN);var returnFieldValues=jQuery.parseJSON(returnData);var returnField;for(var returnFieldName in returnFieldValues){if(!returnFieldValues.hasOwnProperty(returnFieldName))continue;var returnFieldValue=returnFieldValues[returnFieldName];returnField=findElement('[name\x3d"'+escapeName(returnFieldName)+'"]');if(!returnField.length)continue;returnField.val(returnFieldValue);
returnField.focus();returnField.blur();returnField.change()}if(returnField)returnField.focus();closeIframeDialog()}
function returnLookupResultReload(returnLink){var jqReturnLink=jQuery(returnLink);var href=jqReturnLink.attr("href");var target=jqReturnLink.attr("target");var closedLightboxNeeded=true;if(parent.jQuery("iframe[id*\x3deasyXDM_]").length>0)top.jQuery("iframe[id*\x3deasyXDM_]").contents().find("#"+kradVariables.PORTAL_IFRAME_ID).attr("src",href);else if(parent.parent.jQuery("#"+kradVariables.PORTAL_IFRAME_ID).length>0)parent.parent.jQuery("#"+kradVariables.PORTAL_IFRAME_ID).attr("src",href);else{window.open(href,
target);closedLightboxNeeded=false}if(closedLightboxNeeded)closeLightbox()}
function setupMultiValueReturn(){if(parent.jQuery("iframe[id*\x3deasyXDM_]").length>0||parent.parent.jQuery("#"+kradVariables.PORTAL_IFRAME_ID).length>0)jQuery("#"+kradVariables.KUALI_FORM).attr("target",kradVariables.PORTAL_IFRAME_ID);else jQuery("#"+kradVariables.KUALI_FORM).attr("target","_parent");if(jQuery("table.dataTable").length>0){var oTable=jQuery(".dataTable").dataTable();var sData=jQuery("input:hidden",oTable.fnGetNodes()).serializeArray();jQuery.each(sData,function(i,field){jQuery("\x3cinput\x3e").attr({type:"hidden",
id:field.id,name:field.name,value:field.value}).appendTo("#"+kradVariables.KUALI_FORM)})}}function showGrowl(message,title,theme){var context=getContext();if(theme)context.jGrowl(message,{header:title,theme:theme});else context.jGrowl(message,{header:title})}function setGrowlDefaults(options){var context=getContext();context.jGrowl.defaults=context.extend(context.jGrowl.defaults,options)}
function setBlockUIDefaults(options,blockingType){var opts={};if(!options||!blockingType)return;if(blockingType=="navigation")opts.navigationOptions=options;else if(blockingType=="refresh")opts.refreshOptions=options;var context=getContext();context.blockUI.defaults=context.extend(context.blockUI.defaults,opts)}
function showLoading(loadingMessage,elementToBlock,replaceElement,options){var context=getContext();if(elementToBlock&&elementToBlock.length){var blockingOptions=context.blockUI.defaults.refreshOptions||{};var loadingContent=refreshImage}else{var blockingOptions=context.blockUI.defaults.navigationOptions||{};var loadingContent=navigationImage}if(!loadingMessage)loadingMessage=getMessage(kradVariables.MESSAGE_LOADING);loadingContent=loadingContent.attr("alt",loadingMessage).get(0).outerHTML+" "+loadingMessage;
if(elementToBlock&&elementToBlock.length)if(replaceElement)elementToBlock.html(loadingContent);else{blockingOptions=jQuery.extend(blockingOptions,{message:loadingContent});elementToBlock.block(blockingOptions)}else{loadingContent="\x3ch1\x3e"+loadingContent+"\x3c/h1\x3e";blockingOptions=jQuery.extend(blockingOptions,{message:loadingContent});context.blockUI(blockingOptions)}}
function hideLoading(elementToBlock){if(nonEmpty(elementToBlock))elementToBlock.unblock();else{var context=getContext();context.unblockUI()}}
function showChangeIcon(fieldId){var fieldMarkerSpan=jQuery("#"+fieldId+"_markers");var fieldIcon=jQuery("#"+fieldId+"_changeIcon");if(fieldMarkerSpan.length>0&&fieldIcon.length==0)fieldMarkerSpan.append("\x3cimg id\x3d'"+fieldId+"_changeIcon' alt\x3d'"+getMessage(kradVariables.MESSAGE_CHANGE)+"' src\x3d'"+getConfigParam(kradVariables.IMAGE_LOCATION)+"asterisk_orange.png'\x3e")}function showChangeIconOnHeader(headerFieldId){showChangeIconOnGroupHeader(headerFieldId,"_div")}
function showChangeIconOnDisclosure(headerFieldId){showChangeIconOnGroupHeader(headerFieldId,"_toggle")}
function showChangeIconOnGroupHeader(fieldId,idSuffix){var targetElement=jQuery("#"+fieldId+idSuffix).find("[class~\x3duif-headerText-span]");var headerIcon=jQuery("#"+fieldId+"_changeIcon");if(targetElement.length>0&&headerIcon.length==0)targetElement.append("\x3cimg id\x3d'"+fieldId+"_changeIcon' class\x3d'"+kradVariables.CHANGED_HEADER_ICON_CLASS+"' alt\x3d'"+getMessage(kradVariables.MESSAGE_CHANGE)+"' src\x3d'"+getConfigParam(kradVariables.IMAGE_LOCATION)+"asterisk_orange.png'\x3e")}
function createWatermark(id,watermark){jQuery("#"+id).watermark(watermark)}function checkForIncidentReport(content){var viewId=jQuery("input[name\x3d'"+kradVariables.VIEW_ID+"']",content);if(viewId.length&&viewId.val()===kradVariables.INCIDENT_REPORT_VIEW_CLASS)return true;else return false}
function showDialog(dialogId,options){var $dialog=jQuery("#"+dialogId);options=options||{};if($dialog.length===0||$dialog.hasClass(kradVariables.CLASSES.PLACEHOLDER)||options.alwaysRefresh){var additionalSubmitData={};if(options.resetDataOnRefresh)additionalSubmitData.resetDataOnRefresh=options.resetDataOnRefresh;createPlaceholderAndRetrieve(dialogId,function(){options.alwaysRefresh=false;showDialog(dialogId,options)},additionalSubmitData);return}_addDialogDataAttributeToActions(dialogId);jQuery(document).on(kradVariables.EVENTS.UPDATE_CONTENT,
"#"+dialogId,function(event){_addDialogDataAttributeToActions(dialogId)});_attachDialogResponseHandler(dialogId,$dialog,options.responseHandler,options.responseEventData);_bindShowDialogHandlers($dialog,options.showHandler);_bindHideDialogHandlers($dialog,options.hideHandler);$dialog.modal()}
function showEditLineDialog(dialogId,collectionPath,lineIndex,options){jQuery.ajaxSetup({cache:false});options=options||{};var additionalData={"actionParameters[selectedCollectionPath]":collectionPath,"actionParameters[selectedLineIndex]":lineIndex};if(options.resetDataOnRefresh)additionalData.resetDataOnRefresh=options.resetDataOnRefresh;var $dialog=jQuery("#"+dialogId);retrieveComponent(dialogId,"retrieveEditLineDialog",function(){$dialog.bind(kradVariables.EVENTS.HIDDEN_MODAL,function(event){$dialog.remove()});
showDialog(dialogId,additionalData)},additionalData)}
function dismissDialog(dialogId,$action){var $dialog=jQuery("#"+dialogId);if(!$dialog)return;if($action&&$action.is("["+kradVariables.ATTRIBUTES.DATA_RESPONSE+"]")){var dialogResponseEvent=jQuery.Event(kradVariables.EVENTS.DIALOG_RESPONSE);dialogResponseEvent.response=$action.attr(kradVariables.ATTRIBUTES.DATA_RESPONSE);dialogResponseEvent.action=$action;dialogResponseEvent.dialogId=dialogId;$dialog.trigger(dialogResponseEvent)}$dialog.modal("hide")}
function isDisplayedModal($element){if($element.hasClass(kradVariables.CLASSES.MODAL)&&$element.hasClass(kradVariables.CLASSES.IN))return true;return false}
function confirmDialog(confirmText,headerText,options,protoDialogId){protoDialogId=protoDialogId||kradVariables.IDS.DIALOG_YESNO;var $protoDialog=jQuery("#"+protoDialogId);options=options||{};if($protoDialog.length===0||$protoDialog.hasClass(kradVariables.CLASSES.PLACEHOLDER)){createPlaceholderAndRetrieve(protoDialogId,function(){confirm(confirmText,headerText,options)});return}var $dialog=$protoDialog.clone(true,true);var dialogId=protoDialogId+"tmp";$dialog.attr(kradVariables.ATTRIBUTES.ID,dialogId);
var dialogPrompt=findByDataRole(kradVariables.DATA_ROLES.PROMPTTEXT,$dialog);if(dialogPrompt&&dialogPrompt.length>0)dialogPrompt.text(confirmText);else throw new Error("Unable to set dialog confirm text");if(headerText){var dialogHeaderText=findByDataRole(kradVariables.DATA_ROLES.DIALOGHEADER,$dialog);if(dialogHeaderText&&dialogHeaderText.length>0)dialogHeaderText.find(":header").text(headerText);else throw new Error("Unable to set dialog header text");}jQuery("body").append($dialog);$dialog.bind(kradVariables.EVENTS.HIDDEN_MODAL,
function(event){$dialog.remove()});showDialog(dialogId,options)}function _addDialogDataAttributeToActions(dialogId,$dialog){jQuery("#"+dialogId).find("["+kradVariables.ATTRIBUTES.DISMISS_DIALOG_OPTION+"]").attr(kradVariables.ATTRIBUTES.DIALOG_ID,dialogId)}
function _attachDialogResponseHandler(dialogId,$dialog,responseHandler,responseEventData){if(!responseHandler&&$dialog.is("["+kradVariables.ATTRIBUTES.DATA_RESPONSE_HANDLER+"]"))responseHandler=wrapAsHandler($dialog.attr(kradVariables.ATTRIBUTES.DATA_RESPONSE_HANDLER));if(!responseHandler)return;$dialog.unbind(kradVariables.EVENTS.DIALOG_RESPONSE);$dialog.bind(kradVariables.EVENTS.DIALOG_RESPONSE,responseEventData,responseHandler)}
function _bindShowDialogHandlers($dialog,showHandler){if(!showHandler&&$dialog.is("["+kradVariables.ATTRIBUTES.DATA_SHOW_HANDLER+"]"))showHandler=wrapAsHandler($dialog.attr(kradVariables.ATTRIBUTES.DATA_SHOW_HANDLER));if(showHandler){$dialog.unbind(kradVariables.EVENTS.SHOW_MODAL);$dialog.bind(kradVariables.EVENTS.SHOW_MODAL,showHandler)}}
function _bindHideDialogHandlers($dialog,hideHandler){if(!hideHandler&&$dialog.is("["+kradVariables.ATTRIBUTES.DATA_HIDE_HANDLER+"]"))hideHandler=wrapAsHandler($dialog.attr(kradVariables.ATTRIBUTES.DATA_HIDE_HANDLER));if(hideHandler){$dialog.unbind(kradVariables.EVENTS.HIDE_MODAL);$dialog.bind(kradVariables.EVENTS.HIDE_MODAL,hideHandler)}}
function handleServerDialogResponse(event){var dialogResponse=event.response;var confirmationDialog=event.data.confirmation;if(confirmationDialog&&dialogResponse==="false")return;var $triggerAction=jQuery("#"+event.data.triggerActionId);if(!$triggerAction.length)return;var request=new KradRequest($triggerAction);request.additionalData.returnDialogId=event.dialogId;request.additionalData.returnDialogResponse=dialogResponse;request.additionalData.returnFromDialog=true;request.confirmDialogId=null;request.send()}
function openIframeDialog(url,dialogId){if(!dialogId)dialogId=kradVariables.MODAL.IFRAME_MODAL;jQuery(window).one("message."+kradVariables.MODAL.MODAL_NAMESPACE,function(event){switch(event.originalEvent.data){case kradVariables.MODAL.MODAL_CLOSE_DIALOG:jQuery(kradVariables.MODAL.MODAL_CLASS).modal("hide");break}});var dialogOptions={showHandler:function(event){var $modal=jQuery(event.target);var $iframe=$modal.find("iframe");$iframe.attr("src",url);iframeModalResize($modal,$iframe);$modal.find(kradVariables.MODAL.MODAL_FOOTER_CLASS).hide();
$modal.on(kradVariables.EVENTS.SHOWN_MODAL,function(){$modal.find(kradVariables.MODAL.MODAL_FOOTER_CLASS).show();iframeModalResize($modal,$iframe)});jQuery(window).on("resize."+kradVariables.MODAL.MODAL_NAMESPACE,function(){iframeModalResize($modal,$iframe)});$modal.one(kradVariables.EVENTS.HIDDEN_MODAL,function(){$modal.remove()});showLoading();$iframe[0].onload=function(){hideLoading()}},hideHandler:function(event){jQuery(window).unbind("resize."+kradVariables.MODAL.MODAL_NAMESPACE);jQuery(window).unbind("message."+
kradVariables.MODAL.MODAL_NAMESPACE)}};showDialog(dialogId,dialogOptions)}function closeIframeDialog(){window.parent.postMessage(kradVariables.MODAL.MODAL_CLOSE_DIALOG,"*")}
function iframeModalResize($modal,$iframe){var height=jQuery(window).height()*.85;var headerHeight=$modal.find(kradVariables.MODAL.MODAL_HEADER_CLASS).outerHeight();var footerHeight=$modal.find(kradVariables.MODAL.MODAL_FOOTER_CLASS).outerHeight();var $modalBody=$modal.find(kradVariables.MODAL.MODAL_BODY_CLASS);$modal.find(kradVariables.MODAL.MODAL_CONTENT_CLASS).css("height",height);$modalBody.css("height",height-headerHeight-footerHeight);$modalBody.css("padding",0);$iframe.css("height","100%");
$iframe.css("width","100%")}function openLinkInDialog($link,dialogId){var renderedInDialog=isCalledWithinDialog();var flow="start";if(renderedInDialog)flow=jQuery("input[name\x3d'"+kradVariables.FLOW_KEY+"']").val();var href=$link.attr("href");if(href.indexOf("\x26renderedInDialog\x3dtrue")===-1&&href.indexOf("?")>0){$link.attr("href",href+"\x26renderedInDialog\x3dtrue\x26flow\x3d"+flow);href=$link.attr("href")}if(!renderedInDialog)openIframeDialog(href,dialogId);else window.location=href}
function ensureDialogBackdropRemoved(){var $backdrop=jQuery(kradVariables.MODAL.MODAL_BACKDROP_CLASS);if(jQuery(kradVariables.MODAL.MODAL_CLASS+":visible").length===0&&$backdrop.length===1){jQuery("body").removeClass(kradVariables.MODAL.MODAL_OPEN);$backdrop.remove()}}function handleAjaxSessionTimeout(redirectUrl){redirect(redirectUrl)}function logoutUser(){var logoutUrl=getConfigParam(kradVariables.KRAD_URL)+"/listener?methodToCall\x3dlogout";redirect(logoutUrl)}
function initializeSessionTimers(warningInterval,timeoutInterval){sessionWarningTimer=new KradTimer(showSessionTimeoutWarning,warningInterval);sessionTimeoutTimer=new KradTimer(showSessionTimeout,timeoutInterval);broadcastSessionUpdate();window.addEventListener("storage",checkForSessionUpdate)}function showSessionTimeoutWarning(){showLightboxComponent(kradVariables.SESSION_TIMEOUT_WARNING_DIALOG)}function showSessionTimeout(){showLightboxComponent(kradVariables.SESSION_TIMEOUT_DIALOG)}
function resetSessionTimers(){if(sessionWarningTimer)sessionWarningTimer.reset();if(sessionTimeoutTimer)sessionTimeoutTimer.reset();broadcastSessionUpdate()}
function handleTimeoutWarningResponse(event){closeLightbox();if(event.value=="continue"){var response=invokeServerListener(kradVariables.KEEP_SESSION_ALIVE_METHOD_TO_CALL);if(response.status==kradVariables.SUCCESS_RESPONSE)resetSessionTimers();broadcastSessionDialogResponse("continue")}else if(event.value=="logout"){broadcastSessionDialogResponse("logout");logoutUser()}}function handleTimeoutResponse(event){closeLightbox();broadcastSessionDialogResponse("okay")}
function checkForSessionUpdate(event){if(event.key=="sessionUpdate"&&event.newValue==true)resetSessionTimers();if(event.key=="sessionDialogResponse"){if(activeDialogId==kradVariables.SESSION_TIMEOUT_WARNING_DIALOG||activeDialogId==kradVariables.SESSION_TIMEOUT_DIALOG)closeLightbox();if(event.newValue=="continue")resetSessionTimers();else if(event.newValue=="logout")logoutUser()}}
function broadcastSessionUpdate(){if(localStorage){localStorage.setItem("sessionUpdate",true);localStorage.removeItem("sessionUpdate")}}function broadcastSessionDialogResponse(response){if(localStorage){localStorage.setItem("sessionDialogResponse",response);localStorage.removeItem("sessionDialogResponse")}}function KradTimer(action,interval){this.action=action;this.interval=interval;this.start()}
KradTimer.prototype={interval:0,action:null,_timerId:null,start:function(){this._timerId=window.setTimeout(this.action,this.interval)},reset:function(){this.stop();this.start()},stop:function(){window.clearTimeout(this._timerId)}};
function handlePageAndCacheRefreshing(){var cacheKeyHashVal=getUrlParameter(kradVariables.CACHE_KEY,window.location.hash);if(cacheKeyHashVal){if(history.replaceState)removeCacheKeyHTML5();else removeCacheKeyNonHTML5();return true}var lightboxBackClose=false;jQuery(document).bind("afterLoad",function(e){if(history.replaceState)history.pushState({lightbox:true},null,window.location+"\x26"+kradVariables.LIGHTBOX_PARAM+"\x3dtrue");else{var search=window.location.search.substring(1);var hash=getUrlQueryString(kradVariables.LIGHTBOX_PARAM,
"true",window.location.hash);window.location.replace("?"+search+hash)}});jQuery(document).bind("afterClose",function(e){if(!lightboxBackClose&&history.replaceState&&window.location&&window.location.toString().indexOf(kradVariables.LIGHTBOX_PARAM+"\x3dtrue"))history.back();else if(!lightboxBackClose&&window.location.hash&&window.location.hash.toString().indexOf(kradVariables.LIGHTBOX_PARAM+"\x3dtrue")){var search=window.location.search.substring(1);var hash=window.location.hash.toString();hash=hash.replace("\x26"+
kradVariables.LIGHTBOX_PARAM+"\x3dtrue","");hash=hash.replace(kradVariables.LIGHTBOX_PARAM+"\x3dtrue\x26","");window.location.replace("?"+search+hash)}lightboxBackClose=false});jQuery(window).bind("popstate",function(e){var state=e.state;if(!state)state=e.originalEvent.state;if(state&&state.pageId&&state.pageId!=getCurrentPageId())navigateToPage(state.pageId);if((!state||state&&state.pageId==getCurrentPageId())&&jQuery.fancybox.isOpen){lightboxBackClose=true;jQuery.fancybox.close()}});jQuery(window).bind("hashchange",
function(e){var pageId=null;if(window.location.hash)pageId=getUrlParameter(kradVariables.PAGE_ID,window.location.hash);var inLightbox=getUrlParameter(kradVariables.LIGHTBOX_PARAM,window.location.hash);if(pageId&&pageId!=getCurrentPageId())navigateToPage(pageId);if(!inLightbox&&jQuery.fancybox.isOpen){lightboxBackClose=true;jQuery.fancybox.close()}});var singlePageView=jQuery("input[name\x3d'"+kradVariables.SINGLE_PAGE_VIEW+"']").val()=="true";if(singlePageView)return false;var hashPageId=getUrlParameter(kradVariables.PAGE_ID,
window.location.hash);var pageRedirect=hashPageId&&getCurrentPageId()!=hashPageId;if(pageRedirect)navigateToPage(hashPageId);return pageRedirect}
function updateRequestUrl(pageId){var formKeyField=jQuery("input[name\x3d'"+kradVariables.FORM_KEY+"']");var disableCache=jQuery("input[name\x3d'"+kradVariables.DISABLE_BROWSER_CACHE+"']").val()=="true";var cacheKey;var urlPageId=getUrlParameter(kradVariables.PAGE_ID,window.location.search.substring(1));if(disableCache)cacheKey=generateQuickGuid();var singlePageView=jQuery("input[name\x3d'"+kradVariables.SINGLE_PAGE_VIEW+"']").val()=="true";if(!disableCache&&singlePageView)return;if(history.replaceState){var queryString=
"";if(formKeyField.length&&formKeyField.val())queryString=getUrlQueryString(kradVariables.FORM_KEY,formKeyField.val());if(disableCache)queryString=getUrlQueryString(kradVariables.CACHE_KEY,cacheKey,queryString);if(!singlePageView)queryString=getUrlQueryString(kradVariables.PAGE_ID,pageId,queryString);var updatedPageUrl="?"+queryString+window.location.hash;if(!getContext().fancybox.isOpen)updatedPageUrl=updatedPageUrl.replace("\x26"+kradVariables.LIGHTBOX_PARAM+"\x3dtrue","");if(urlPageId&&pageId&&
urlPageId!=pageId)history.pushState({pageId:pageId},null,updatedPageUrl);else history.replaceState({pageId:pageId},null,updatedPageUrl)}else{var urlSearch=window.location.search.substring(1);var search=urlSearch;var hash=window.location.hash;var delineatedHash;if(!singlePageView)search=getUrlQueryString(kradVariables.PAGE_ID,pageId,search);if(formKeyField.length&&formKeyField.val())hash=getUrlQueryString(kradVariables.FORM_KEY,formKeyField.val(),hash);if(disableCache)hash=getAppendedUrlHashKey(kradVariables.CACHE_KEY,
cacheKey,hash);if(hash)delineatedHash="#"+hash;if(urlPageId&&pageId&&urlPageId!=pageId)window.location.replace("?"+search+delineatedHash);else if(hash)window.location.replace("?"+search+delineatedHash)}}
function getUrlParameter(paramName,searchString){if(searchString==undefined)searchString=window.location.search.substring(1);if(!searchString)return null;if(searchString.indexOf("?")>-1)searchString=searchString.substring(searchString.indexOf("?")+1);var params=searchString.split("\x26");for(var i=0;i<params.length;i++){var val=params[i].split("\x3d");val[0]=stripDelimiters(val[0]);if(val[0]==paramName)return decodeURIComponent(val[1])}return null}
function getUrlQueryString(appendageId,appendageValue,searchString){if(searchString==undefined)searchString=window.location.search.substring(1);if(!appendageId||!appendageValue)return searchString;if(!searchString)return appendageId+"\x3d"+appendageValue;if(searchString&&searchString.indexOf(appendageId)==-1)return searchString+"\x26"+appendageId+"\x3d"+appendageValue;var params=searchString.split("\x26");var queryString="";for(var i=0;i<params.length;i++){var val=params[i].split("\x3d");val[0]=stripDelimiters(val[0]);
if(val[0]==appendageId)continue;if(queryString.length)queryString=queryString+"\x26"+val[0]+"\x3d"+val[1];else queryString=val[0]+"\x3d"+val[1]}if(queryString.length)queryString=queryString+"\x26"+appendageId+"\x3d"+appendageValue;else queryString=appendageId+"\x3d"+appendageValue;return queryString}function getAppendedUrlHashKey(key,value,hashString){if(hashString==undefined)hashString=window.location.hash;hashString=stripHashDelimiter(hashString);return getUrlQueryString(key,value,hashString)}
function getRemovedUrlHashKey(key,hashString){if(hashString==undefined)hashString=window.location.hash;if(!hashString)return;var newHash="";hashString=stripHashDelimiter(hashString);var params=hashString.split("\x26");for(i=0;i<params.length;i++){var parm=params[i].split("\x3d");parm[0]=stripDelimiters(parm[0]);if(parm[0]==key)continue;if(newHash.length)newHash=newHash+"\x26"+parm[0]+"\x3d"+parm[1];else newHash=parm[0]+"\x3d"+parm[1]}return newHash}
function stripHashDelimiter(hashString){if(hashString.length>0&&hashString.substring(0,1)=="#")hashString=hashString.substring(1);if(hashString.length>0&&hashString.substring(0,1)=="?")hashString=hashString.substring(1);return hashString}function stripDelimiters(str){if(str.length>0&&str.substring(0,1)=="#")str=str.substring(1);if(str.length>0&&str.substring(0,1)=="?")str=str.substring(1);if(str.length>0&&str.substring(0,1)=="\x26")str=str.substring(1);return str}
function removeCacheKeyHTML5(){var refreshQueryString=window.location.search.substring(1);var formKeyField=jQuery("input[name\x3d'"+kradVariables.FORM_KEY+"']");if(formKeyField.length&&formKeyField.val())refreshQueryString=getUrlQueryString(kradVariables.FORM_KEY,formKeyField.val(),refreshQueryString);refreshQueryString=getRemovedUrlHashKey(kradVariables.CACHE_KEY,refreshQueryString);history.replaceState(null,null,"?"+refreshQueryString)}
function removeCacheKeyNonHTML5(){var search=window.location.search.substring(1);var hash=window.location.hash;var delineatedHash;var formKeyField=jQuery("input[name\x3d'"+kradVariables.FORM_KEY+"']");if(formKeyField.length&&formKeyField.val())hash=getUrlQueryString(kradVariables.FORM_KEY,formKeyField.val(),hash);hash=getRemovedUrlHashKey(kradVariables.CACHE_KEY,hash);if(hash)delineatedHash="#"+hash;window.location.replace("?"+search+delineatedHash)}var prevPageMessageTotal=0;
function getValidationData(jqComponent,isGroup){var data=jqComponent.data(kradVariables.VALIDATION_MESSAGES);var defaults;if(isGroup)defaults=groupValidationDefaults;else defaults=fieldValidationDefaults;if(!defaults)defaults={};if(data){data=jQuery.extend({},defaults,data);jqComponent.data(kradVariables.VALIDATION_MESSAGES,data)}else{data=jQuery.extend({},defaults);jqComponent.data(kradVariables.VALIDATION_MESSAGES,data)}return data}
function hideMessageTooltip(fieldId){var elementInfo=getHoverElement(fieldId);var element=elementInfo.element;if(elementInfo.type=="fieldset")element=jQuery(element).filter(".uif-tooltip");var popoverData=element.data(kradVariables.POPOVER_DATA);if(!popoverData)return;var data=getValidationData(jQuery("#"+fieldId));if(data&&data.showTimer)clearTimeout(data.showTimer);var popover=jQuery(element).next(".popover");if(data.tooltipTheme)popover.removeClass(data.tooltipTheme);element.popover("hide");element.data(kradVariables.POPOVER_DATA).shown=
false}
function getHoverElement(fieldId){var fieldset=jQuery("#"+fieldId).find("fieldset");var hasFieldset=fieldset.length;var elementInfo={};if(!hasFieldset||hasFieldset&&fieldset.data("type")=="InputSet"){elementInfo.element=jQuery("#"+fieldId).find("input:text, input:password, input:file, input:checkbox, "+"select, textarea");elementInfo.type="";if(elementInfo.element.is("input:checkbox"))elementInfo.themeMargins={total:"13px",difference:"2px"}}else if(hasFieldset&&jQuery("#"+fieldId).find("fieldset \x3e span \x3e input").length){elementInfo.element=jQuery("#"+
fieldId).find("fieldset, fieldset \x3e span \x3e input:radio,"+"fieldset \x3e span \x3e input:checkbox, fieldset \x3e span \x3e label, .uif-tooltip");elementInfo.type="fieldset";elementInfo.themeMargins={total:"13px",difference:"2px"}}else{elementInfo.element=[];elementInfo.type=""}return elementInfo}function getTooltipMargin(tooltipElement){var tooltipElementWidth=jQuery(tooltipElement).width()/2;return"0 0 0 "+(tooltipElementWidth-20)+"px"}
function showMessageTooltip(fieldId,showAndClose,change){var field=jQuery("#"+fieldId);var data=getValidationData(field);if(data&&data.useTooltip&&data.messagingEnabled&&!haltValidationMessaging){var elementInfo=getHoverElement(fieldId);var tooltipElement=jQuery(elementInfo.element);if(elementInfo.type=="fieldset")tooltipElement=tooltipElement.filter(".uif-tooltip");var popoverData=tooltipElement.data(kradVariables.POPOVER_DATA);if(!popoverData)popoverData=initializeTooltip(tooltipElement);var hasMessages=
jQuery("[data-messages_for\x3d'"+fieldId+"']").children().length;if(hasMessages){if(data.tooltipTimer)clearTimeout(data.tooltipTimer);popoverData.options.content=jQuery("[data-messages_for\x3d'"+fieldId+"']").html();var show=true;if(showAndClose&&!(data.serverErrors.length||data.serverWarnings.length||data.serverInfo.length)){hideMessageTooltip(fieldId);show=false}if(show){if(!popoverData.shown){if(showAndClose)hideTooltips();tooltipElement.popover("show");var popover=jQuery(tooltipElement).next(".popover");
if(data.tooltipTheme)popover.addClass(data.tooltipTheme);popoverData.shown=true}else if(popoverData.shown)if(change){if(showAndClose)hideTooltips();tooltipElement.popover("show")}if(showAndClose){data.tooltipTimer=setTimeout("hideMessageTooltip('"+fieldId+"')",3E3);field.data(kradVariables.VALIDATION_MESSAGES,data)}}}else hideMessageTooltip(fieldId)}}
function writeMessagesAtField(id){var field=jQuery("#"+id);var data=getValidationData(field);if(data&&data.displayMessages){if(!data.errors)data.errors=[];if(!data.warnings)data.warnings=[];if(!data.info)data.info=[];var messagesDiv=jQuery("[data-messages_for\x3d'"+id+"']");var createMessagesDiv=messagesDiv.length===0;if(createMessagesDiv)messagesDiv=jQuery("\x3cdiv id\x3d'"+id+"_errors' class\x3d'alert' data-messages_for\x3d'"+id+"' style\x3d'display: none;'\x3e");if(data.useTooltip)messagesDiv.hide();
else messagesDiv.show();messagesDiv.empty();var clientMessages=jQuery("\x3cdiv class\x3d'"+kradVariables.CLIENT_MESSAGE_ITEMS_CLASS+"'\x3e\x3cul\x3e"+generateListItems(data.errors,kradVariables.ERROR_MESSAGE_ITEM_CLASS,0,false,errorImage)+generateListItems(data.warnings,kradVariables.WARNING_MESSAGE_ITEM_CLASS,0,false,warningImage)+generateListItems(data.info,kradVariables.INFO_MESSAGE_ITEM_CLASS,0,false,infoImage)+"\x3c/ul\x3e\x3c/div\x3e");var editLink="";if(field.data(kradVariables.INLINE_EDIT.INLINE_EDIT_DATA_ATTR)){var editText=
getMessage(kradVariables.MESSAGE_EDIT);editLink=" \x3ca onclick\x3d\"activateInlineEdit('"+id+"'); return false;\"\x3e"+editText+"\x3c/a\x3e"}var serverMessages=jQuery("\x3cdiv class\x3d'"+kradVariables.SERVER_MESSAGE_ITEMS_CLASS+"'\x3e\x3cul\x3e"+generateListItems(data.serverErrors,kradVariables.ERROR_MESSAGE_ITEM_CLASS,0,false,errorImage,editLink)+generateListItems(data.serverWarnings,kradVariables.WARNING_MESSAGE_ITEM_CLASS,0,false,warningImage,editLink)+generateListItems(data.serverInfo,kradVariables.INFO_MESSAGE_ITEM_CLASS,
0,false,infoImage,editLink)+"\x3c/ul\x3e\x3c/div\x3e");var hasServerMessages=false;if(jQuery(clientMessages).find("ul").children().length){if(createMessagesDiv){field.append(messagesDiv);createMessagesDiv=false}jQuery(clientMessages).appendTo(messagesDiv)}if(jQuery(serverMessages).find("ul").children().length){if(createMessagesDiv){field.append(messagesDiv);createMessagesDiv=false}jQuery(serverMessages).appendTo(messagesDiv);hasServerMessages=true}var showImage=data.showIcons;if(field.parents(".uif-tableCollectionLayout").length)showImage=
false;jQuery("#"+id+" \x3e .uif-validationImage").remove();field.removeClass(kradVariables.HAS_ERROR_CLASS);field.removeClass(kradVariables.HAS_MODIFIED_ERROR_CLASS);field.removeClass(kradVariables.HAS_WARNING_CLASS);field.removeClass(kradVariables.HAS_INFO_CLASS);if(jQuery(messagesDiv).find(".uif-errorMessageItem-field").length){if(data.errors.length)jQuery(messagesDiv).find(".uif-clientMessageItems").addClass(kradVariables.CLIENT_ERROR_DIV_CLASS);if(data.serverErrors.length)jQuery(messagesDiv).find(".uif-serverMessageItems").addClass(kradVariables.CLIENT_ERROR_DIV_CLASS);
if(data.fieldModified&&data.errors.length==0){field.addClass(kradVariables.HAS_MODIFIED_ERROR_CLASS);if(showImage)jQuery(messagesDiv).before(errorGreyImage)}else{field.addClass(kradVariables.HAS_ERROR_CLASS);if(showImage)jQuery(messagesDiv).before(errorImage)}if(hasServerMessages)data.tooltipTheme="uif-tooltip-error-ss";else data.tooltipTheme="uif-tooltip-error-cs";handleTabStyle(id,true,false,false)}else if(jQuery(messagesDiv).find(".uif-warningMessageItem-field").length){if(data.warnings.length)jQuery(messagesDiv).find(".uif-clientMessageItems").addClass(kradVariables.CLIENT_WARNING_DIV_CLASS);
if(data.serverWarnings.length)jQuery(messagesDiv).find(".uif-serverMessageItems").addClass(kradVariables.CLIENT_WARNING_DIV_CLASS);field.addClass(kradVariables.HAS_WARNING_CLASS);if(showImage)jQuery(messagesDiv).before(warningImage);if(hasServerMessages)data.tooltipTheme="uif-tooltip-warning-ss";else data.tooltipTheme="uif-tooltip-warning-cs";handleTabStyle(id,false,true,false)}else if(jQuery(messagesDiv).find(".uif-infoMessageItem-field").length){if(data.info.length)jQuery(messagesDiv).find(".uif-clientMessageItems").addClass(kradVariables.CLIENT_INFO_DIV_CLASS);
if(data.serverInfo.length)jQuery(messagesDiv).find(".uif-serverMessageItems").addClass(kradVariables.CLIENT_INFO_DIV_CLASS);field.addClass(kradVariables.HAS_INFO_CLASS);if(showImage)jQuery(messagesDiv).before(infoImage);if(hasServerMessages)data.tooltipTheme="uif-tooltip-info-ss";else data.tooltipTheme="uif-tooltip-info-cs";handleTabStyle(id,false,false,true)}else{messagesDiv.hide();handleTabStyle(id,false,false,false)}}}
function handleMessagesAtField(id,pageSetupPhase){var field=jQuery("#"+id);var skip=field.data("vignore");if(pageSetupPhase==undefined)pageSetupPhase=false;var skipBubble=false;if(clientErrorExistsCheck&&!summaryTextExistence[id])skipBubble=true;if(skip!=="yes"){var data=getValidationData(field);if(data)if(!pageSetupPhase||pageSetupPhase&&data.hasOwnMessages){writeMessagesAtField(id);var parent=field.data("parent");if(parent&&!skipBubble)handleMessagesAtGroup(parent,id,data,pageSetupPhase);data.processed=
true}}}
function handleMessagesAtGroup(id,fieldId,fieldData,pageSetupPhase){var group=jQuery("#"+id);var data=getValidationData(group,true);var pageLevel=false;var parent=group.data("parent");if(data){var messageMap=data.messageMap;pageLevel=data.pageLevel;if(!data.errors)data.errors=[];if(!data.warnings)data.warnings=[];if(!data.info)data.info=[];if(!messageMap){messageMap={};data.messageMap=messageMap}if(data.isSection===undefined){var sectionHeader=getGroupHeaderElement(id);data.isSection=sectionHeader.length}messageMap[fieldId]=fieldData;
if(!pageSetupPhase){var forceWrite=jQuery("[data-messages_for\x3d'"+id+"']").find("li[data-messageitemfor\x3d'"+fieldId+"']").length;writeMessagesForGroup(id,data,forceWrite);displayHeaderMessageCount(id,data)}}if(!pageLevel&&parent)handleMessagesAtGroup(parent,fieldId,fieldData,pageSetupPhase)}
function writeMessagesForGroup(id,data,forceWrite,skipCalculateTotals){var group=jQuery("#"+id);var parent=group.data("parent");if(data){var messageMap=data.messageMap;var pageLevel=data.pageLevel;var order=data.order;var sections=data.sections;if(data.isSection===undefined){var sectionHeader=getGroupHeaderElement(id);data.isSection=sectionHeader.length}var showMessages=(data.isSection||data.forceShow)&&(!data.closed||pageValidationPhase);var type=group.data("type");if(type&&type===kradVariables.TAB_GROUP_CLASS)showMessages=
false;if(parent){var parentType=jQuery("#"+parent).data("type");if(parentType&&parentType===kradVariables.TAB_GROUP_CLASS)showMessages=true}if(!data.errors)data.errors=[];if(!data.warnings)data.warnings=[];if(!data.info)data.info=[];if(!skipCalculateTotals)data=calculateMessageTotals(id,data);if(showMessages){var newList=jQuery("\x3cul class\x3d'"+kradVariables.VALIDATION_MESSAGES_CLASS+"'\x3e\x3c/ul\x3e");if(data.messageTotal||jQuery("span.uif-correctedError").length||forceWrite){newList=generateSectionLevelMessages(id,
data,newList);if(data.summarize)newList=generateSummaries(id,messageMap,sections,order,newList);else for(var key in messageMap){var link=generateFieldLink(messageMap[key],key,data.collapseFieldMessages,data.displayLabel);newList=writeMessageItemToList(link,newList)}var messageBlock=jQuery("[data-messages_for\x3d'"+id+"']");if(messageBlock.length===0){var cssClasses="alert";messageBlock=jQuery("\x3cdiv id\x3d'"+id+"_messages' class\x3d'"+cssClasses+"' data-messages_for\x3d'"+id+"' "+"style\x3d'display: none;'\x3e");
if(data.closeable)messageBlock.bind("closed.bs.alert",function(){var data=getValidationData(group,true);data.closed=true});var disclosureBlock=group.find("#"+id+"_disclosureContent");if(disclosureBlock.length)disclosureBlock.prepend(messageBlock);else if(!data.isSection)group.prepend(messageBlock);else if(data.isSection){header=group.find("[data-header_for\x3d'"+id+"']");header.after(messageBlock)}}messageBlock.removeClass("alert");messageBlock.removeClass(kradVariables.PAGE_VALIDATION_MESSAGE_ERROR_CLASS);
messageBlock.removeClass(kradVariables.PAGE_VALIDATION_MESSAGE_WARNING_CLASS);messageBlock.removeClass(kradVariables.PAGE_VALIDATION_MESSAGE_INFO_CLASS);messageBlock.removeClass(kradVariables.PAGE_VALIDATION_MESSAGE_SUCCESS_CLASS);if(data.errorTotal>0){messageBlock.removeClass("uif-validationMessages");messageBlock.removeClass("uif-groupValidationMessages");messageBlock.addClass("alert");messageBlock.addClass(kradVariables.PAGE_VALIDATION_MESSAGE_ERROR_CLASS)}else if(data.warningTotal>0){messageBlock.removeClass("uif-validationMessages");
messageBlock.removeClass("uif-groupValidationMessages");messageBlock.addClass("alert");messageBlock.addClass(kradVariables.PAGE_VALIDATION_MESSAGE_WARNING_CLASS)}else if(data.infoTotal>0){messageBlock.removeClass("uif-validationMessages");messageBlock.removeClass("uif-groupValidationMessages");messageBlock.addClass("alert");messageBlock.addClass(kradVariables.PAGE_VALIDATION_MESSAGE_INFO_CLASS)}else{messageBlock.addClass("alert");messageBlock.addClass(kradVariables.PAGE_VALIDATION_MESSAGE_SUCCESS_CLASS)}clearMessages(id,
false);handleTabStyle(id,data.errorTotal,data.warningTotal,data.infoTotal);writeMessages(id,newList);if(pageLevel)if(newList.children().length){var countMessage=generateCountString(data.errorTotal,data.warningTotal,data.infoTotal);addCountToDocumentTitle(countMessage,data.errorTotal,data.warningTotal,data.infoTotal);var single=isSingularMessage(newList);var pageValidationHeader;if(!single)pageValidationHeader=jQuery("\x3ch3 tabindex\x3d'0' class\x3d'"+kradVariables.VALIDATION_PAGE_HEADER_CLASS+"' "+
"id\x3d'pageValidationHeader'\x3eThis page has "+countMessage+"\x3c/h3\x3e");else pageValidationHeader=jQuery(newList).detach();pageValidationHeader.find(".uif-validationImage").remove();var pageSummaryClass="";var image=errorGreyImage;if(data.errorTotal){pageSummaryClass=kradVariables.PAGE_VALIDATION_MESSAGE_ERROR_CLASS;image=errorImage}else if(data.warningTotal){pageSummaryClass=kradVariables.PAGE_VALIDATION_MESSAGE_WARNING_CLASS;image=warningImage}else if(data.infoTotal){pageSummaryClass=kradVariables.PAGE_VALIDATION_MESSAGE_INFO_CLASS;
image=infoImage}if(!single)pageValidationHeader.prepend(image);else{pageValidationHeader.find("li").prepend(image);pageValidationHeader.addClass("uif-pageValidationMessage-single")}messageBlock.prepend(pageValidationHeader);pageValidationHeader.parent().removeClass(kradVariables.PAGE_VALIDATION_MESSAGE_ERROR_CLASS);pageValidationHeader.parent().removeClass(kradVariables.PAGE_VALIDATION_MESSAGE_WARNING_CLASS);pageValidationHeader.parent().removeClass(kradVariables.PAGE_VALIDATION_MESSAGE_INFO_CLASS);
pageValidationHeader.parent().addClass(pageSummaryClass);if(!data.showPageSummaryHeader&&!single)pageValidationHeader.hide();messageBlock.find(".uif-validationMessagesList").attr("id","pageValidationList");messageBlock.find(".uif-validationMessagesList").attr("aria-labelledby","pageValidationHeader")}if(data.closeable){messageBlock.prepend("\x3cbutton type\x3d'button' class\x3d'close' "+"data-dismiss\x3d'alert' aria-hidden\x3d'true'\x3ex\x3c/button\x3e");messageBlock.alert()}}else clearMessages(id,
true)}}}function isEmpty(str){return!str||0===str.length}
function addCountToDocumentTitle(countMessage,errorTotal,warningTotal,infoTotal){var tokenIndex=document.title.lastIndexOf(" - ");if(errorTotal>0||warningTotal>0||infoTotal>0)if(tokenIndex>-1&&!isEmpty(countMessage))document.title=document.title.substr(0,tokenIndex)+" - "+countMessage;else if(tokenIndex>-1&&isEmpty(countMessage))document.title=document.title.substr(0,tokenIndex);else{if(!isEmpty(countMessage))document.title=document.title+" - "+countMessage}else if(!isEmpty(countMessage))document.title=
document.title+" - "+countMessage}function isSingularMessage(newList){var single=false;var lines=jQuery(newList).find("li");if(lines.length==1)single=true;return single}
function writeMessagesForPage(){clientErrorStorage=new Object;var summaryTextExistence=new Object;var page=jQuery("[data-role\x3d'Page']");var pageId=page.attr("id");var data=getValidationData(page,true);calculateMessageTotals(pageId,data);if(prevPageMessageTotal===0&&data.messageTotal==0)return;prevPageMessageTotal=data.messageTotal;if(data){var messageMap=data.messageMap;if(!messageMap){messageMap={};data.messageMap=messageMap}}writeMessagesForChildGroups(pageId);writeMessagesForGroup(pageId,data,
false,true);displayHeaderMessageCount(pageId,data);jQuery(".uif-errorMessageItem \x3e div").show()}
function writeMessagesForChildGroups(parentId){jQuery("[data-parent\x3d'"+parentId+"']").each(function(){var currentGroup=jQuery(this);var id=currentGroup.attr("id");var data=getValidationData(currentGroup,true);if(data){var messageMap=data.messageMap;if(!messageMap){messageMap={};data.messageMap=messageMap}}if(!currentGroup.is("div[data-role\x3d'InputField']")){writeMessagesForChildGroups(id);writeMessagesForGroup(id,data);displayHeaderMessageCount(id,data)}})}
function handleTabStyle(id,error,warning,info){var tabWrapper=jQuery("#"+id).closest("[data-type\x3d'TabWrapper']");if(tabWrapper.length){var tabId=jQuery(tabWrapper).data("tabwrapperfor");var tab=jQuery("[data-tabfor\x3d'"+tabId+"']");tab.find(".uif-validationImage").remove();if(error)tab.find("a").append(errorImage);else if(warning)tab.find("a").append(warningImage);else if(info)tab.find("a").append(infoImage)}}
function generateSectionLevelMessages(id,data,newList){if(data!=undefined&&data!=null){if(data.hasOwnMessages){var errors=jQuery(generateListItems(data.errors,"uif-errorMessageItem",0,true)+generateListItems(data.serverErrors,"uif-errorMessageItem",0,true));var warnings=jQuery(generateListItems(data.warnings,"uif-warningMessageItem",0,true)+generateListItems(data.serverWarnings,"uif-warningMessageItem",0,true));var info=jQuery(generateListItems(data.info,"uif-infoMessageItem",0,true)+generateListItems(data.serverInfo,
"uif-infoMessageItem",0,true));newList=writeMessageItemToList(errors,newList);newList=writeMessageItemToList(warnings,newList);newList=writeMessageItemToList(info,newList)}jQuery("#"+id).find("div[data-parent\x3d'"+id+"']").not("div[data-role\x3d'InputField']").each(function(){var groupData=getValidationData(jQuery(this),true);if(groupData&&!groupData.isSection)newList=generateSectionLevelMessages(jQuery(this).attr("id"),groupData,newList)})}return newList}
function calculateMessageTotals(id,data){var errorTotal=0;var warningTotal=0;var infoTotal=0;var messageMap=data.messageMap;for(var fId in messageMap){var currentData=messageMap[fId];errorTotal=errorTotal+currentData.serverErrors.length+currentData.errors.length;warningTotal=warningTotal+currentData.serverWarnings.length+currentData.warnings.length;infoTotal=infoTotal+currentData.serverInfo.length+currentData.info.length}var childGroupCount=recursiveGroupMessageCount(id);errorTotal+=childGroupCount.errorTotal;
warningTotal+=childGroupCount.warningTotal;infoTotal+=childGroupCount.infoTotal;data.errorTotal=errorTotal+data.serverErrors.length+data.errors.length;data.warningTotal=warningTotal+data.serverWarnings.length+data.warnings.length;data.infoTotal=infoTotal+data.serverInfo.length+data.info.length;data.messageTotal=data.errorTotal+data.warningTotal+data.infoTotal;return data}
function recursiveGroupMessageCount(parentId){var data={errorTotal:0,warningTotal:0,infoTotal:0};if(!parentId)return data;jQuery("#"+parentId).find("[data-parent\x3d'"+parentId+"']").not("div[data-role\x3d'InputField']").each(function(){var groupData=getValidationData(jQuery(this),true);if(groupData){data.errorTotal=data.errorTotal+groupData.serverErrors.length+(groupData.errors?groupData.errors.length:0);data.warningTotal=data.warningTotal+groupData.serverWarnings.length+(groupData.warnings?groupData.warnings.length:
0);data.infoTotal=data.infoTotal+groupData.serverInfo.length+(groupData.info?groupData.info.length:0)}var childData=recursiveGroupMessageCount(jQuery(this).attr("id"));data.errorTotal+=childData.errorTotal;data.warningTotal+=childData.warningTotal;data.infoTotal+=childData.infoTotal});return data}
function displayHeaderMessageCount(sectionId,sectionData){if(sectionData&&sectionData.displayHeaderSummary){var sectionHeader=getGroupHeaderElement(sectionId);if(errorImage==undefined)setupImages();if(sectionHeader.length&&sectionData.messageTotal){var countMessage=generateCountString(sectionData.errorTotal,sectionData.warningTotal,sectionData.infoTotal);var image="";if(sectionData.errorTotal)image=errorImage;else if(sectionData.warningTotal)image=warningImage;else if(sectionData.infoTotal)image=
infoImage;var messageCountElement=jQuery(sectionHeader).find("."+kradVariables.MESSAGE_COUNT_CLASS);if(messageCountElement.length)messageCountElement.remove();if(countMessage!="")jQuery("\x3cdiv class\x3d'"+kradVariables.MESSAGE_COUNT_CLASS+"'\x3e"+image+" "+countMessage+"\x3c/div\x3e").appendTo(sectionHeader)}else if(sectionHeader.length&&sectionData.messageTotal==0)jQuery(sectionHeader).find("."+kradVariables.MESSAGE_COUNT_CLASS).remove()}}
function generateCountString(errorTotal,warningTotal,infoTotal){var countMessage="";if(errorTotal==1)countMessage=getMessage(kradVariables.MESSAGE_TOTAL_ERROR,null,null,errorTotal);else countMessage=getMessage(kradVariables.MESSAGE_TOTAL_ERRORS,null,null,errorTotal);if((errorTotal>0)+(warningTotal>0)+(infoTotal>0)==3)countMessage=getMessage(kradVariables.MESSAGE_TOTAL_OTHER_MESSAGES,null,null,countMessage,warningTotal+infoTotal);else{if(warningTotal){if(errorTotal==0)countMessage="";if(countMessage!=
"")countMessage=countMessage+" \x26 ";if(warningTotal==1)countMessage=countMessage+getMessage(kradVariables.MESSAGE_TOTAL_WARNING,null,null,warningTotal);else countMessage=countMessage+getMessage(kradVariables.MESSAGE_TOTAL_WARNINGS,null,null,warningTotal)}if(infoTotal){if(errorTotal==0)countMessage="";if(countMessage!="")countMessage=countMessage+" \x26 ";if(infoTotal==1)if(countMessage!=""&&jQuery("#uLookupResults.uif-infoMessageItem").length>0)countMessage=countMessage+getMessage(kradVariables.MESSAGE_TOTAL_MESSAGE,
null,null,infoTotal);else countMessage="";else countMessage=countMessage+getMessage(kradVariables.MESSAGE_TOTAL_MESSAGES,null,null,infoTotal)}}return countMessage}function clearMessages(messagesForId,hide){var messagesDiv=jQuery("[data-messages_for\x3d'"+messagesForId+"']");jQuery(messagesDiv).empty();if(hide)jQuery(messagesDiv).hide()}
function writeMessages(messagesForId,newList){var data=getValidationData(jQuery("#"+messagesForId),true);var messagesDiv=jQuery("[data-messages_for\x3d'"+messagesForId+"']");if(newList.children().length&&data.displayMessages){jQuery(messagesDiv).show();jQuery(newList).appendTo(messagesDiv)}else if(newList.children().length&&!data.displayMessages){jQuery(messagesDiv).hide();jQuery(newList).appendTo(messagesDiv)}else jQuery(messagesDiv).hide()}
function writeMessageItemToList(item,newList){if(item!=null)jQuery(item).appendTo(newList);return newList}
function generateListItems(messageArray,itemClass,startIndex,focusable,image,editLink){var elements="";if(!image)image="";if(!editLink)editLink="";if(messageArray&&messageArray.length)for(var i=startIndex;i<messageArray.length;i++)if(focusable)elements=elements+"\x3cli tabindex\x3d'0' class\x3d'"+itemClass+"'\x3e"+image+" "+convertToHtml(messageArray[i])+editLink+"\x3c/li\x3e";else elements=elements+"\x3cli class\x3d'"+itemClass+"'\x3e"+image+" "+convertToHtml(messageArray[i])+editLink+"\x3c/li\x3e";
return elements}
function generateSummaries(id,messageMap,sections,order,newList){var data=getValidationData(jQuery("#"+id),true);if(sections.length==0||data.isTableCollection=="true")for(var key in messageMap){var link=generateFieldLink(messageMap[key],key,data.collapseFieldMessages,data.displayLabel);newList=writeMessageItemToList(link,newList)}else{var currentFields=[];var currentSectionId;jQuery.each(order,function(index,value){if(!(value.indexOf("s$")==0)&&!(value.indexOf("f$")==0))currentFields.push(value);else if(value.indexOf("c$")==
0){var collectionId=value.substring(2);var collectionData=getValidationData(jquery("#"+collectionId),true);for(var key in collectionData.messageMap){var link=generateFieldLink(collectionData.messageMap[key],key,collectionData.collapseFieldMessages,collectionData.displayLabel);newList=writeMessageItemToList(link,newList)}}else{var sectionId=value.substring(2);if(jQuery("#"+sectionId).data("role")&&jQuery("#"+sectionId).data("role")=="placeholder");else{currentSectionId=sectionId;var sublist=generateFieldLinkSublist(data,
currentFields,messageMap,currentSectionId,true);newList=writeMessageItemToList(sublist,newList);var summaryLink=generateSummaryLink(currentSectionId);newList=writeMessageItemToList(summaryLink,newList);currentFields=[]}}});if(currentFields.length>0){var sublist=generateFieldLinkSublist(data,currentFields,messageMap,currentSectionId,false);newList=writeMessageItemToList(sublist,newList)}}return newList}
function generateFieldLink(messageData,fieldId,collapseMessages,showLabel){var link=null;if(messageData!=null){if(!messageData.displayMessages)collapseMessages=false;var linkType;var highlight;var collapse=false;var linkText="";var separator="";var collapsedErrors={};var collapsedWarnings={};var collapsedInfo={};var image="";var isLink=true;var hasServerMessages=messageData.serverErrors.length||messageData.serverWarnings.length||messageData.serverInfo.length;if(messageData.serverErrors.length||messageData.errors.length){collapse=
true;image=errorImage;linkType="uif-errorMessageItem";highlight="uif-errorHighlight"}if(messageData.errors.length){linkText=convertToHtml(messageData.errors[0],true);clientErrorStorage[fieldId]=linkText;if(messageData.errors.length>1){collapsedErrors.exist=true;collapsedErrors.errorIndex=1}}else{var previousError=clientErrorStorage[fieldId];if(previousError){linkText="\x3cspan class\x3d'uif-correctedError'\x3e"+previousError+"\x3c/span\x3e";isLink=false;if(messageData.warnings.length||messageData.info.length||
hasServerMessages)isLink=true}}if(messageData.serverErrors.length){if(linkText)separator=", ";linkText=linkText+separator+convertToHtml(messageData.serverErrors[0],true);if(messageData.serverErrors.length>1){collapsedErrors.exist=true;collapsedErrors.serverErrorIndex=1}}if(messageData.serverWarnings.length||messageData.warnings.length)if(collapse){if(messageData.warnings.length){collapsedWarnings.exist=true;collapsedWarnings.warningIndex=0}if(messageData.serverWarnings.length){collapsedWarnings.exist=
true;collapsedWarnings.serverWarningIndex=0}}else{collapse=true;image=warningImage;linkType="uif-warningMessageItem";highlight="uif-warningHighlight";if(messageData.warnings.length){linkText=convertToHtml(messageData.warnings[0],true);if(messageData.warnings.length>1){collapsedWarnings.exist=true;collapsedWarnings.warningIndex=1}}if(messageData.serverWarnings.length){if(linkText)separator=", ";linkText=linkText+separator+convertToHtml(messageData.serverWarnings[0],true);if(messageData.serverWarnings.length>
1){collapsedWarnings.exist=true;collapsedWarnings.serverWarningIndex=1}}}if(messageData.serverInfo.length||messageData.info.length)if(collapse){if(messageData.info.length){collapsedInfo.exist=true;collapsedInfo.infoIndex=0}if(messageData.serverInfo.length){collapsedInfo.exist=true;collapsedInfo.serverInfoIndex=0}}else{collapse=true;image=infoImage;linkType="uif-infoMessageItem";highlight="uif-infoHighlight";if(messageData.info.length){linkText=convertToHtml(messageData.info[0],true);if(messageData.info.length>
1){collapsedInfo.exist=true;collapsedInfo.infoIndex=1}}if(messageData.serverInfo.length){if(linkText)separator=", ";linkText=linkText+separator+convertToHtml(messageData.serverInfo[0],true);if(messageData.serverInfo.length>1){collapsedInfo.exist=true;collapsedInfo.serverInfoIndex=1}}}if(linkText!=""){summaryTextExistence[fieldId]=true;var collapsedElements=handleCollapsedElements(messageData,collapsedErrors,collapsedWarnings,collapsedInfo,collapseMessages);var name=jQuery("#"+fieldId).data("label");
if(name&&showLabel){name=jQuery.trim(name);if(name.indexOf(":")==name.length-1)name=name+" ";else name=name+": "}else name="";if(isLink)link=jQuery("\x3cli data-messageItemFor\x3d'"+fieldId+"'\x3e\x3ca class\x3d'alert-link' href\x3d'#'\x3e"+name+linkText+collapsedElements+"\x3c/a\x3e \x3c/li\x3e");else link=jQuery("\x3cli tabindex\x3d'0' data-messageItemFor\x3d'"+fieldId+"' class\x3d'alert-link uif-correctedError'\x3e"+name+linkText+collapsedElements+"\x3c/li\x3e");if(messageData.fieldModified&&hasServerMessages){jQuery(link).find("a").prepend("\x3cspan class\x3d'modified'\x3e(Modified) \x3c/span\x3e");
if(!messageData.errors.length)jQuery(link).addClass("uif-errorMessageItem-modified")}var linkObject=jQuery(link);var field=jQuery("#"+fieldId);linkObject.addClass(linkType);linkObject.find("a").click(function(event){event.preventDefault();var control=jQuery("#"+fieldId+"_control");var field=jQuery("#"+fieldId);if(field.is("[data-inline_edit]")&&field.find(".uif-inlineEdit-view:visible").length)field.find(".uif-inlineEdit-view").focus();else if(control.length)jQuery(control).focus();else jQuery("#"+
fieldId+"_control_0").focus()});linkObject.find("a").focus(function(){field.addClass(highlight)});linkObject.find("a").blur(function(){field.removeClass(highlight)});linkObject.find("a").hover(function(){field.addClass(highlight)},function(){field.removeClass(highlight)})}else summaryTextExistence[fieldId]=false}return link}
function handleCollapsedElements(messageData,collapsedErrors,collapsedWarnings,collapsedInfo,collapseMessages){var collapsedElements="";if(collapsedErrors.exist&&collapseMessages){var count=0;if(collapsedErrors.errorIndex!=undefined&&collapsedErrors.errorIndex>=0)count=count+messageData.errors.length-collapsedErrors.errorIndex;if(collapsedErrors.serverErrorIndex!=undefined&&collapsedErrors.serverErrorIndex>=0)count=count+messageData.serverErrors.length-collapsedErrors.serverErrorIndex;if(count>1)collapsedElements=
collapsedElements+"\x3cspan class\x3d'"+kradVariables.COLLAPSED_ERRORS_CLASS+"'\x3e [+"+getMessage(kradVariables.MESSAGE_TOTAL_ERRORS,null,null,count)+"]\x3c/span\x3e";else collapsedElements=collapsedElements+"\x3cspan class\x3d'"+kradVariables.COLLAPSED_ERRORS_CLASS+"'\x3e [+"+getMessage(kradVariables.MESSAGE_TOTAL_ERROR,null,null,count)+"]\x3c/span\x3e"}else if(collapsedErrors.exist&&!collapseMessages){if(collapsedErrors.errorIndex!=undefined)for(var i=collapsedErrors.errorIndex;i<messageData.errors.length;i++)collapsedElements=
collapsedElements+", "+messageData.errors[i];if(collapsedErrors.serverErrorIndex!=undefined)for(var i=collapsedErrors.serverErrorIndex;i<messageData.serverErrors.length;i++)collapsedElements=collapsedElements+", "+messageData.serverErrors[i]}if(collapsedWarnings.exist&&collapseMessages){var count=0;if(collapsedWarnings.warningIndex!=undefined&&collapsedWarnings.warningIndex>=0)count=count+messageData.warnings.length-collapsedWarnings.warningIndex;if(collapsedWarnings.serverWarningIndex!=undefined&&
collapsedWarnings.serverWarningIndex>=0)count=count+messageData.serverWarnings.length-collapsedWarnings.serverWarningIndex;if(count>1)collapsedElements=collapsedElements+"\x3cspan class\x3d'"+kradVariables.COLLAPSED_WARNINGS_CLASS+"'\x3e [+"+getMessage(kradVariables.MESSAGE_TOTAL_WARNINGS,null,null,count)+"]\x3c/span\x3e";else collapsedElements=collapsedElements+"\x3cspan class\x3d'"+kradVariables.COLLAPSED_WARNINGS_CLASS+"'\x3e [+"+getMessage(kradVariables.MESSAGE_TOTAL_WARNING,null,null,count)+
"]\x3c/span\x3e"}else if(collapsedWarnings.exist&&!collapseMessages){if(collapsedWarnings.warningIndex!=undefined)for(var i=collapsedWarnings.warningIndex;i<messageData.warnings.length;i++)collapsedElements=collapsedElements+", "+messageData.warnings[i];if(collapsedWarnings.serverWarningIndex!=undefined)for(var i=collapsedWarnings.serverWarningIndex;i<messageData.serverWarnings.length;i++)collapsedElements=collapsedElements+", "+messageData.serverWarnings[i]}if(collapsedInfo.exist&&collapseMessages){var count=
0;if(collapsedInfo.infoIndex!=undefined&&collapsedInfo.infoIndex>=0)count=count+messageData.info.length-collapsedInfo.infoIndex;if(collapsedInfo.serverInfoIndex!=undefined&&collapsedInfo.serverInfoIndex>=0)count=count+messageData.serverInfo.length-collapsedInfo.serverInfoIndex;if(count>1)collapsedElements=collapsedElements+"\x3cspan class\x3d'"+kradVariables.COLLAPSED_INFO_CLASS+"'\x3e [+"+getMessage(kradVariables.MESSAGE_TOTAL_MESSAGES,null,null,count)+"]\x3c/span\x3e";else collapsedElements=collapsedElements+
"\x3cspan class\x3d'"+kradVariables.COLLAPSED_INFO_CLASS+"'\x3e [+"+getMessage(kradVariables.MESSAGE_TOTAL_MESSAGE,null,null,count)+"]\x3c/span\x3e"}else if(collapsedInfo.exist&&!collapseMessages){if(collapsedInfo.infoIndex!=undefined)for(var i=collapsedInfo.infoIndex;i<messageData.info.length;i++)collapsedElements=collapsedElements+", "+messageData.info[i];if(collapsedInfo.serverInfoIndex!=undefined)for(var i=collapsedInfo.serverInfoIndex;i<messageData.serverInfo.length;i++)collapsedElements=collapsedElements+
", "+messageData.serverInfo[i]}return collapsedElements}
function generateFieldLinkSublist(parentSectionData,currentFields,messageMap,sectionId,before){var sectionTitle=getGroupHeaderElement(sectionId).find(".uif-headerText-span").text();if(sectionTitle==null||sectionTitle=="")sectionTitle=jQuery("#"+sectionId).data("label");if(sectionTitle==null||sectionTitle==undefined)sectionTitle="group";var disclosureText="";var links=[];var errorCount=0;var warningCount=0;var infoCount=0;var disclosureLink=null;var image="";var linkType="";for(var i in currentFields)if(currentFields[i]!=
null){var fieldId=currentFields[i];var messageData=messageMap[fieldId];if(messageData!=undefined&&messageData!=null){errorCount=errorCount+messageData.serverErrors.length+messageData.errors.length;warningCount=warningCount+messageData.serverWarnings.length+messageData.warnings.length;infoCount=infoCount+messageData.serverInfo.length+messageData.info.length;var link=generateFieldLink(messageData,fieldId,parentSectionData.collapseFieldMessages,parentSectionData.displayLabel);if(link!=null)links.push(link)}}if(errorCount||
warningCount||infoCount){var locationText=getMessage(kradVariables.MESSAGE_BEFORE);if(!before)locationText=getMessage(kradVariables.MESSAGE_AFTER);if(errorCount){image=errorImage;linkType="uif-errorMessageItem"}else if(warningCount){image=warningImage;linkType="uif-warningMessageItem"}else if(infoCount){image=infoImage;linkType="uif-infoMessageItem"}var countMessage=generateCountString(errorCount,warningCount,infoCount);sectionTitle=sectionTitle.replace(/\r?\n/g,"");disclosureText=countMessage+" "+
locationText+" "+sectionTitle;if(links.length){var subSummary=jQuery("\x3cul\x3e\x3c/ul\x3e");for(var j in links)jQuery(links[j]).appendTo(subSummary)}disclosureLink=jQuery("\x3cli tabindex\x3d'0' class\x3d'"+linkType+"'\x3e"+disclosureText+"\x3c/li\x3e");jQuery(subSummary).appendTo(disclosureLink)}return disclosureLink}
function generateSummaryLink(sectionId){var sectionTitle=getGroupHeaderElement(sectionId).find(".uif-headerText-span").text();if(sectionTitle==null||sectionTitle==""){sectionTitle=jQuery("#"+sectionId).data("label");sectionId=jQuery("#"+sectionId).data("group")}if(sectionTitle==null||sectionTitle==undefined)sectionTitle="";var sectionData=getValidationData(jQuery("#"+sectionId),true);var summaryLink=null;var summaryMessage="";var image="";var linkType="";var highlight="";var sectionHasCorrectedErrors=
jQuery("[data-messages_for\x3d'"+sectionId+"']").find("span.uif-correctedError").length;if(sectionData&&(sectionData.messageTotal||sectionHasCorrectedErrors)){var countMessage=generateCountString(sectionData.errorTotal,sectionData.warningTotal,sectionData.infoTotal);sectionTitle=sectionTitle.replace(/\r?\n/g,"");if(sectionTitle&&countMessage!="")summaryMessage=sectionTitle+": "+countMessage;else summaryMessage=countMessage}if(summaryMessage!=""){if(sectionData.errorTotal){image=errorImage;linkType=
"uif-errorMessageItem";highlight=kradVariables.ERROR_HIGHLIGHT_SECTION_CLASS}else if(sectionData.warningTotal){image=warningImage;linkType="uif-warningMessageItem";highlight=kradVariables.WARNING_HIGHLIGHT_SECTION_CLASS}else if(sectionData.infoTotal){image=infoImage;linkType="uif-infoMessageItem";highlight=kradVariables.INFO_HIGHLIGHT_SECTION_CLASS}summaryLink=jQuery("\x3cli data-messageItemFor\x3d'"+sectionId+"' class\x3d'"+linkType+"'\x3e\x3ca "+"class\x3d'alert-link' href\x3d'#'\x3e"+summaryMessage+
"\x3c/a\x3e\x3c/li\x3e");summaryLink.find("a").click(function(event){event.preventDefault();jumpToElementById(sectionId);var firstItem=jQuery("[data-messages_for\x3d'"+sectionId+"'] \x3e ul \x3e li:first");if(firstItem.length)if(jQuery(firstItem).find("\x3e a").length)jQuery(firstItem).find("\x3e a").focus();else jQuery(firstItem).focus()});summaryLink.find("a").focus(function(){jQuery("#"+sectionId).addClass(highlight)});summaryLink.find("a").blur(function(){jQuery("#"+sectionId).removeClass(highlight)});
summaryLink.find("a").hover(function(){jQuery("#"+sectionId).addClass(highlight)},function(){jQuery("#"+sectionId).removeClass(highlight)});if(!sectionData.displayMessages){var sectionLinks=jQuery("[data-messages_for\x3d'"+sectionId+"']");sectionLinks.removeAttr("class");sectionLinks.removeAttr("style");jQuery(sectionLinks).show();return sectionLinks}}return summaryLink}
function runValidationScript(scriptFunction){if(pageValidatorReady)scriptFunction();else jQuery(document).bind(kradVariables.VALIDATION_SETUP_EVENT,function(event){jQuery(this).unbind(event);scriptFunction()})}
function validateFieldValue(fieldControl){if(jQuery(fieldControl).attr("id").match(new RegExp(kradVariables.ID_SUFFIX.ADD_LINE_INPUT_FIELD))&&!jQuery(fieldControl).val())return true;if(jQuery(fieldControl).attr("id").match(/ID_SUFFIXADD_LINE_INPUT_FIELD/)){jQuery(fieldControl).removeClass("ignoreValid");return true}var hadIgnore=false;if(jQuery(fieldControl).hasClass("ignoreValid")){jQuery(fieldControl).removeClass("ignoreValid");hadIgnore=true}clientErrorExistsCheck=true;var valid=jQuery(fieldControl).valid();
dependsOnCheck(fieldControl,new Array);clientErrorExistsCheck=false;if(hadIgnore)jQuery(fieldControl).addClass("ignoreValid");return valid}function validateForm($action){jQuery("."+kradVariables.IGNORE_VALIDATION_TEMP_CLASS).removeClass(kradVariables.IGNORE_VALIDATION_TEMP_CLASS);return _validateFormOrDialog($action)}
function validatePartialForm($fieldsToSkip,skipConditionFunc,$action){if(skipConditionFunc()){$fieldsToSkip.addClass(kradVariables.IGNORE_VALIDATION_TEMP_CLASS);jQuery("."+kradVariables.IGNORE_VALIDATION_CLASS+", ."+kradVariables.IGNORE_VALIDATION_TEMP_CLASS).each(function(){removeClientValidationError(this)})}else jQuery("."+kradVariables.IGNORE_VALIDATION_TEMP_CLASS).removeClass(kradVariables.IGNORE_VALIDATION_TEMP_CLASS);return _validateFormOrDialog($action)}
function _validateFormOrDialog($action){var inDialog=false;if($action){var $dialogGroup=$action.closest(kradVariables.DIALOG_SELECTOR);inDialog=$dialogGroup.length}var valid=true;if(!inDialog)valid=validate();else if(inDialog)valid=validate($dialogGroup);return valid}
function dependsOnCheck(element,nameArray){if(nameArray==undefined)nameArray=new Array;var name;if(jQuery(element).is("option"))name=jQuery(element).parent().attr("name");else name=jQuery(element).attr("name");name=escapeName(name);jQuery("[name\x3d'"+name+"']").trigger("checkReq");nameArray.push(name);jQuery(".dependsOn-"+name).each(function(){var elementName;if(jQuery(this).is("option"))elementName=jQuery(this).parent().attr("name");else elementName=jQuery(this).attr("name");elementName=escapeName(elementName);
if(jQuery(this).hasClass("valid")||jQuery(this).hasClass("error")){jQuery.watermark.hide(this);var hadIgnore=false;if(jQuery(this).hasClass("ignoreValid")){jQuery(this).removeClass("ignoreValid");hadIgnore=true}var valid=jQuery(this).valid();if(hadIgnore)jQuery(this).addClass("ignoreValid");if(valid)jQuery(element).removeAttr("aria-invalid");else{jQuery(element).attr("aria-invalid","true");if(!jQuery(this).is(":focus")){var id=getAttributeId(jQuery(this).attr("id"));showMessageTooltip(id,true)}}jQuery.watermark.show(this);
var namePresent=jQuery.inArray(elementName,nameArray);if(namePresent==undefined||namePresent==-1)dependsOnCheck(this,nameArray)}})}
function setupShowReqIndicatorCheck(controlName,requiredName,booleanFunction){if(jQuery("[name\x3d'"+escapeName(controlName)+"']").length){var id=jQuery("[name\x3d'"+escapeName(requiredName)+"']").attr("id");id=getAttributeId(id);var label=jQuery("[data-label_for\x3d'"+id+"']");var indicator;if(id){indicator=label.data("req_indicator");if(indicator===undefined)indicator=jQuery("[data-role\x3d'View']").data("req_indicator")}if(label.find("uif-requiredMessage").length==0)checkForRequiredness(requiredName,
booleanFunction,indicator);jQuery("[name\x3d'"+escapeName(controlName)+"']").change(function(){checkForRequiredness(requiredName,booleanFunction,indicator)});jQuery("[name\x3d'"+escapeName(controlName)+"']").bind("checkReq",function(){checkForRequiredness(requiredName,booleanFunction,indicator)})}}
function checkForRequiredness(requiredName,booleanFunction,indicator){var requiredControl=jQuery("[name\x3d'"+escapeName(requiredName)+"']");var label=jQuery("label[for\x3d'"+requiredControl.attr("id")+"']");if(indicator!=null&&indicator.length)if(booleanFunction()){if(label.find(".uif-requiredMessage").length==0)label.append("\x3cspan class\x3d'uif-requiredMessage'\x3e"+indicator+"\x3c/span\x3e");requiredControl.attr("aria-required","true");requiredControl.addClass("required")}else{label.find(".uif-requiredMessage").remove();
requiredControl.attr("aria-required","false");requiredControl.removeClass("required")}}function mustOccurTotal(nameArray,min,max){var total=0;for(i=0;i<nameArray.length;i++)if(coerceValue(nameArray[i]))total++;return total}function mustOccurCheck(total,min,max){if(total>=min&&total<=max)return 1;else return 0}
function removeClientValidationError(control){var errorClass=kradVariables.ERROR_CLASS;var validClass=kradVariables.VALID_CLASS;jQuery(control).removeClass(errorClass).addClass(validClass);jQuery(control).removeAttr("aria-invalid");var id=getAttributeId(jQuery(control).attr("id"));if(!id)return;var field=jQuery("#"+id);var data=getValidationData(field);if(data){data.errors=[];field.data(kradVariables.VALIDATION_MESSAGES,data);if(messageSummariesShown)handleMessagesAtField(id);else writeMessagesAtField(id);
if(!(data.warnings.length||data.info.length||data.serverErrors.length||data.serverWarnings.length||data.serverInfo.length))hideMessageTooltip(id)}}
function setupBreadcrumbs(displayBreadcrumbsWhenOne){var breadcrumbsWrapper=jQuery("#Uif-BreadcrumbWrapper");if(!breadcrumbsWrapper.length)return;breadcrumbsWrapper.empty();breadcrumbsWrapper.show();var breadcrumbUpdate=jQuery("#Uif-BreadcrumbUpdate");var breadcrumbList=breadcrumbUpdate.find("\x3e ol").detach();var items=breadcrumbList.find("\x3e li");if(!displayBreadcrumbsWhenOne&&items.length==1||items.length==0){breadcrumbsWrapper.hide();breadcrumbUpdate.remove();return}jQuery(breadcrumbList).on("click",
".uif-breadcrumbSiblingLink",function(){var content=jQuery(this).parent().find(".uif-breadcrumbSiblingContent");var breadcrumb=jQuery(this).parent().find("[data-role\x3d'breadcrumb']");var siblingLink=this;if(content.length&&!content.is(":visible")&&breadcrumb.length&&!jQuery(siblingLink).data("close")){content.attr("style","");content.position({my:"left top",at:"left bottom+5",of:breadcrumb});content.show();jQuery(document).on("mouseup.bc-sibling",function(e){var container=jQuery(".uif-breadcrumbSiblingContent:visible");
if(container.has(e.target).length===0){container.hide();jQuery(document).off("mouseup.bc-sibling")}if(e.target==siblingLink)jQuery(siblingLink).data("close",true)})}if(jQuery(siblingLink).data("close"))jQuery(siblingLink).data("close",false)});var lastLink=items.last().find("\x3e a[data-role\x3d'breadcrumb']");if(lastLink.length)lastLink.replaceWith(function(){return jQuery("\x3cspan data-role\x3d'breadcrumb'\x3e"+jQuery(this).html()+"\x3c/span\x3e")});jQuery("#Uif-BreadcrumbWrapper").append(breadcrumbList);
breadcrumbUpdate.remove()}
function setupLocationSelect(controlId){var control=jQuery("select#"+controlId);if(control.length){control.on("change",function(){var selectedOption=jQuery(this).find("option:selected");if(!selectedOption.length)return;var location=selectedOption.data("location");if(!location)return;window.location.href=location});control.find("option").on("mouseup",function(){var selectedOption=jQuery(this);if(!selectedOption&&selectedOption.is("selected"))return;var location=selectedOption.data("location");if(!location)return;
window.location.href=location});control.on("keyup",function(e){if(e.keyCode==13){var selectedOption=jQuery(this).find("option:selected");if(!selectedOption.length)return;var location=selectedOption.data("location");if(!location)return;window.location.href=location}})}}
function initTabMenu(listId,currentPage){jQuery(document).ready(function(){var $nav=jQuery("#"+listId);$nav.find("li").removeClass("active");var firstItem=$nav.find("li:first");var currentTab=firstItem.find("a");if(currentPage)currentTab=$nav.find("a[name\x3d'"+currentPage+"']");if(currentTab)currentTab.closest("li").addClass("active")})}
function setupSidebarNavMenu(id,openedToggleIconClass,closedToggleIconClass){var navMenu=jQuery("#"+id);var viewContent=jQuery("#"+kradVariables.VIEW_CONTENT_WRAPPER);adjustPageLeftMargin();viewContent.on(kradVariables.EVENTS.ADJUST_PAGE_MARGIN,function(){adjustPageLeftMargin()});jQuery(".show-popover").popover();jQuery("a.dropdown-toggle",navMenu).click(function(){var subMenu=jQuery(this).next(".submenu");var icon=jQuery(this).children("."+kradVariables.TOGGLE_ARROW_CLASS);if(icon.hasClass(closedToggleIconClass))icon.addClass("anim-turn90");
else icon.addClass("anim-turn-90");subMenu.slideToggle(400,function(){if(jQuery(this).is(":hidden"))icon.attr("class",kradVariables.TOGGLE_ARROW_CLASS+" "+closedToggleIconClass);else icon.attr("class",kradVariables.TOGGLE_ARROW_CLASS+" "+openedToggleIconClass);icon.removeClass("anim-turn90").removeClass("anim-turn-90")})});jQuery("#"+id+"."+kradVariables.MENU_COLLAPSED+"."+kradVariables.MENU_COLLAPSE_ACTION+" \x3e span").attr("class",kradVariables.MENU_COLLAPSE_ICON_RIGHT);jQuery("."+kradVariables.MENU_COLLAPSE_ACTION).click(function(){jQuery("#"+
id).toggleClass(kradVariables.MENU_COLLAPSED);var menuWidth=jQuery("#"+id).outerWidth(true);jQuery("[data-role\x3d'Page']").css("margin-left",menuWidth);if(jQuery("#"+id).hasClass(kradVariables.MENU_COLLAPSED)){jQuery("."+kradVariables.MENU_COLLAPSE_ACTION+" \x3e span").attr("class",kradVariables.MENU_COLLAPSE_ICON_RIGHT);jQuery.cookie(kradVariables.MENU_COLLAPSED,"true")}else{jQuery("."+kradVariables.MENU_COLLAPSE_ACTION+" \x3e span").attr("class",kradVariables.MENU_COLLAPSE_ICON_LEFT);jQuery.cookie(kradVariables.MENU_COLLAPSED,
"false")}});jQuery("#"+id).on("show.bs.collapse",function(){if(jQuery(this).hasClass(kradVariables.MENU_COLLAPSED))jQuery(this).removeClass(kradVariables.MENU_COLLAPSED)});markActiveMenuLink();jQuery(".nav \x3e li."+kradVariables.ACTIVE_CLASS+" \x3e a \x3e ."+kradVariables.TOGGLE_ARROW_CLASS,navMenu).removeClass(closedToggleIconClass).addClass(openedToggleIconClass)}
function adjustPageLeftMargin(){var page=jQuery("[data-role\x3d'Page']");var menuWidth=jQuery("#Uif-Navigation \x3e").outerWidth(true);page.css("margin-left",menuWidth);page.addClass("uif-hasLeftNav")}function markActiveMenuLink(){jQuery("#"+kradVariables.NAVIGATION_ID+" li."+kradVariables.ACTIVE_CLASS).removeClass(kradVariables.ACTIVE_CLASS);var pageId=getCurrentPageId();var liParents=jQuery("a[name\x3d'"+pageId+"']").parents("li");liParents.addClass(kradVariables.ACTIVE_CLASS)}
function setupTextPopout(id,label,summary,constraint,readOnly){var options={label:label,summary:summary,constraint:constraint,readOnly:readOnly};jQuery("#"+id).initPopoutText(options)}function isCalledWithinDialog(){var isRenderedInDialog=jQuery("input[name\x3d'"+kradVariables.RENDERED_IN_DIALOG+"']").val();if(isRenderedInDialog==undefined)return false;return isRenderedInDialog.toUpperCase()=="TRUE"||isRenderedInDialog.toUpperCase()=="YES"}
function showDirectInquiry(url,paramMap,showInDialog,dialogId){var parameterPairs=paramMap.split(",");var queryString="";var renderedInDialog=isCalledWithinDialog();var flow="start";if(renderedInDialog){flow=jQuery("input[name\x3d'"+kradVariables.FLOW_KEY+"']").val();dirtyFormState.skipDirtyChecks=true}for(i in parameterPairs){var parameters=parameterPairs[i].split(":");var value=checkDirectInquiryValueValid(jQuery('[name\x3d"'+escapeName(parameters[0])+'"]').val());if(!value){alert(getMessage(kradVariables.MESSAGE_PLEASE_ENTER_VALUE));
return false}else queryString=queryString+"\x26"+parameters[1]+"\x3d"+value}if(showInDialog)if(!getContext().find(".fancybox-inner",parent.document).length&&!renderedInDialog){queryString=queryString+"\x26flow\x3dstart\x26renderedInDialog\x3dtrue";url=url+queryString;openIframeDialog(url,dialogId)}else{queryString=queryString+"\x26flow\x3d"+jQuery("input[name\x3d'"+kradVariables.FLOW_KEY+"']").val()+"\x26renderedInDialog\x3dtrue";window.open(url+queryString,"_self")}else window.open(url+queryString,
"_blank","width\x3d640, height\x3d600, scrollbars\x3dyes")}function checkDirectInquiryValueValid(value){value=value.replace(/\*/g,"");if(value=="")return false;return value}function cleanupClosedLightboxForms(){if(jQuery("input[name\x3d'"+kradVariables.FORM_KEY+"']").length){var context=getContext();var formKey=context("iframe.fancybox-iframe").contents().find("input[name\x3d'"+kradVariables.FORM_KEY+"']").val();clearServerSideForm(formKey)}}
function createDatePicker(controlId,options,disabled){var fieldId=jQuery("#"+controlId).closest("div[data-role\x3d'InputField']").attr("id");jQuery(function(){var datePickerControl=jQuery("#"+controlId);datePickerControl.datepicker(options);datePickerControl.datepicker("option","onClose",function(){getValidationData(jQuery("#"+fieldId)).messagingEnabled=true;jQuery(this).trigger("focusout");jQuery(this).trigger("focus")});datePickerControl.datepicker("option","beforeShow",function(){getValidationData(jQuery("#"+
fieldId)).messagingEnabled=false});datePickerControl.datepicker("option","onChangeMonthYear",function(y,m,i){var d=i.selectedDay;jQuery(this).datepicker("setDate",new Date(y,m-1,d))});if(options.dateFormat=="mm-dd-yy"&&datePickerControl[0].getAttribute("value").indexOf("/")!=-1)datePickerControl.datepicker("setDate",new Date(datePickerControl[0].getAttribute("value")));if(disabled===true){datePickerControl.datepicker("disable");datePickerControl.next(".ui-datepicker-trigger").css("cursor","not-allowed")}});
jQuery.datepicker._gotoToday=function(id){var target=jQuery(id);var inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear}else{var date=new Date;inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear()}this._notifyChange(inst);this._adjustDate(target);this._setDateDatepicker(target,
new Date);this._selectDate(id,this._getDateDatepicker(target))}}
function createDisclosure(groupId,headerId,widgetId,defaultOpen,collapsedIconClass,expandedIconClass,animationSpeed,renderIcon,ajaxRetrieval){jQuery(document).ready(function(){var groupToggleLinkId=groupId+kradVariables.ID_SUFFIX.DISCLOSURE_TOGGLE;var expandedIcon="";var collapsedIcon="";if(renderIcon&&defaultOpen){expandedIcon="\x3cspan id\x3d'"+groupToggleLinkId+"_exp"+"' class\x3d'"+expandedIconClass+"'\x3e\x3c/span\x3e";collapsedIcon="\x3cspan style\x3d'display:none;' id\x3d'"+groupToggleLinkId+
"_col"+"' class\x3d'"+collapsedIconClass+"'\x3e\x3c/span\x3e"}else if(renderIcon&&!defaultOpen){collapsedIcon="\x3cspan id\x3d'"+groupToggleLinkId+"_col"+"' class\x3d'"+collapsedIconClass+"'\x3e\x3c/span\x3e";expandedIcon="\x3cspan style\x3d'display:none;' id\x3d'"+groupToggleLinkId+"_exp"+"' class\x3d'"+expandedIconClass+"'\x3e\x3c/span\x3e"}var content=jQuery("#"+groupId+kradVariables.ID_SUFFIX.DISCLOSURE_CONTENT);var headerText=jQuery("#"+headerId).find(".uif-headerText-span:first");if(defaultOpen){content.show();
content.attr(kradVariables.ATTRIBUTES.DATA_OPEN,true);headerText.prepend(collapsedIcon);headerText.prepend(expandedIcon)}else{content.hide();content.attr(kradVariables.ATTRIBUTES.DATA_OPEN,false);headerText.prepend(expandedIcon);headerText.prepend(collapsedIcon)}headerText.wrap("\x3ca data-role\x3d"+kradVariables.DATA_ROLES.DISCLOSURE_LINK+" data-linkfor\x3d'"+content.attr("id")+"' href\x3d'#' "+"id\x3d'"+groupToggleLinkId+"' "+"data-open\x3d'"+defaultOpen+"' "+"data-widgetid\x3d'"+widgetId+"' "+
"data-speed\x3d'"+animationSpeed+"' "+"data-ajax\x3d'"+ajaxRetrieval+"'"+"\x3e\x3c/a\x3e")})}function expandDisclosures(){jQuery("a[data-role\x3d'"+kradVariables.DATA_ROLES.DISCLOSURE_LINK+"']").each(function(){var contentId=jQuery(this).attr("data-linkfor");if(jQuery("#"+contentId).attr(kradVariables.ATTRIBUTES.DATA_OPEN)=="false")jQuery(this).click()})}
function collapseDisclosures(){jQuery("a[data-role\x3d'"+kradVariables.DATA_ROLES.DISCLOSURE_LINK+"']").each(function(){var contentId=jQuery(this).attr("data-linkfor");if(jQuery("#"+contentId).attr(kradVariables.ATTRIBUTES.DATA_OPEN)=="true")jQuery(this).click()})}
function createMultiFileUploadForCollection(id,collectionId,additionalOptions){var options={dropZone:jQuery("#"+id)};options=jQuery.extend(options,additionalOptions);if(!options.url)options.url="?"+getUrlQueryString("methodToCall","fileUpload");if(options.acceptFileTypes)options.acceptFileTypes=new RegExp(options.acceptFileTypes);var $fileInput=jQuery("#"+id);if($fileInput.length){$fileInput.fileupload(options);$fileInput.bind("fileuploadsend",function(e,data){if(!jQuery("#"+id+"_upload").length){var $buttons=
jQuery("#"+id+" \x3e .fileupload-buttonbar \x3e div");jQuery("\x3cspan id\x3d'"+id+"_upload' style\x3d'display:inline;'/\x3e").text(" Uploading...").appendTo($buttons)}data.collectionId=collectionId});$fileInput.bind("fileuploaddone",function(e,data){var responseContents=document.createElement("div");responseContents.innerHTML=data.result;var kradResponse=new KradResponse(responseContents);kradResponse.processResponse();jQuery("#"+id+"_upload").remove()});$fileInput.bind("fileuploadprocessfail",function(e,
data){alert("Processing "+data.files[data.index].name+" of type "+data.files[data.index].type+" failed.\nError: "+data.files[data.index].error)})}}
function createTable(tableId,additionalOptions,groupingOptions){jQuery(document).ready(function(){var table=jQuery("#"+tableId);var detailsOpen=table.parent().data("details_default_open");table.data("open",detailsOpen);if(groupingOptions)table.attr("data-groups","true");var options={"bDestory":true,"bStateSave":true,"fnStateSave":function(oSettings,oData){setComponentState(tableId,"richTableState",oData)},"fnStateLoad":function(oSettings){var oData=getComponentState(tableId,"richTableState");return oData}};
options=jQuery.extend(options,additionalOptions);var hideActionColumnOption={"fnDrawCallback":function(oSettings){hideEmptyActionColumn(tableId,".uif-collection-column-action")}};options=jQuery.extend(options,hideActionColumnOption);var exportOptions={"sDownloadSource":additionalOptions.sDownloadSource,"oTableTools":{"aButtons":[{"sExtends":"text","sButtonText":"csv","fnClick":function(nButton,oConfig){window.location.href=additionalOptions.sDownloadSource+"\x26methodToCall\x3dtableCsvRetrieval\x26formatType\x3dcsv"}},
{"sExtends":"text","sButtonText":"xml","fnClick":function(nButton,oConfig){window.location.href=additionalOptions.sDownloadSource+"\x26methodToCall\x3dtableXmlRetrieval\x26formatType\x3dxml"}},{"sExtends":"text","sButtonText":"xls","fnClick":function(nButton,oConfig){window.location.href=additionalOptions.sDownloadSource+"\x26methodToCall\x3dtableXlsRetrieval\x26formatType\x3dxls"}}]}};if(options.sDom&&options.sDom.search("T")>=0)options=jQuery.extend(options,exportOptions);var oTable=table.dataTable(options);
runHiddenScripts(tableId,false,true);jQuery(oTable).on("dataTables.tableDraw",function(event,tableData){if(event.currentTarget!=event.target)return;runHiddenScripts(tableId,false,true);jQuery("div[data-role\x3d'InputField'][data-has_messages\x3d'true']","#"+tableId).each(function(){var id=jQuery(this).attr("id");var validationData=getValidationData(jQuery("#"+id));if(validationData&&validationData.hasOwnMessages)handleMessagesAtField(id)})});if(detailsOpen!=undefined){jQuery(oTable).on("dataTables.tableDraw",
function(event,tableData){if(event.currentTarget!=event.target)return;if(table.data("open"))openAllDetails(tableId)});if(detailsOpen)openAllDetails(tableId,false)}jQuery(window).bind("resize",function(){oTable.fnAdjustColumnSizing(false)});if(groupingOptions)oTable.rowGrouping(groupingOptions);restoreDetailState(tableId)})}
function restoreDetailState(tableId){var oTable=getDataTableHandle(tableId);if(oTable!=null){var rows=jQuery(oTable).find("tr").not(".detailsRow");rows.each(function(){var row=jQuery(this);var detailsElement=jQuery(row.find("[data-open]"));if(detailsElement.length===0)return true;var detailsId=jQuery(detailsElement[0]).attr("id");var detailState=getComponentState(detailsId,"open");if(detailState!=""&&detailState===true){var actionComponent=row.find("a[data-role\x3d'detailsLink']");openDetails(oTable,
row,actionComponent,false)}})}}function rowDetailsActionHandler(actionComponent,tableId){var oTable=getDataTableHandle(tableId);if(oTable!=null){var row=jQuery(actionComponent).parents("tr")[0];if(oTable.fnIsOpen(row))closeDetails(oTable,jQuery(row),actionComponent,true);else openDetails(oTable,jQuery(row),actionComponent,true);jQuery(row).data("det-interact",true)}}
function openAllDetails(tableId,animate,forceOpen){var oTable=getDataTableHandle(tableId);if(oTable!=null){var rows=jQuery(oTable).find("tr").not(".detailsRow");rows.each(function(){var row=jQuery(this);if(!oTable.fnIsOpen(this)&&(!row.data("det-interact")||forceOpen)){var actionComponent=row.find("a[data-role\x3d'detailsLink']");openDetails(oTable,row,actionComponent,animate);row.data("det-interact",false)}})}}
function openDetails(oTable,row,actionComponent,animate){var detailsGroup=row.find("[data-role\x3d'details'], span[data-role\x3d'placeholder']").filter(":first");var ajaxRetrieval=jQuery(detailsGroup).is("span[data-role\x3d'placeholder']");var detailsId=jQuery(detailsGroup).attr("id");if(actionComponent&&jQuery(actionComponent).data("swap")&&jQuery(actionComponent).find("img").length)jQuery(actionComponent).find("img").replaceWith(detailsCloseImage.clone());var newRow=oTable.fnOpenCustom(row[0],detailsGroup,
"uif-rowDetails");detailsGroup=jQuery(newRow).find("[data-role\x3d'details'], span[data-role\x3d'placeholder']").filter(":first");detailsGroup.attr("data-open","true");setComponentState(detailsId,"open",true);runHiddenScripts(detailsGroup,true,true);detailsGroup.show();if(ajaxRetrieval){var kradRequest=new KradRequest(jQuery(actionComponent));if(!kradRequest.methodToCall)kradRequest.methodToCall=kradVariables.REFRESH_METHOD_TO_CALL;kradRequest.successCallback=function(){jQuery("#"+detailsId).show()};
kradRequest.ajaxReturnType=kradVariables.RETURN_TYPE_UPDATE_COMPONENT;kradRequest.refreshId=detailsId;kradRequest.send()}}
function toggleColumnVisibility(tableId,columnId,bVisibility){var oTable=getDataTableHandle(tableId);var columnIndex=jQuery(oTable).find("thead th"+columnId).index();var header=jQuery(oTable).find("thead th"+columnId);var columns=jQuery(oTable).find("tr td:nth-child("+(columnIndex+1)+")");var footer=jQuery(oTable).find("tfoot th").eq(columnIndex);if(bVisibility){header.show();columns.show();footer.show()}else{header.hide();columns.hide();footer.hide()}}
function hasVisibleElementsInColumn(tableId,columnId){var oTable=getDataTableHandle(tableId);var columnIndex=jQuery(oTable).find("thead th"+columnId).index();var columns=jQuery(oTable).find("tr td:nth-child("+(columnIndex+1)+")");var isColumnsEmpty=true;jQuery.each(columns,function(index,td){var column=jQuery(td);var columnContent=column.find("a, img, input[type!\x3d'hidden'], button");var columnGroup=column.find("\x3e div");var columnGroupVisible=true;if(columnGroup.css("display")=="none")columnGroupVisible=
false;columnContent.filter(function(){return jQuery(this).css("display")!="none"});if(columnContent.size()>0&&columnGroupVisible){isColumnsEmpty=false;return false}});return!isColumnsEmpty}function hideEmptyActionColumn(tableId,columnId){var bVisibility=hasVisibleElementsInColumn(tableId,columnId);toggleColumnVisibility(tableId,columnId,bVisibility)}
function closeAllDetails(tableId,animate,forceClose){var oTable=getDataTableHandle(tableId);if(oTable!=null){var rows=jQuery(oTable).find("tr").not(".detailsRow");rows.each(function(){var row=jQuery(this);if(oTable.fnIsOpen(this)&&(!row.data("det-interact")||forceClose)){var actionComponent=row.find("a[data-role\x3d'detailsLink']");closeDetails(oTable,row,actionComponent,animate);row.data("det-interact",false)}})}}
function closeDetails(oTable,row,actionComponent,animate){var fieldGroupWrapper=row.find("\x3e td \x3e [data-role\x3d'detailsFieldGroup']");var detailsContent=row.next().first().find("\x3e td \x3e [data-role\x3d'details'], "+"\x3e td \x3e span[data-role\x3d'placeholder']").filter(":first");if(actionComponent&&jQuery(actionComponent).data("swap")&&jQuery(actionComponent).find("img").length)jQuery(actionComponent).find("img").replaceWith(detailsOpenImage.clone());detailsContent.attr("data-open","false");
setComponentState(jQuery(detailsContent).attr("id"),"open",false);detailsContent.hide();fieldGroupWrapper.append(detailsContent.detach());oTable.fnClose(row[0])}
function toggleRowDetails(actionComponent){var action=jQuery(actionComponent);var tableId=action.data("tableid");var open=action.data("open");if(open){closeAllDetails(tableId,true,true);action.data("open",false);jQuery("#"+tableId).data("open",false)}else{openAllDetails(tableId,true,true);action.data("open",true);jQuery("#"+tableId).data("open",true)}}function createTree(divId,options){jQuery(document).ready(function(){jQuery("#"+divId).jstree(options)})}
function createCopyToClipboard(componentId,copyTriggerId,contentElementId,showCopyConfirmation){jQuery(document).ready(function(){if(jQuery("#"+componentId).is(":visible")){var d=new Date;ZeroClipboard.setMoviePath(getConfigParam(kradVariables.APPLICATION_URL)+"/plugins/datatables/copy_cvs_xls_pdf.swf?bogus\x3d"+d.getTime());var clip=new ZeroClipboard.Client;clip.addEventListener("mousedown",function(client){clip.setText(jQuery("#"+contentElementId).text())});if(showCopyConfirmation)clip.addEventListener("complete",
function(client,text){alert("Copied to Clipboard :\n\n"+text)});jQuery("#"+copyTriggerId).show();clip.glue(jQuery("#"+copyTriggerId).get(0));jQuery("#"+copyTriggerId).css("display","")}})}function createAccordion(id,options,active){if(active==false)active="false";options=options||{};options=jQuery.extend({active:active,heightStyle:"content",collapsible:true},options);jQuery("#"+id+" \x3e ul").accordion(options)}
function createSuggest(controlId,options,queryFieldId,queryParameters,localSource,suggestOptions,labelProp,valueProp,returnCustomObj){if(localSource)options.source=suggestOptions;else options.source=function(request,response){var successFunction=function(data){response(data.resultData)};if(returnCustomObj&&(labelProp||valueProp))successFunction=function(data){var isObject=false;if(data.resultData&&data.resultData.length&&data.resultData[0])isObject=data.resultData[0].constructor===Object;if(data.resultData&&
data.resultData.length&&isObject){jQuery.each(data.resultData,function(index,object){if(labelProp&&object[labelProp])object.label=object[labelProp];if(valueProp&&object[valueProp])object.value=object[valueProp]});response(data.resultData)}else response(data.resultData)};var queryData={};queryData.methodToCall="performFieldSuggest";queryData.ajaxRequest=true;queryData.ajaxReturnType="update-none";queryData.formKey=jQuery("input[name\x3d'"+kradVariables.FORM_KEY+"']").val();queryData.queryTerm=request.term;
queryData.queryFieldId=queryFieldId;if(queryData.queryTerm==="")return;for(var parameter in queryParameters)queryData["queryParameters."+parameter]=coerceValue(queryParameters[parameter]);jQuery.ajax({url:jQuery("form#kualiForm").attr("action"),dataType:"json",beforeSend:null,complete:null,error:null,data:queryData,success:successFunction})};jQuery(document).ready(function(){jQuery("#"+controlId).autocomplete(options)})}
function createLocationSuggest(baseUrl,hrefProperty,addUrlProperty,requestParamNamesObj,requestParameterString,controlId,options,queryFieldId,queryParameters,localSource,suggestOptions,labelProp,valueProp,returnCustomObj){var originalFunction=undefined;if(options.select!=undefined)originalFunction=options.select;options.select=function(event,object){var originalFunctionResult=true;if(originalFunction)originalFunctionResult=originalFunction();if(object&&object.item&&hrefProperty&&object.item[hrefProperty])window.location.href=
object.item[hrefProperty];else if(object&&object.item&&baseUrl){var builtUrl=baseUrl;if(addUrlProperty&&object.item[addUrlProperty])builtUrl=builtUrl+object.item[addUrlProperty];var addParams="";if(requestParamNamesObj)jQuery.each(requestParamNamesObj,function(key,propName){if(object.item[propName])addParams=addParams+"\x26"+key+"\x3d"+object.item[propName]});if(requestParameterString)builtUrl=builtUrl+requestParameterString+addParams;else if(addParams)builtUrl=builtUrl+"?"+addParams.substr(1,addParams.length);
window.location.href=builtUrl}return originalFunctionResult};createSuggest(controlId,options,queryFieldId,queryParameters,localSource,suggestOptions,labelProp,valueProp,returnCustomObj)}function createSpinner(id,options){jQuery("#"+id).spinner(options)}
function createTooltip(id,text,options,onMouseHoverFlag,onFocusFlag){var tooltipElement=jQuery("#"+id);if(tooltipElement.is("header")){var innerHeaderSpan=tooltipElement.find("#"+id+"_header \x3e .uif-headerText-span");if(innerHeaderSpan.length==1){tooltipElement=innerHeaderSpan;options.container=jQuery("#"+id)}}options.content=text;if(onFocusFlag){tooltipElement.focus(function(){if(!isControlWithMessages(id)){var tooltipElement=jQuery(this);var popoverData=tooltipElement.data(kradVariables.POPOVER_DATA);
if(!popoverData)popoverData=initializeTooltip(tooltipElement,options);if(!popoverData.shown){popoverData.options.content=text;tooltipElement.popover("show");popoverData.shown=true}}});tooltipElement.blur(function(){if(!isControlWithMessages(id)){var tooltipElement=jQuery(this);var popoverData=tooltipElement.data(kradVariables.POPOVER_DATA);if(popoverData&&popoverData.shown){tooltipElement.popover("hide");popoverData.shown=false}}})}if(onMouseHoverFlag){tooltipElement.on("mouseover",function(){if(!isControlWithMessages(id)){var tooltipElement=
jQuery(this);var popoverData=tooltipElement.data(kradVariables.POPOVER_DATA);if(!popoverData)popoverData=initializeTooltip(tooltipElement,options);if(!popoverData.shown){popoverData.options.content=text;tooltipElement.popover("show");popoverData.shown=true}}});tooltipElement.on("mouseout",function(){if(!isControlWithMessages(id)&&!(onFocusFlag&&jQuery("#"+id).is(":focus"))){var tooltipElement=jQuery(this);var popoverData=tooltipElement.data(kradVariables.POPOVER_DATA);if(popoverData&&popoverData.shown){tooltipElement.popover("hide");
popoverData.shown=false}}})}}
function initializeTooltip(tooltipElement,extendedOptions,additionalClasses){var classAttr="popover";if(additionalClasses)classAttr=classAttr+" "+additionalClasses;var options={trigger:"manual",placement:"auto top",html:true,animation:false,template:'\x3cdiv class\x3d"'+classAttr+'"\x3e\x3cdiv class\x3d"arrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"popover-content"\x3e\x3c/div\x3e\x3c/div\x3e'};if(extendedOptions)jQuery.extend(options,extendedOptions);tooltipElement.popover(options);tooltipElement.attr("data-hasTooltip",
"true");return tooltipElement.data(kradVariables.POPOVER_DATA)}function isControlWithMessages(id){if(jQuery("#"+id).is("[data-role\x3d'Control']")||jQuery("#"+id).is("[data-role\x3d'InputField']")&&jQuery("#"+id+"_control").is("[data-role\x3d'Control']"))return hasMessage(id);return false}
function hasMessage(id){var fieldId=getAttributeId(id);var messageData=getValidationData(jQuery("#"+fieldId));if(messageData&&(messageData.serverErrors.length||messageData.errors&&messageData.errors.length||messageData.serverWarnings.length||messageData.warnings&&messageData.warnings.length||messageData.serverInfo.length||messageData.info&&messageData.info.length))return true;return false}
function hideTooltip(fieldId){var elementInfo=getTooltipElement(fieldId);var element=elementInfo.element;if(elementInfo.type=="fieldset")element=jQuery(element).filter("label:first");var data=getValidationData(jQuery("#"+fieldId));if(data&&data.showTimer)clearTimeout(data.showTimer);var tooltipId=jQuery(element).GetBubblePopupID();if(tooltipId){jQuery("#"+tooltipId).css("opacity",0);jQuery("#"+tooltipId).hide()}jQuery(element).HideBubblePopup()}
function getTooltipElement(fieldId){var hasFieldset=jQuery("#"+fieldId).find("fieldset").length;var elementInfo={};if(!hasFieldset){elementInfo.element=jQuery("#"+fieldId);elementInfo.type="";if(elementInfo.element.is("input:checkbox"))elementInfo.themeMargins={total:"13px",difference:"0px"}}else if(hasFieldset&&jQuery("#"+fieldId).find("fieldset \x3e span \x3e input").length){elementInfo.element=jQuery("#"+fieldId).find("fieldset, fieldset input, fieldset label");elementInfo.type="fieldset";elementInfo.themeMargins=
{total:"13px",difference:"2px"}}else{elementInfo.element=[];elementInfo.type=""}return elementInfo}
function executeFieldQuery(controlId,queryFieldId,queryParameters,queryMethodArgs,returnFieldMapping){var queryData={};queryData.methodToCall="performFieldQuery";queryData.ajaxRequest=true;queryData.ajaxReturnType="update-none";queryData.formKey=jQuery("input[name\x3d'"+kradVariables.FORM_KEY+"']").val();queryData.queryFieldId=queryFieldId;var queryParamLength=0;for(var parameter in queryParameters){queryData["queryParameters."+queryParameters[parameter]]=coerceValue(parameter);queryParamLength++}if(queryParamLength===
0)for(var parameter in queryMethodArgs)queryData["queryParameters."+queryMethodArgs[parameter]]=coerceValue(parameter);var submitOptions={url:jQuery("form#kualiForm").attr("action"),dataType:"json",data:queryData,beforeSend:null,complete:null,error:null,success:function(data){var returnMessageSpan=jQuery("#"+queryFieldId+"_info_message");if(returnMessageSpan.length>0){returnMessageSpan.html(data.resultMessage);if(data.resultMessageStyleClasses)returnMessageSpan.addClass(data.resultMessageStyleClasses)}for(var returnField in returnFieldMapping){var fieldValue=
data.resultFieldData[returnField];if(!fieldValue)fieldValue="";var control=jQuery("[name\x3d'"+escapeName(returnField)+"']");if(control.length>0){setValue(returnField,fieldValue);control.change()}var returnFieldId=returnField.replace(/\./g,"_").replace(/\[/g,"-lbrak-").replace(/\]/g,"-rbrak-").replace(/\'/g,"-quot-");var infoFieldSpan=jQuery("#"+queryFieldId+"_info_"+returnFieldId);if(infoFieldSpan.length>0)infoFieldSpan.html(fieldValue)}}};jQuery.ajax(submitOptions)}
if(typeof jQuery==="undefined")throw new Error("Bootstrap's JavaScript requires jQuery");
+function($){function transitionEnd(){var el=document.createElement("bootstrap");var transEndEventNames={"WebkitTransition":"webkitTransitionEnd","MozTransition":"transitionend","OTransition":"oTransitionEnd otransitionend","transition":"transitionend"};for(var name in transEndEventNames)if(el.style[name]!==undefined)return{end:transEndEventNames[name]};return false}$.fn.emulateTransitionEnd=function(duration){var called=false,$el=this;$(this).one($.support.transition.end,function(){called=true});
var callback=function(){if(!called)$($el).trigger($.support.transition.end)};setTimeout(callback,duration);return this};$(function(){$.support.transition=transitionEnd()})}(jQuery);
+function($){var dismiss='[data-dismiss\x3d"alert"]';var Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.prototype.close=function(e){var $this=$(this);var selector=$this.attr("data-target");if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}var $parent=$(selector);if(e)e.preventDefault();if(!$parent.length)$parent=$this.hasClass("alert")?$this:$this.parent();$parent.trigger(e=$.Event("close.bs.alert"));if(e.isDefaultPrevented())return;
$parent.removeClass("in");function removeElement(){$parent.trigger("closed.bs.alert").remove()}$.support.transition&&$parent.hasClass("fade")?$parent.one($.support.transition.end,removeElement).emulateTransitionEnd(150):removeElement()};var old=$.fn.alert;$.fn.alert=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.alert");if(!data)$this.data("bs.alert",data=new Alert(this));if(typeof option=="string")data[option].call($this)})};$.fn.alert.Constructor=Alert;$.fn.alert.noConflict=
function(){$.fn.alert=old;return this};$(document).on("click.bs.alert.data-api",dismiss,Alert.prototype.close)}(jQuery);
+function($){var Button=function(element,options){this.$element=$(element);this.options=$.extend({},Button.DEFAULTS,options);this.isLoading=false};Button.DEFAULTS={loadingText:"loading..."};Button.prototype.setState=function(state){var d="disabled";var $el=this.$element;var val=$el.is("input")?"val":"html";var data=$el.data();state=state+"Text";if(!data.resetText)$el.data("resetText",$el[val]());$el[val](data[state]||this.options[state]);setTimeout($.proxy(function(){if(state=="loadingText"){this.isLoading=
true;$el.addClass(d).attr(d,d)}else if(this.isLoading){this.isLoading=false;$el.removeClass(d).removeAttr(d)}},this),0)};Button.prototype.toggle=function(){var changed=true;var $parent=this.$element.closest('[data-toggle\x3d"buttons"]');if($parent.length){var $input=this.$element.find("input");if($input.prop("type")=="radio")if($input.prop("checked")&&this.$element.hasClass("active"))changed=false;else $parent.find(".active").removeClass("active");if(changed)$input.prop("checked",!this.$element.hasClass("active")).trigger("change")}if(changed)this.$element.toggleClass("active")};
var old=$.fn.button;$.fn.button=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.button");var options=typeof option=="object"&&option;if(!data)$this.data("bs.button",data=new Button(this,options));if(option=="toggle")data.toggle();else if(option)data.setState(option)})};$.fn.button.Constructor=Button;$.fn.button.noConflict=function(){$.fn.button=old;return this};$(document).on("click.bs.button.data-api","[data-toggle^\x3dbutton]",function(e){var $btn=$(e.target);
if(!$btn.hasClass("btn"))$btn=$btn.closest(".btn");$btn.button("toggle");e.preventDefault()})}(jQuery);
+function($){var Carousel=function(element,options){this.$element=$(element);this.$indicators=this.$element.find(".carousel-indicators");this.options=options;this.paused=this.sliding=this.interval=this.$active=this.$items=null;this.options.pause=="hover"&&this.$element.on("mouseenter",$.proxy(this.pause,this)).on("mouseleave",$.proxy(this.cycle,this))};Carousel.DEFAULTS={interval:5E3,pause:"hover",wrap:true};Carousel.prototype.cycle=function(e){e||(this.paused=false);this.interval&&clearInterval(this.interval);
this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval));return this};Carousel.prototype.getActiveIndex=function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)};Carousel.prototype.to=function(pos){var that=this;var activeIndex=this.getActiveIndex();if(pos>this.$items.length-1||pos<0)return;if(this.sliding)return this.$element.one("slid.bs.carousel",function(){that.to(pos)});
if(activeIndex==pos)return this.pause().cycle();return this.slide(pos>activeIndex?"next":"prev",$(this.$items[pos]))};Carousel.prototype.pause=function(e){e||(this.paused=true);if(this.$element.find(".next, .prev").length&&$.support.transition){this.$element.trigger($.support.transition.end);this.cycle(true)}this.interval=clearInterval(this.interval);return this};Carousel.prototype.next=function(){if(this.sliding)return;return this.slide("next")};Carousel.prototype.prev=function(){if(this.sliding)return;
return this.slide("prev")};Carousel.prototype.slide=function(type,next){var $active=this.$element.find(".item.active");var $next=next||$active[type]();var isCycling=this.interval;var direction=type=="next"?"left":"right";var fallback=type=="next"?"first":"last";var that=this;if(!$next.length){if(!this.options.wrap)return;$next=this.$element.find(".item")[fallback]()}if($next.hasClass("active"))return this.sliding=false;var e=$.Event("slide.bs.carousel",{relatedTarget:$next[0],direction:direction});
this.$element.trigger(e);if(e.isDefaultPrevented())return;this.sliding=true;isCycling&&this.pause();if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");this.$element.one("slid.bs.carousel",function(){var $nextIndicator=$(that.$indicators.children()[that.getActiveIndex()]);$nextIndicator&&$nextIndicator.addClass("active")})}if($.support.transition&&this.$element.hasClass("slide")){$next.addClass(type);$next[0].offsetWidth;$active.addClass(direction);$next.addClass(direction);
$active.one($.support.transition.end,function(){$next.removeClass([type,direction].join(" ")).addClass("active");$active.removeClass(["active",direction].join(" "));that.sliding=false;setTimeout(function(){that.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd($active.css("transition-duration").slice(0,-1)*1E3)}else{$active.removeClass("active");$next.addClass("active");this.sliding=false;this.$element.trigger("slid.bs.carousel")}isCycling&&this.cycle();return this};var old=$.fn.carousel;
$.fn.carousel=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.carousel");var options=$.extend({},Carousel.DEFAULTS,$this.data(),typeof option=="object"&&option);var action=typeof option=="string"?option:options.slide;if(!data)$this.data("bs.carousel",data=new Carousel(this,options));if(typeof option=="number")data.to(option);else if(action)data[action]();else if(options.interval)data.pause().cycle()})};$.fn.carousel.Constructor=Carousel;$.fn.carousel.noConflict=
function(){$.fn.carousel=old;return this};$(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var $this=$(this),href;var $target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""));var options=$.extend({},$target.data(),$this.data());var slideIndex=$this.attr("data-slide-to");if(slideIndex)options.interval=false;$target.carousel(options);if(slideIndex=$this.attr("data-slide-to"))$target.data("bs.carousel").to(slideIndex);e.preventDefault()});
$(window).on("load",function(){$('[data-ride\x3d"carousel"]').each(function(){var $carousel=$(this);$carousel.carousel($carousel.data())})})}(jQuery);
+function($){var Collapse=function(element,options){this.$element=$(element);this.options=$.extend({},Collapse.DEFAULTS,options);this.transitioning=null;if(this.options.parent)this.$parent=$(this.options.parent);if(this.options.toggle)this.toggle()};Collapse.DEFAULTS={toggle:true};Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"};Collapse.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var startEvent=
$.Event("show.bs.collapse");this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;var actives=this.$parent&&this.$parent.find("\x3e .panel \x3e .in");if(actives&&actives.length){var hasData=actives.data("bs.collapse");if(hasData&&hasData.transitioning)return;actives.collapse("hide");hasData||actives.data("bs.collapse",null)}var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0);this.transitioning=1;var complete=function(){this.$element.removeClass("collapsing").addClass("collapse in")[dimension]("auto");
this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350)[dimension](this.$element[0][scrollSize])};Collapse.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var startEvent=$.Event("hide.bs.collapse");this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;
var dimension=this.dimension();this.$element[dimension](this.$element[dimension]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var complete=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!$.support.transition)return complete.call(this);this.$element[dimension](0).one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350)};Collapse.prototype.toggle=
function(){this[this.$element.hasClass("in")?"hide":"show"]()};var old=$.fn.collapse;$.fn.collapse=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.collapse");var options=$.extend({},Collapse.DEFAULTS,$this.data(),typeof option=="object"&&option);if(!data&&options.toggle&&option=="show")option=!option;if(!data)$this.data("bs.collapse",data=new Collapse(this,options));if(typeof option=="string")data[option]()})};$.fn.collapse.Constructor=Collapse;$.fn.collapse.noConflict=
function(){$.fn.collapse=old;return this};$(document).on("click.bs.collapse.data-api","[data-toggle\x3dcollapse]",function(e){var $this=$(this),href;var target=$this.attr("data-target")||e.preventDefault()||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"");var $target=$(target);var data=$target.data("bs.collapse");var option=data?"toggle":$this.data();var parent=$this.attr("data-parent");var $parent=parent&&$(parent);if(!data||!data.transitioning){if($parent)$parent.find('[data-toggle\x3dcollapse][data-parent\x3d"'+
parent+'"]').not($this).addClass("collapsed");$this[$target.hasClass("in")?"addClass":"removeClass"]("collapsed")}$target.collapse(option)})}(jQuery);
+function($){var backdrop=".dropdown-backdrop";var toggle="[data-toggle\x3ddropdown]";var Dropdown=function(element){$(element).on("click.bs.dropdown",this.toggle)};Dropdown.prototype.toggle=function(e){var $this=$(this);if($this.is(".disabled, :disabled"))return;var $parent=getParent($this);var isActive=$parent.hasClass("open");clearMenus();if(!isActive){if("ontouchstart"in document.documentElement&&!$parent.closest(".navbar-nav").length)$('\x3cdiv class\x3d"dropdown-backdrop"/\x3e').insertAfter($(this)).on("click",
clearMenus);var relatedTarget={relatedTarget:this};$parent.trigger(e=$.Event("show.bs.dropdown",relatedTarget));if(e.isDefaultPrevented())return;$parent.toggleClass("open").trigger("shown.bs.dropdown",relatedTarget);$this.focus()}return false};Dropdown.prototype.keydown=function(e){if(!/(38|40|27)/.test(e.keyCode))return;var $this=$(this);e.preventDefault();e.stopPropagation();if($this.is(".disabled, :disabled"))return;var $parent=getParent($this);var isActive=$parent.hasClass("open");if(!isActive||
isActive&&e.keyCode==27){if(e.which==27)$parent.find(toggle).focus();return $this.click()}var desc=" li:not(.divider):visible a";var $items=$parent.find("[role\x3dmenu]"+desc+", [role\x3dlistbox]"+desc);if(!$items.length)return;var index=$items.index($items.filter(":focus"));if(e.keyCode==38&&index>0)index--;if(e.keyCode==40&&index<$items.length-1)index++;if(!~index)index=0;$items.eq(index).focus()};function clearMenus(e){$(backdrop).remove();$(toggle).each(function(){var $parent=getParent($(this));
var relatedTarget={relatedTarget:this};if(!$parent.hasClass("open"))return;$parent.trigger(e=$.Event("hide.bs.dropdown",relatedTarget));if(e.isDefaultPrevented())return;$parent.removeClass("open").trigger("hidden.bs.dropdown",relatedTarget)})}function getParent($this){var selector=$this.attr("data-target");if(!selector){selector=$this.attr("href");selector=selector&&/#[A-Za-z]/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,"")}var $parent=selector&&$(selector);return $parent&&$parent.length?$parent:
$this.parent()}var old=$.fn.dropdown;$.fn.dropdown=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.dropdown");if(!data)$this.data("bs.dropdown",data=new Dropdown(this));if(typeof option=="string")data[option].call($this)})};$.fn.dropdown.Constructor=Dropdown;$.fn.dropdown.noConflict=function(){$.fn.dropdown=old;return this};$(document).on("click.bs.dropdown.data-api",clearMenus).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",
toggle,Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api",toggle+", [role\x3dmenu], [role\x3dlistbox]",Dropdown.prototype.keydown)}(jQuery);
+function($){var Modal=function(element,options){this.options=options;this.$element=$(element);this.$backdrop=this.isShown=null;if(this.options.remote)this.$element.find(".modal-content").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};Modal.DEFAULTS={backdrop:true,keyboard:true,show:true};Modal.prototype.toggle=function(_relatedTarget){return this[!this.isShown?"show":"hide"](_relatedTarget)};Modal.prototype.show=function(_relatedTarget){var that=this;
var e=$.Event("show.bs.modal",{relatedTarget:_relatedTarget});this.$element.trigger(e);if(this.isShown||e.isDefaultPrevented())return;this.isShown=true;this.escape();this.$element.on("click.dismiss.bs.modal",'[data-dismiss\x3d"modal"]',$.proxy(this.hide,this));this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");if(!that.$element.parent().length)that.$element.appendTo(document.body);that.$element.show().scrollTop(0);if(transition)that.$element[0].offsetWidth;
that.$element.addClass("in").attr("aria-hidden",false);that.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:_relatedTarget});transition?that.$element.find(".modal-dialog").one($.support.transition.end,function(){that.$element.focus().trigger(e)}).emulateTransitionEnd(300):that.$element.focus().trigger(e)})};Modal.prototype.hide=function(e){if(e)e.preventDefault();e=$.Event("hide.bs.modal");this.$element.trigger(e);if(!this.isShown||e.isDefaultPrevented())return;this.isShown=false;this.escape();
$(document).off("focusin.bs.modal");this.$element.removeClass("in").attr("aria-hidden",true).off("click.dismiss.bs.modal");$.support.transition&&this.$element.hasClass("fade")?this.$element.one($.support.transition.end,$.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()};Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){if(this.$element[0]!==e.target&&!this.$element.has(e.target).length)this.$element.focus()},
this))};Modal.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.bs.modal",$.proxy(function(e){e.which==27&&this.hide()},this));else if(!this.isShown)this.$element.off("keyup.dismiss.bs.modal")};Modal.prototype.hideModal=function(){var that=this;this.$element.hide();this.backdrop(function(){that.removeBackdrop();that.$element.trigger("hidden.bs.modal")})};Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=
null};Modal.prototype.backdrop=function(callback){var animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;this.$backdrop=$('\x3cdiv class\x3d"modal-backdrop '+animate+'" /\x3e').appendTo(document.body);this.$element.on("click.dismiss.bs.modal",$.proxy(function(e){if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this));if(doAnimate)this.$backdrop[0].offsetWidth;
this.$backdrop.addClass("in");if(!callback)return;doAnimate?this.$backdrop.one($.support.transition.end,callback).emulateTransitionEnd(150):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one($.support.transition.end,callback).emulateTransitionEnd(150):callback()}else if(callback)callback()};var old=$.fn.modal;$.fn.modal=function(option,_relatedTarget){return this.each(function(){var $this=$(this);
var data=$this.data("bs.modal");var options=$.extend({},Modal.DEFAULTS,$this.data(),typeof option=="object"&&option);if(!data)$this.data("bs.modal",data=new Modal(this,options));if(typeof option=="string")data[option](_relatedTarget);else if(options.show)data.show(_relatedTarget)})};$.fn.modal.Constructor=Modal;$.fn.modal.noConflict=function(){$.fn.modal=old;return this};$(document).on("click.bs.modal.data-api",'[data-toggle\x3d"modal"]',function(e){var $this=$(this);var href=$this.attr("href");var $target=
$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,""));var option=$target.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());if($this.is("a"))e.preventDefault();$target.modal(option,this).one("hide",function(){$this.is(":visible")&&$this.focus()})});$(document).on("show.bs.modal",".modal",function(){$(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){$(document.body).removeClass("modal-open")})}(jQuery);
+function($){var Tooltip=function(element,options){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",element,options)};Tooltip.DEFAULTS={animation:true,placement:"top",selector:false,template:'\x3cdiv class\x3d"tooltip"\x3e\x3cdiv class\x3d"tooltip-arrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"tooltip-inner"\x3e\x3c/div\x3e\x3c/div\x3e',trigger:"hover focus",title:"",delay:0,html:false,container:false};Tooltip.prototype.init=function(type,element,options){this.enabled=
true;this.type=type;this.$element=$(element);this.options=this.getOptions(options);var triggers=this.options.trigger.split(" ");for(var i=triggers.length;i--;){var trigger=triggers[i];if(trigger=="click")this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this));else if(trigger!="manual"){var eventIn=trigger=="hover"?"mouseenter":"focusin";var eventOut=trigger=="hover"?"mouseleave":"focusout";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,
this));this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS};Tooltip.prototype.getOptions=function(options){options=$.extend({},this.getDefaults(),this.$element.data(),options);if(options.delay&&typeof options.delay=="number")options.delay={show:options.delay,hide:options.delay};return options};
Tooltip.prototype.getDelegateOptions=function(){var options={};var defaults=this.getDefaults();this._options&&$.each(this._options,function(key,value){if(defaults[key]!=value)options[key]=value});return options};Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(self.timeout);self.hoverState="in";if(!self.options.delay||!self.options.delay.show)return self.show();self.timeout=
setTimeout(function(){if(self.hoverState=="in")self.show()},self.options.delay.show)};Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(self.timeout);self.hoverState="out";if(!self.options.delay||!self.options.delay.hide)return self.hide();self.timeout=setTimeout(function(){if(self.hoverState=="out")self.hide()},self.options.delay.hide)};Tooltip.prototype.show=function(){var e=
$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);if(e.isDefaultPrevented())return;var that=this;var $tip=this.tip();this.setContent();if(this.options.animation)$tip.addClass("fade");var placement=typeof this.options.placement=="function"?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement;var autoToken=/\s?auto?\s?/i;var autoPlace=autoToken.test(placement);if(autoPlace)placement=placement.replace(autoToken,"")||"top";$tip.detach().css({top:0,
left:0,display:"block"}).addClass(placement);this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element);var pos=this.getPosition();var actualWidth=$tip[0].offsetWidth;var actualHeight=$tip[0].offsetHeight;if(autoPlace){var $parent=this.$element.parent();var orgPlacement=placement;var docScroll=document.documentElement.scrollTop||document.body.scrollTop;var parentWidth=this.options.container=="body"?window.innerWidth:$parent.outerWidth();var parentHeight=this.options.container==
"body"?window.innerHeight:$parent.outerHeight();var parentLeft=this.options.container=="body"?0:$parent.offset().left;placement=placement=="bottom"&&pos.top+pos.height+actualHeight-docScroll>parentHeight?"top":placement=="top"&&pos.top-docScroll-actualHeight<0?"bottom":placement=="right"&&pos.right+actualWidth>parentWidth?"left":placement=="left"&&pos.left-actualWidth<parentLeft?"right":placement;$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,
pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement);this.hoverState=null;var complete=function(){that.$element.trigger("shown.bs."+that.type)};$.support.transition&&this.$tip.hasClass("fade")?$tip.one($.support.transition.end,complete).emulateTransitionEnd(150):complete()}};Tooltip.prototype.applyPlacement=function(offset,placement){var replace;var $tip=this.tip();var width=$tip[0].offsetWidth;var height=$tip[0].offsetHeight;var marginTop=parseInt($tip.css("margin-top"),
10);var marginLeft=parseInt($tip.css("margin-left"),10);if(isNaN(marginTop))marginTop=0;if(isNaN(marginLeft))marginLeft=0;offset.top=offset.top+marginTop;offset.left=offset.left+marginLeft;$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0);$tip.addClass("in");var actualWidth=$tip[0].offsetWidth;var actualHeight=$tip[0].offsetHeight;if(placement=="top"&&actualHeight!=height){replace=true;offset.top=offset.top+height-
actualHeight}if(/bottom|top/.test(placement)){var delta=0;if(offset.left<0){delta=offset.left*-2;offset.left=0;$tip.offset(offset);actualWidth=$tip[0].offsetWidth;actualHeight=$tip[0].offsetHeight}this.replaceArrow(delta-width+actualWidth,actualWidth,"left")}else this.replaceArrow(actualHeight-height,actualHeight,"top");if(replace)$tip.offset(offset)};Tooltip.prototype.replaceArrow=function(delta,dimension,position){this.arrow().css(position,delta?50*(1-delta/dimension)+"%":"")};Tooltip.prototype.setContent=
function(){var $tip=this.tip();var title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title);$tip.removeClass("fade in top bottom left right")};Tooltip.prototype.hide=function(){var that=this;var $tip=this.tip();var e=$.Event("hide.bs."+this.type);function complete(){if(that.hoverState!="in")$tip.detach();that.$element.trigger("hidden.bs."+that.type)}this.$element.trigger(e);if(e.isDefaultPrevented())return;$tip.removeClass("in");$.support.transition&&this.$tip.hasClass("fade")?
$tip.one($.support.transition.end,complete).emulateTransitionEnd(150):complete();this.hoverState=null;return this};Tooltip.prototype.fixTitle=function(){var $e=this.$element;if($e.attr("title")||typeof $e.attr("data-original-title")!="string")$e.attr("data-original-title",$e.attr("title")||"").attr("title","")};Tooltip.prototype.hasContent=function(){return this.getTitle()};Tooltip.prototype.getPosition=function(){var el=this.$element[0];return $.extend({},typeof el.getBoundingClientRect=="function"?
el.getBoundingClientRect():{width:el.offsetWidth,height:el.offsetHeight},this.$element.offset())};Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return placement=="bottom"?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:placement=="top"?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:placement=="left"?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+
pos.width}};Tooltip.prototype.getTitle=function(){var title;var $e=this.$element;var o=this.options;title=$e.attr("data-original-title")||(typeof o.title=="function"?o.title.call($e[0]):o.title);return title};Tooltip.prototype.tip=function(){return this.$tip=this.$tip||$(this.options.template)};Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};Tooltip.prototype.validate=function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=
null}};Tooltip.prototype.enable=function(){this.enabled=true};Tooltip.prototype.disable=function(){this.enabled=false};Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled};Tooltip.prototype.toggle=function(e){var self=e?$(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;self.tip().hasClass("in")?self.leave(self):self.enter(self)};Tooltip.prototype.destroy=function(){clearTimeout(this.timeout);this.hide().$element.off("."+this.type).removeData("bs."+
this.type)};var old=$.fn.tooltip;$.fn.tooltip=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.tooltip");var options=typeof option=="object"&&option;if(!data&&option=="destroy")return;if(!data)$this.data("bs.tooltip",data=new Tooltip(this,options));if(typeof option=="string")data[option]()})};$.fn.tooltip.Constructor=Tooltip;$.fn.tooltip.noConflict=function(){$.fn.tooltip=old;return this}}(jQuery);
+function($){var Popover=function(element,options){this.init("popover",element,options)};if(!$.fn.tooltip)throw new Error("Popover requires tooltip.js");Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'\x3cdiv class\x3d"popover"\x3e\x3cdiv class\x3d"arrow"\x3e\x3c/div\x3e\x3ch3 class\x3d"popover-title"\x3e\x3c/h3\x3e\x3cdiv class\x3d"popover-content"\x3e\x3c/div\x3e\x3c/div\x3e'});Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype);
Popover.prototype.constructor=Popover;Popover.prototype.getDefaults=function(){return Popover.DEFAULTS};Popover.prototype.setContent=function(){var $tip=this.tip();var title=this.getTitle();var content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title);$tip.find(".popover-content")[this.options.html?typeof content=="string"?"html":"append":"text"](content);$tip.removeClass("fade top bottom left right in");if(!$tip.find(".popover-title").html())$tip.find(".popover-title").hide()};
Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()};Popover.prototype.getContent=function(){var $e=this.$element;var o=this.options;return $e.attr("data-content")||(typeof o.content=="function"?o.content.call($e[0]):o.content)};Popover.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};Popover.prototype.tip=function(){if(!this.$tip)this.$tip=$(this.options.template);return this.$tip};var old=$.fn.popover;$.fn.popover=function(option){return this.each(function(){var $this=
$(this);var data=$this.data("bs.popover");var options=typeof option=="object"&&option;if(!data&&option=="destroy")return;if(!data)$this.data("bs.popover",data=new Popover(this,options));if(typeof option=="string")data[option]()})};$.fn.popover.Constructor=Popover;$.fn.popover.noConflict=function(){$.fn.popover=old;return this}}(jQuery);
+function($){function ScrollSpy(element,options){var href;var process=$.proxy(this.process,this);this.$element=$(element).is("body")?$(window):$(element);this.$body=$("body");this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",process);this.options=$.extend({},ScrollSpy.DEFAULTS,options);this.selector=(this.options.target||(href=$(element).attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li \x3e a";this.offsets=$([]);this.targets=$([]);this.activeTarget=null;this.refresh();
this.process()}ScrollSpy.DEFAULTS={offset:10};ScrollSpy.prototype.refresh=function(){var offsetMethod=this.$element[0]==window?"offset":"position";this.offsets=$([]);this.targets=$([]);var self=this;var $targets=this.$body.find(this.selector).map(function(){var $el=$(this);var href=$el.data("target")||$el.attr("href");var $href=/^#./.test(href)&&$(href);return $href&&$href.length&&$href.is(":visible")&&[[$href[offsetMethod]().top+(!$.isWindow(self.$scrollElement.get(0))&&self.$scrollElement.scrollTop()),
href]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){self.offsets.push(this[0]);self.targets.push(this[1])})};ScrollSpy.prototype.process=function(){var scrollTop=this.$scrollElement.scrollTop()+this.options.offset;var scrollHeight=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight;var maxScroll=scrollHeight-this.$scrollElement.height();var offsets=this.offsets;var targets=this.targets;var activeTarget=this.activeTarget;var i;if(scrollTop>=maxScroll)return activeTarget!=
(i=targets.last()[0])&&this.activate(i);if(activeTarget&&scrollTop<=offsets[0])return activeTarget!=(i=targets[0])&&this.activate(i);for(i=offsets.length;i--;)activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(!offsets[i+1]||scrollTop<=offsets[i+1])&&this.activate(targets[i])};ScrollSpy.prototype.activate=function(target){this.activeTarget=target;$(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var selector=this.selector+'[data-target\x3d"'+target+'"],'+this.selector+
'[href\x3d"'+target+'"]';var active=$(selector).parents("li").addClass("active");if(active.parent(".dropdown-menu").length)active=active.closest("li.dropdown").addClass("active");active.trigger("activate.bs.scrollspy")};var old=$.fn.scrollspy;$.fn.scrollspy=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.scrollspy");var options=typeof option=="object"&&option;if(!data)$this.data("bs.scrollspy",data=new ScrollSpy(this,options));if(typeof option=="string")data[option]()})};
$.fn.scrollspy.Constructor=ScrollSpy;$.fn.scrollspy.noConflict=function(){$.fn.scrollspy=old;return this};$(window).on("load",function(){$('[data-spy\x3d"scroll"]').each(function(){var $spy=$(this);$spy.scrollspy($spy.data())})})}(jQuery);
+function($){var Tab=function(element){this.element=$(element)};Tab.prototype.show=function(){var $this=this.element;var $ul=$this.closest("ul:not(.dropdown-menu)");var selector=$this.data("target");if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}if($this.parent("li").hasClass("active"))return;var previous=$ul.find(".active:last a")[0];var e=$.Event("show.bs.tab",{relatedTarget:previous});$this.trigger(e);if(e.isDefaultPrevented())return;var $target=
$(selector);this.activate($this.parent("li"),$ul);this.activate($target,$target.parent(),function(){$this.trigger({type:"shown.bs.tab",relatedTarget:previous})})};Tab.prototype.activate=function(element,container,callback){var $active=container.find("\x3e .active");var transition=callback&&$.support.transition&&$active.hasClass("fade");function next(){$active.removeClass("active").find("\x3e .dropdown-menu \x3e .active").removeClass("active");element.addClass("active");if(transition){element[0].offsetWidth;
element.addClass("in")}else element.removeClass("fade");if(element.parent(".dropdown-menu"))element.closest("li.dropdown").addClass("active");callback&&callback()}transition?$active.one($.support.transition.end,next).emulateTransitionEnd(150):next();$active.removeClass("in")};var old=$.fn.tab;$.fn.tab=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.tab");if(!data)$this.data("bs.tab",data=new Tab(this));if(typeof option=="string")data[option]()})};$.fn.tab.Constructor=
Tab;$.fn.tab.noConflict=function(){$.fn.tab=old;return this};$(document).on("click.bs.tab.data-api",'[data-toggle\x3d"tab"], [data-toggle\x3d"pill"]',function(e){e.preventDefault();$(this).tab("show")})}(jQuery);
+function($){var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options);this.$window=$(window).on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this));this.$element=$(element);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()};Affix.RESET="affix affix-top affix-bottom";Affix.DEFAULTS={offset:0};Affix.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;
this.$element.removeClass(Affix.RESET).addClass("affix");var scrollTop=this.$window.scrollTop();var position=this.$element.offset();return this.pinnedOffset=position.top-scrollTop};Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)};Affix.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var scrollHeight=$(document).height();var scrollTop=this.$window.scrollTop();var position=this.$element.offset();var offset=this.options.offset;
var offsetTop=offset.top;var offsetBottom=offset.bottom;if(this.affixed=="top")position.top+=scrollTop;if(typeof offset!="object")offsetBottom=offsetTop=offset;if(typeof offsetTop=="function")offsetTop=offset.top(this.$element);if(typeof offsetBottom=="function")offsetBottom=offset.bottom(this.$element);var affix=this.unpin!=null&&scrollTop+this.unpin<=position.top?false:offsetBottom!=null&&position.top+this.$element.height()>=scrollHeight-offsetBottom?"bottom":offsetTop!=null&&scrollTop<=offsetTop?
"top":false;if(this.affixed===affix)return;if(this.unpin)this.$element.css("top","");var affixType="affix"+(affix?"-"+affix:"");var e=$.Event(affixType+".bs.affix");this.$element.trigger(e);if(e.isDefaultPrevented())return;this.affixed=affix;this.unpin=affix=="bottom"?this.getPinnedOffset():null;this.$element.removeClass(Affix.RESET).addClass(affixType).trigger($.Event(affixType.replace("affix","affixed")));if(affix=="bottom")this.$element.offset({top:scrollHeight-offsetBottom-this.$element.height()})};
var old=$.fn.affix;$.fn.affix=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.affix");var options=typeof option=="object"&&option;if(!data)$this.data("bs.affix",data=new Affix(this,options));if(typeof option=="string")data[option]()})};$.fn.affix.Constructor=Affix;$.fn.affix.noConflict=function(){$.fn.affix=old;return this};$(window).on("load",function(){$('[data-spy\x3d"affix"]').each(function(){var $spy=$(this);var data=$spy.data();data.offset=data.offset||
{};if(data.offsetBottom)data.offset.bottom=data.offsetBottom;if(data.offsetTop)data.offset.top=data.offsetTop;$spy.affix(data)})})}(jQuery);